{"abi":[{"type":"constructor","inputs":[{"name":"_ostiumTrading","type":"address","internalType":"address"},{"name":"_ostiumTradingStorage","type":"address","internalType":"address"},{"name":"_collateralToken","type":"address","internalType":"address"},{"name":"_gbpUsdPairIndex","type":"uint16","internalType":"uint16"},{"name":"_targetLeverage","type":"uint256","internalType":"uint256"},{"name":"_priceOracle","type":"address","internalType":"address"},{"name":"_marketIdentifier","type":"bytes32","internalType":"bytes32"}],"stateMutability":"nonpayable"},{"type":"function","name":"MAX_LEVERAGE","inputs":[],"outputs":[{"name":"","type":"uint256","internalType":"uint256"}],"stateMutability":"view"},{"type":"function","name":"MAX_POSITION_SIZE","inputs":[],"outputs":[{"name":"","type":"uint256","internalType":"uint256"}],"stateMutability":"view"},{"type":"function","name":"POSITION_INDEX","inputs":[],"outputs":[{"name":"","type":"uint8","internalType":"uint8"}],"stateMutability":"view"},{"type":"function","name":"PRECISION_2","inputs":[],"outputs":[{"name":"","type":"uint32","internalType":"uint32"}],"stateMutability":"view"},{"type":"function","name":"SLIPPAGE_PRECISION","inputs":[],"outputs":[{"name":"","type":"uint256","internalType":"uint256"}],"stateMutability":"view"},{"type":"function","name":"builderFee","inputs":[],"outputs":[{"name":"","type":"uint32","internalType":"uint32"}],"stateMutability":"view"},{"type":"function","name":"builderFeeRecipient","inputs":[],"outputs":[{"name":"","type":"address","internalType":"address"}],"stateMutability":"view"},{"type":"function","name":"collateralToken","inputs":[],"outputs":[{"name":"","type":"address","internalType":"contract IERC20"}],"stateMutability":"view"},{"type":"function","name":"decreasePosition","inputs":[{"name":"market","type":"bytes32","internalType":"bytes32"},{"name":"collateralDelta","type":"uint256","internalType":"uint256"},{"name":"sizeDelta","type":"uint256","internalType":"uint256"},{"name":"isLong","type":"bool","internalType":"bool"}],"outputs":[],"stateMutability":"nonpayable"},{"type":"function","name":"emergencyWithdraw","inputs":[{"name":"token","type":"address","internalType":"address"},{"name":"amount","type":"uint256","internalType":"uint256"}],"outputs":[],"stateMutability":"nonpayable"},{"type":"function","name":"estimatedFeeRateBPS","inputs":[],"outputs":[{"name":"","type":"uint256","internalType":"uint256"}],"stateMutability":"view"},{"type":"function","name":"gbpUsdPairIndex","inputs":[],"outputs":[{"name":"","type":"uint16","internalType":"uint16"}],"stateMutability":"view"},{"type":"function","name":"getPositionCollateral","inputs":[{"name":"market","type":"bytes32","internalType":"bytes32"},{"name":"account","type":"address","internalType":"address"}],"outputs":[{"name":"collateral","type":"uint256","internalType":"uint256"}],"stateMutability":"view"},{"type":"function","name":"getPositionPnL","inputs":[{"name":"market","type":"bytes32","internalType":"bytes32"},{"name":"account","type":"address","internalType":"address"}],"outputs":[{"name":"pnl","type":"int256","internalType":"int256"}],"stateMutability":"view"},{"type":"function","name":"getPositionSize","inputs":[{"name":"market","type":"bytes32","internalType":"bytes32"},{"name":"account","type":"address","internalType":"address"}],"outputs":[{"name":"size","type":"uint256","internalType":"uint256"}],"stateMutability":"view"},{"type":"function","name":"increasePosition","inputs":[{"name":"market","type":"bytes32","internalType":"bytes32"},{"name":"collateral","type":"uint256","internalType":"uint256"},{"name":"sizeDelta","type":"uint256","internalType":"uint256"},{"name":"isLong","type":"bool","internalType":"bool"}],"outputs":[],"stateMutability":"nonpayable"},{"type":"function","name":"marketIdentifier","inputs":[],"outputs":[{"name":"","type":"bytes32","internalType":"bytes32"}],"stateMutability":"view"},{"type":"function","name":"ostiumTrading","inputs":[],"outputs":[{"name":"","type":"address","internalType":"contract IOstiumTrading"}],"stateMutability":"view"},{"type":"function","name":"ostiumTradingStorage","inputs":[],"outputs":[{"name":"","type":"address","internalType":"contract IOstiumTradingStorage"}],"stateMutability":"view"},{"type":"function","name":"owner","inputs":[],"outputs":[{"name":"","type":"address","internalType":"address"}],"stateMutability":"view"},{"type":"function","name":"priceOracle","inputs":[],"outputs":[{"name":"","type":"address","internalType":"address"}],"stateMutability":"view"},{"type":"function","name":"renounceOwnership","inputs":[],"outputs":[],"stateMutability":"nonpayable"},{"type":"function","name":"setBuilderFee","inputs":[{"name":"newFee","type":"uint32","internalType":"uint32"}],"outputs":[],"stateMutability":"nonpayable"},{"type":"function","name":"setBuilderFeeRecipient","inputs":[{"name":"newRecipient","type":"address","internalType":"address"}],"outputs":[],"stateMutability":"nonpayable"},{"type":"function","name":"setEstimatedFeeRate","inputs":[{"name":"newRate","type":"uint256","internalType":"uint256"}],"outputs":[],"stateMutability":"nonpayable"},{"type":"function","name":"setSlippageTolerance","inputs":[{"name":"newSlippage","type":"uint256","internalType":"uint256"}],"outputs":[],"stateMutability":"nonpayable"},{"type":"function","name":"setTargetLeverage","inputs":[{"name":"newLeverage","type":"uint256","internalType":"uint256"}],"outputs":[],"stateMutability":"nonpayable"},{"type":"function","name":"slippageTolerance","inputs":[],"outputs":[{"name":"","type":"uint256","internalType":"uint256"}],"stateMutability":"view"},{"type":"function","name":"targetLeverage","inputs":[],"outputs":[{"name":"","type":"uint256","internalType":"uint256"}],"stateMutability":"view"},{"type":"function","name":"transferOwnership","inputs":[{"name":"newOwner","type":"address","internalType":"address"}],"outputs":[],"stateMutability":"nonpayable"},{"type":"event","name":"BuilderFeeUpdated","inputs":[{"name":"oldFee","type":"uint32","indexed":false,"internalType":"uint32"},{"name":"newFee","type":"uint32","indexed":false,"internalType":"uint32"}],"anonymous":false},{"type":"event","name":"EstimatedFeeRateUpdated","inputs":[{"name":"oldRate","type":"uint256","indexed":false,"internalType":"uint256"},{"name":"newRate","type":"uint256","indexed":false,"internalType":"uint256"}],"anonymous":false},{"type":"event","name":"OwnershipTransferred","inputs":[{"name":"previousOwner","type":"address","indexed":true,"internalType":"address"},{"name":"newOwner","type":"address","indexed":true,"internalType":"address"}],"anonymous":false},{"type":"event","name":"PositionClosed","inputs":[{"name":"percentageClosed","type":"uint256","indexed":false,"internalType":"uint256"},{"name":"collateralReturned","type":"uint256","indexed":false,"internalType":"uint256"}],"anonymous":false},{"type":"event","name":"PositionOpened","inputs":[{"name":"collateral","type":"uint256","indexed":false,"internalType":"uint256"},{"name":"notionalSize","type":"uint256","indexed":false,"internalType":"uint256"},{"name":"leverage","type":"uint32","indexed":false,"internalType":"uint32"}],"anonymous":false},{"type":"event","name":"SlippageToleranceUpdated","inputs":[{"name":"oldSlippage","type":"uint256","indexed":false,"internalType":"uint256"},{"name":"newSlippage","type":"uint256","indexed":false,"internalType":"uint256"}],"anonymous":false},{"type":"event","name":"TargetLeverageUpdated","inputs":[{"name":"oldLeverage","type":"uint256","indexed":false,"internalType":"uint256"},{"name":"newLeverage","type":"uint256","indexed":false,"internalType":"uint256"}],"anonymous":false},{"type":"error","name":"InvalidAddress","inputs":[]},{"type":"error","name":"InvalidLeverage","inputs":[]},{"type":"error","name":"InvalidPairIndex","inputs":[]},{"type":"error","name":"InvalidSlippage","inputs":[]},{"type":"error","name":"LeverageTooHigh","inputs":[]},{"type":"error","name":"OwnableInvalidOwner","inputs":[{"name":"owner","type":"address","internalType":"address"}]},{"type":"error","name":"OwnableUnauthorizedAccount","inputs":[{"name":"account","type":"address","internalType":"address"}]},{"type":"error","name":"PositionCloseFailed","inputs":[]},{"type":"error","name":"PositionOpenFailed","inputs":[]},{"type":"error","name":"PositionTooLarge","inputs":[]},{"type":"error","name":"ReentrancyGuardReentrantCall","inputs":[]},{"type":"error","name":"SafeERC20FailedOperation","inputs":[{"name":"token","type":"address","internalType":"address"}]},{"type":"error","name":"ZeroAmount","inputs":[]}],"bytecode":{"object":"0x61012034620002a257601f62001d8838819003918201601f1916830191906001600160401b03831184841017620002a6578160e09285926040958652833981010312620002a2576200005182620002ba565b6200005f60208401620002ba565b6200006c838501620002ba565b93606081015161ffff81168103620002a25760808201519160c06200009460a08301620002ba565b9101519633156200028b575f8054336001600160a01b0319808316821784558a519990986001600160a01b03949093859391908416907f8be0079c531659141344cd1fd0a4f28419497f9722a3daafe3b4186f6b6457e09080a360018055169788156200027c575081169182156200026b5781169283156200026b57169586156200025a5788156200025a578415620002495760805260a05260c05260e05260055560028054919091169190911790556101009182526101f4600355600480546001600160c01b0319163360201b600160201b600160c01b0316179055606460065551611ab89182620002d08339608051828181610179015281816108b5015281816109a60152611452015260a0518281816104190152818161071a01528181610a2e01528181610c6001528181610e6e015281816113e5015281816117d20152611a09015260c0518281816103b8015281816106940152611517015260e051828181610835015281816109ec01528181610d8801528181610e2d015281816113a10152818161178f01526119c801525181818161049c0152818161064d01528181610df001528181611751015261198e0152f35b8751633fe89cb960e11b8152600490fd5b875163e6c4247b60e01b8152600490fd5b885163e6c4247b60e01b8152600490fd5b63e6c4247b60e01b8152600490fd5b8651631e4fbdf760e01b81525f6004820152602490fd5b5f80fd5b634e487b7160e01b5f52604160045260245ffd5b51906001600160a01b0382168203620002a25756fe60806040526004361015610011575f80fd5b5f803560e01c8063117da1ee1461101657806316c3e3b214610fb1578063217fcbbb14610f185780632442ec1914610efc5780632630c12f14610ed357806327f3a0d114610dd05780632957789c14610dac5780632f739cc214610d6d57806338b2e47914610d455780633df0195614610616578063453943f0146105895780634ce11d21146105a557806355f2ebfb14610589578063577270cd1461055f5780635ec1215f1461053f578063715018a6146104e65780638da5cb5b146104bf5780638f1c66b21461048457806395ccea671461044857806396b21b8e146104035780639b45ec97146103e7578063b2016bd4146103a2578063bdd66380146102eb578063c96a2e60146102c2578063cbfb476914610292578063d03153aa14610274578063d667642114610256578063d6c946ea14610238578063f2fde38b146101ab5763f554886114610164575f80fd5b346101a857806003193601126101a8576040517f00000000000000000000000000000000000000000000000000000000000000006001600160a01b03168152602090f35b80fd5b50346101a85760203660031901126101a8576101c56110b1565b6101cd6110ee565b6001600160a01b0390811690811561021f575f54826bffffffffffffffffffffffff60a01b8216175f55167f8be0079c531659141344cd1fd0a4f28419497f9722a3daafe3b4186f6b6457e05f80a380f35b604051631e4fbdf760e01b815260048101849052602490fd5b50346101a857806003193601126101a8576020600554604051908152f35b50346101a857806003193601126101a8576020600654604051908152f35b50346101a857806003193601126101a8576020600354604051908152f35b50346101a85760403660031901126101a8576102ac611097565b5060206102ba60043561174b565b604051908152f35b50346101a857806003193601126101a857600454604051602091821c6001600160a01b03168152f35b50346101a85760203660031901126101a85760043563ffffffff9081811680910361039e576103186110ee565b6207a1208111610367577f6e57042ab4a180af7b81b70a59ebd71a2dbe7fd15cd3eeec6b935537f7ad848091604091600454918163ffffffff198416176004558351921682526020820152a180f35b60405162461bcd60e51b815260206004820152600f60248201526e08ccaca40caf0c6cacac8e640dac2f608b1b6044820152606490fd5b8280fd5b50346101a857806003193601126101a8576040517f00000000000000000000000000000000000000000000000000000000000000006001600160a01b03168152602090f35b50346101a857806003193601126101a857602060405160148152f35b50346101a857806003193601126101a8576040517f00000000000000000000000000000000000000000000000000000000000000006001600160a01b03168152602090f35b50346101a85760403660031901126101a8576104816104656110b1565b61046d6110ee565b6024359033906001600160a01b03166116f5565b80f35b50346101a857806003193601126101a85760206040517f00000000000000000000000000000000000000000000000000000000000000008152f35b50346101a857806003193601126101a857546040516001600160a01b039091168152602090f35b50346101a857806003193601126101a8576104ff6110ee565b5f80546001600160a01b0319811682556001600160a01b03167f8be0079c531659141344cd1fd0a4f28419497f9722a3daafe3b4186f6b6457e08280a380f35b50346101a857806003193601126101a857602060405164e8d4a510008152f35b50346101a857610582610571366110c7565b9290915061057d611356565b611379565b6001805580f35b50346101a857806003193601126101a857602060405160648152f35b50346101a85760203660031901126101a8576105bf6110b1565b6105c76110ee565b6001600160a01b038116156106045760048054640100000000600160c01b03191660209290921b640100000000600160c01b031691909117905580f35b60405163e6c4247b60e01b8152600490fd5b50346101a857610625366110c7565b610630929192611356565b811593848015610d3d575b610d2b5761064b61067292611119565b7f000000000000000000000000000000000000000000000000000000000000000014611165565b60055460148111610d195761068d64e8d4a5100091836111a2565b11610d07577f00000000000000000000000000000000000000000000000000000000000000006040516323b872dd60e01b60208201523360248201523060448201528260648201526064815260a0810181811067ffffffffffffffff821117610cf3576040526106fd90826112f1565b60405163095ea7b360e01b60208083018281526001600160a01b037f00000000000000000000000000000000000000000000000000000000000000001660248501526044808501879052845292939288906107596064876111fa565b85519082865af187513d82610cce575b505015610c53575b5050506005549260148411610c415763028f5c288411610c415783606481020460641484151715610c2d5760025460405163fefe46f160e01b815290602090829060049082906001600160a01b03165afa908115610bc0578691610bf7575b50806402540be4008102046402540be4001481151715610be357604051906107f7826111b5565b8382526402540be40060018060c01b03910216602082015285604082015285606082015230608082015263ffffffff606486021660a082015261ffff7f00000000000000000000000000000000000000000000000000000000000000001660c08201528560e082015260016101008201526004546040519081604081011067ffffffffffffffff604084011117610bcf5760408281019052602081811c6001600160a01b03908116845263ffffffff929092169083015260035491907f0000000000000000000000000000000000000000000000000000000000000000163b15610bcb57604080516301d0822360e61b8152845160048201526020808601516001600160c01b03908116602484015292860151831660448301526060860151909216606482015260808501516001600160a01b03908116608483015260a086015163ffffffff90811660a484015260c087015161ffff1660c484015260e087015160ff1660e48401526101009096015115156101048301528351811661012483015292909101519093166101448401526101648301889052610184830191909152869082906101a490829084907f000000000000000000000000000000000000000000000000000000000000000016622dc6c0f18015610bc057610bad575b506040516303acbacf60e21b81523060048201527f000000000000000000000000000000000000000000000000000000000000000061ffff1660248201525f6044820152610120919082816064816001600160a01b037f0000000000000000000000000000000000000000000000000000000000000000165afa928315610ba2578793610b73575b505061251c918284029184830484141715610b5f57612710809204815110610b005760a063ffffffff9101511690620e7ef0860260648702159360648802820414841715610b4b578190048210928315610b12575b505050610b005763ffffffff60647f487f8415ec2c66f8b4ec304901e2deebae2576ad0d17d59ed1ca3d163b148ad194606094604051948552602085015202166040820152a16001805580f35b604051633ca4cb0760e21b8152600490fd5b9091925062100590860290606487028204612904141715610b375704105f8080610ab3565b634e487b7160e01b5f52601160045260245ffd5b634e487b7160e01b88526011600452602488fd5b634e487b7160e01b87526011600452602487fd5b610b93929350803d10610b9b575b610b8b81836111fa565b810190611230565b905f80610a5e565b503d610b81565b6040513d89823e3d90fd5b610bb9909591956111e6565b935f6109d6565b6040513d88823e3d90fd5b8780fd5b634e487b7160e01b88526041600452602488fd5b634e487b7160e01b86526011600452602486fd5b90506020813d602011610c25575b81610c12602093836111fa565b81010312610c2157515f6107d0565b8580fd5b3d9150610c05565b634e487b7160e01b85526011600452602485fd5b604051633fe89cb960e11b8152600490fd5b60405160208101919091527f00000000000000000000000000000000000000000000000000000000000000006001600160a01b03166024820152604480820188905281526080810167ffffffffffffffff811182821017610bcf57610cc6939291610cc191604052826112f1565b6112f1565b5f8080610771565b909150610ceb57506001600160a01b0382163b15155b5f80610769565b600114610ce4565b634e487b7160e01b87526041600452602487fd5b604051630543a6e160e41b8152600490fd5b604051630a4f5a0760e01b8152600490fd5b604051631f2a200560e01b8152600490fd5b50831561063b565b50346101a85760403660031901126101a857610d5f611097565b5060206102ba600435611988565b50346101a857806003193601126101a857602060405161ffff7f0000000000000000000000000000000000000000000000000000000000000000168152f35b50346101a857806003193601126101a857602063ffffffff60045416604051908152f35b50346101a85760403660031901126101a857610dea611097565b50610e187f000000000000000000000000000000000000000000000000000000000000000060043514611165565b6040516303acbacf60e21b81523060048201527f000000000000000000000000000000000000000000000000000000000000000061ffff1660248201525f60448201526101209081816064816001600160a01b037f0000000000000000000000000000000000000000000000000000000000000000165afa918215610ec85760209392610eab575b505051604051908152f35b610ec19250803d10610b9b57610b8b81836111fa565b5f80610ea0565b6040513d85823e3d90fd5b50346101a857806003193601126101a8576002546040516001600160a01b039091168152602090f35b50346101a857806003193601126101a857602090604051908152f35b50346101a85760203660031901126101a857600435610f356110ee565b6101f48111610f785760407f0d3947c43063412ad16fda1a5eecef5ffc9e2dbb8f6ba1708f8d31062ba3e91291600654908060065582519182526020820152a180f35b60405162461bcd60e51b815260206004820152601160248201527008ccaca40e4c2e8ca40e8dede40d0d2ced607b1b6044820152606490fd5b50346101a85760203660031901126101a857600435610fce6110ee565b8015610c415760148111610d195760407fcfe013ced71c379420246c6e01c5e898ae031ebcf679c553a2ea18101e9ddf0191600554908060055582519182526020820152a180f35b50346101a85760203660031901126101a8576004356110336110ee565b8015801561108c575b61107a5760407fddd31550b26e9ef8ade466958be83ff8a014d9b4f36d546b61a6847a4530657591600354908060035582519182526020820152a180f35b60405163334ee9a160e01b8152600490fd5b506107d0811161103c565b602435906001600160a01b03821682036110ad57565b5f80fd5b600435906001600160a01b03821682036110ad57565b60809060031901126110ad5760043590602435906044359060643580151581036110ad5790565b5f546001600160a01b0316330361110157565b60405163118cdaa760e01b8152336004820152602490fd5b1561112057565b60405162461bcd60e51b815260206004820152601d60248201527f4f6e6c79206c6f6e6720706f736974696f6e7320737570706f727465640000006044820152606490fd5b1561116c57565b60405162461bcd60e51b815260206004820152600e60248201526d125b9d985b1a59081b585c9ad95d60921b6044820152606490fd5b81810292918115918404141715610b3757565b610120810190811067ffffffffffffffff8211176111d257604052565b634e487b7160e01b5f52604160045260245ffd5b67ffffffffffffffff81116111d257604052565b90601f8019910116810190811067ffffffffffffffff8211176111d257604052565b51906001600160c01b03821682036110ad57565b90816101209103126110ad5760405190611249826111b5565b805182526112596020820161121c565b602083015261126a6040820161121c565b604083015261127b6060820161121c565b606083015260808101516001600160a01b03811681036110ad57608083015260a081015163ffffffff811681036110ad5760a083015260c081015161ffff811681036110ad5760c083015260e081015160ff811681036110ad5760e0830152610100809101519081151582036110ad5782015290565b905f602091828151910182855af11561134b575f513d61134257506001600160a01b0381163b155b6113205750565b604051635274afe760e01b81526001600160a01b039091166004820152602490fd5b60011415611319565b6040513d5f823e3d90fd5b600260015414611367576002600155565b604051633ee5aeb560e01b8152600490fd5b61064b6113869293611119565b604080516303acbacf60e21b808252306004808401919091527f000000000000000000000000000000000000000000000000000000000000000061ffff811660248501525f604485018190526001600160a01b039690936101209290917f00000000000000000000000000000000000000000000000000000000000000008916908488606481855afa9788156116eb5787986116cc575b50875180156116bf5761143d60649163ffffffff60a08c015116906111a2565b0490818110611678575050612710965b5192897f00000000000000000000000000000000000000000000000000000000000000001660035490803b15611674578960a4898b80948f51968795869463f2f319cf60e01b865261ffff8d1690860152836024860152604485015282606485015260848401525af1801561166a5761164f575b5088519081523086820190815261ffff90931660208401525f60408401529184918391829081906060015b03915afa928315611645578593611626575b50506127108510159182611616575b50506116085760207f00000000000000000000000000000000000000000000000000000000000000009160248651809881936370a0823160e01b8352309083015285165afa9182156115fd57916115aa575b7fec57529334d17e7a08e3a28003d556458de39cc3eb43644dfdbf5b3522fb361e94508180611598575b505082519182526020820152a1565b6115a39133906116f5565b5f81611589565b90506020843d82116115f5575b816115c4602093836111fa565b810103126110ad577fec57529334d17e7a08e3a28003d556458de39cc3eb43644dfdbf5b3522fb361e93519061155f565b3d91506115b7565b8451903d90823e3d90fd5b835163023c20c360e11b8152fd5b600a919250519104105f8061150d565b61163d929350803d10610b9b57610b8b81836111fa565b905f806114fe565b87513d87823e3d90fd5b916114ec93919761166087946111e6565b97919350916114c1565b8a513d8a823e3d90fd5b8880fd5b612710908181029181830414901517156116ac57811561169957049661144d565b634e487b7160e01b885260128752602488fd5b634e487b7160e01b885260118752602488fd5b5050505050505050505050565b6116e4919850853d8711610b9b57610b8b81836111fa565b965f61141d565b89513d89823e3d90fd5b60405163a9059cbb60e01b60208201526001600160a01b0392909216602483015260448083019390935291815261173191610cc16064836111fa565b565b81810392915f138015828513169184121617610b3757565b611776907f000000000000000000000000000000000000000000000000000000000000000014611165565b6040516303acbacf60e21b8152306004808301919091527f000000000000000000000000000000000000000000000000000000000000000061ffff1660248301525f604483015290610120906001600160a01b039082816064817f000000000000000000000000000000000000000000000000000000000000000086165afa92831561134b575f93611969575b50508151156119625760208391600254166040519485809263fefe46f160e01b82525afa5f938161192f575b5061183b575050505f90565b60206064611855845163ffffffff60a087015116906111a2565b0492019261186e60018060c01b03918286511690611733565b845190949082161561192657600160ff1b9484810294905f8212878214166119135781860514901517156119005751169283156118ed5782145f198414166118da575005905f82136118bc57565b906118d7906127106118d0600654836111a2565b0490611733565b90565b601190634e487b7160e01b5f525260245ffd5b601282634e487b7160e01b5f525260245ffd5b601183634e487b7160e01b5f525260245ffd5b601185634e487b7160e01b5f525260245ffd5b50505050505f90565b90936020823d821161195a575b81611949602093836111fa565b810103126101a8575051925f61182f565b3d915061193c565b5050505f90565b611980929350803d10610b9b57610b8b81836111fa565b905f80611803565b6119b3907f000000000000000000000000000000000000000000000000000000000000000014611165565b6040516303acbacf60e21b81523060048201527f000000000000000000000000000000000000000000000000000000000000000061ffff1660248201525f60448201526101209081816064816001600160a01b037f0000000000000000000000000000000000000000000000000000000000000000165afa91821561134b575f92611a65575b50508051908115611a5f5760649163ffffffff60a0611a5b93015116906111a2565b0490565b50505f90565b611a7b9250803d10610b9b57610b8b81836111fa565b5f80611a3956fea26469706673582212209bd08a1b37a4432816de4ec296df09d7f2022704b24d20fd151090316be43fab64736f6c63430008140033","sourceMap":"868:20417:63:-:0;;;;;;;;;;;;;-1:-1:-1;;868:20417:63;;;;;-1:-1:-1;;;;;868:20417:63;;;;;;;;;;;;;;;;;;;;;;;;;;;;:::i;:::-;;;;;;:::i;:::-;;;;;;:::i;:::-;;;;;;;;;;;;;;;;;;;;;;;;:::i;:::-;;;;5375:10;;1273:26:21;1269:95;;-1:-1:-1;868:20417:63;;5375:10;-1:-1:-1;;;;;;868:20417:63;;;;;;;;;;;;-1:-1:-1;;;;;868:20417:63;;;;;5375:10;868:20417;;;;3052:40:21;;-1:-1:-1;3052:40:21;868:20417:63;;;;5401:28;;;5397:57;;868:20417;;;5468:35;;;5464:64;;868:20417;;5542:30;;;5538:59;;868:20417;5611:26;;;5607:55;;5676:31;;5672:60;;5863:20;;5859:50;;868:20417;5920:46;868:20417;5976:67;868:20417;6053:42;868:20417;6105:34;6149:32;868:20417;6191:26;868:20417;;;;;;;;;;;;6227:36;;;;6339:3;-1:-1:-1;868:20417:63;6372:14;868:20417;;-1:-1:-1;;;;;;868:20417:63;5375:10;868:20417;;-1:-1:-1;;;;;;;868:20417:63;;;;6631:3;6609:25;868:20417;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;5859:50;868:20417;;-1:-1:-1;;;5892:17:63;;;;;5672:60;868:20417;;-1:-1:-1;;;5716:16:63;;;;;5538:59;868:20417;;-1:-1:-1;;;5581:16:63;;;;;5397:57;-1:-1:-1;;;5438:16:63;;;;;1269:95:21;868:20417:63;;-1:-1:-1;;;1322:31:21;;-1:-1:-1;1322:31:21;;;868:20417:63;;;1322:31:21;868:20417:63;-1:-1:-1;868:20417:63;;;;;;-1:-1:-1;868:20417:63;;;;;-1:-1:-1;868:20417:63;;;;-1:-1:-1;;;;;868:20417:63;;;;;;:::o","linkReferences":{}},"deployedBytecode":{"object":"0x60806040526004361015610011575f80fd5b5f803560e01c8063117da1ee1461101657806316c3e3b214610fb1578063217fcbbb14610f185780632442ec1914610efc5780632630c12f14610ed357806327f3a0d114610dd05780632957789c14610dac5780632f739cc214610d6d57806338b2e47914610d455780633df0195614610616578063453943f0146105895780634ce11d21146105a557806355f2ebfb14610589578063577270cd1461055f5780635ec1215f1461053f578063715018a6146104e65780638da5cb5b146104bf5780638f1c66b21461048457806395ccea671461044857806396b21b8e146104035780639b45ec97146103e7578063b2016bd4146103a2578063bdd66380146102eb578063c96a2e60146102c2578063cbfb476914610292578063d03153aa14610274578063d667642114610256578063d6c946ea14610238578063f2fde38b146101ab5763f554886114610164575f80fd5b346101a857806003193601126101a8576040517f00000000000000000000000000000000000000000000000000000000000000006001600160a01b03168152602090f35b80fd5b50346101a85760203660031901126101a8576101c56110b1565b6101cd6110ee565b6001600160a01b0390811690811561021f575f54826bffffffffffffffffffffffff60a01b8216175f55167f8be0079c531659141344cd1fd0a4f28419497f9722a3daafe3b4186f6b6457e05f80a380f35b604051631e4fbdf760e01b815260048101849052602490fd5b50346101a857806003193601126101a8576020600554604051908152f35b50346101a857806003193601126101a8576020600654604051908152f35b50346101a857806003193601126101a8576020600354604051908152f35b50346101a85760403660031901126101a8576102ac611097565b5060206102ba60043561174b565b604051908152f35b50346101a857806003193601126101a857600454604051602091821c6001600160a01b03168152f35b50346101a85760203660031901126101a85760043563ffffffff9081811680910361039e576103186110ee565b6207a1208111610367577f6e57042ab4a180af7b81b70a59ebd71a2dbe7fd15cd3eeec6b935537f7ad848091604091600454918163ffffffff198416176004558351921682526020820152a180f35b60405162461bcd60e51b815260206004820152600f60248201526e08ccaca40caf0c6cacac8e640dac2f608b1b6044820152606490fd5b8280fd5b50346101a857806003193601126101a8576040517f00000000000000000000000000000000000000000000000000000000000000006001600160a01b03168152602090f35b50346101a857806003193601126101a857602060405160148152f35b50346101a857806003193601126101a8576040517f00000000000000000000000000000000000000000000000000000000000000006001600160a01b03168152602090f35b50346101a85760403660031901126101a8576104816104656110b1565b61046d6110ee565b6024359033906001600160a01b03166116f5565b80f35b50346101a857806003193601126101a85760206040517f00000000000000000000000000000000000000000000000000000000000000008152f35b50346101a857806003193601126101a857546040516001600160a01b039091168152602090f35b50346101a857806003193601126101a8576104ff6110ee565b5f80546001600160a01b0319811682556001600160a01b03167f8be0079c531659141344cd1fd0a4f28419497f9722a3daafe3b4186f6b6457e08280a380f35b50346101a857806003193601126101a857602060405164e8d4a510008152f35b50346101a857610582610571366110c7565b9290915061057d611356565b611379565b6001805580f35b50346101a857806003193601126101a857602060405160648152f35b50346101a85760203660031901126101a8576105bf6110b1565b6105c76110ee565b6001600160a01b038116156106045760048054640100000000600160c01b03191660209290921b640100000000600160c01b031691909117905580f35b60405163e6c4247b60e01b8152600490fd5b50346101a857610625366110c7565b610630929192611356565b811593848015610d3d575b610d2b5761064b61067292611119565b7f000000000000000000000000000000000000000000000000000000000000000014611165565b60055460148111610d195761068d64e8d4a5100091836111a2565b11610d07577f00000000000000000000000000000000000000000000000000000000000000006040516323b872dd60e01b60208201523360248201523060448201528260648201526064815260a0810181811067ffffffffffffffff821117610cf3576040526106fd90826112f1565b60405163095ea7b360e01b60208083018281526001600160a01b037f00000000000000000000000000000000000000000000000000000000000000001660248501526044808501879052845292939288906107596064876111fa565b85519082865af187513d82610cce575b505015610c53575b5050506005549260148411610c415763028f5c288411610c415783606481020460641484151715610c2d5760025460405163fefe46f160e01b815290602090829060049082906001600160a01b03165afa908115610bc0578691610bf7575b50806402540be4008102046402540be4001481151715610be357604051906107f7826111b5565b8382526402540be40060018060c01b03910216602082015285604082015285606082015230608082015263ffffffff606486021660a082015261ffff7f00000000000000000000000000000000000000000000000000000000000000001660c08201528560e082015260016101008201526004546040519081604081011067ffffffffffffffff604084011117610bcf5760408281019052602081811c6001600160a01b03908116845263ffffffff929092169083015260035491907f0000000000000000000000000000000000000000000000000000000000000000163b15610bcb57604080516301d0822360e61b8152845160048201526020808601516001600160c01b03908116602484015292860151831660448301526060860151909216606482015260808501516001600160a01b03908116608483015260a086015163ffffffff90811660a484015260c087015161ffff1660c484015260e087015160ff1660e48401526101009096015115156101048301528351811661012483015292909101519093166101448401526101648301889052610184830191909152869082906101a490829084907f000000000000000000000000000000000000000000000000000000000000000016622dc6c0f18015610bc057610bad575b506040516303acbacf60e21b81523060048201527f000000000000000000000000000000000000000000000000000000000000000061ffff1660248201525f6044820152610120919082816064816001600160a01b037f0000000000000000000000000000000000000000000000000000000000000000165afa928315610ba2578793610b73575b505061251c918284029184830484141715610b5f57612710809204815110610b005760a063ffffffff9101511690620e7ef0860260648702159360648802820414841715610b4b578190048210928315610b12575b505050610b005763ffffffff60647f487f8415ec2c66f8b4ec304901e2deebae2576ad0d17d59ed1ca3d163b148ad194606094604051948552602085015202166040820152a16001805580f35b604051633ca4cb0760e21b8152600490fd5b9091925062100590860290606487028204612904141715610b375704105f8080610ab3565b634e487b7160e01b5f52601160045260245ffd5b634e487b7160e01b88526011600452602488fd5b634e487b7160e01b87526011600452602487fd5b610b93929350803d10610b9b575b610b8b81836111fa565b810190611230565b905f80610a5e565b503d610b81565b6040513d89823e3d90fd5b610bb9909591956111e6565b935f6109d6565b6040513d88823e3d90fd5b8780fd5b634e487b7160e01b88526041600452602488fd5b634e487b7160e01b86526011600452602486fd5b90506020813d602011610c25575b81610c12602093836111fa565b81010312610c2157515f6107d0565b8580fd5b3d9150610c05565b634e487b7160e01b85526011600452602485fd5b604051633fe89cb960e11b8152600490fd5b60405160208101919091527f00000000000000000000000000000000000000000000000000000000000000006001600160a01b03166024820152604480820188905281526080810167ffffffffffffffff811182821017610bcf57610cc6939291610cc191604052826112f1565b6112f1565b5f8080610771565b909150610ceb57506001600160a01b0382163b15155b5f80610769565b600114610ce4565b634e487b7160e01b87526041600452602487fd5b604051630543a6e160e41b8152600490fd5b604051630a4f5a0760e01b8152600490fd5b604051631f2a200560e01b8152600490fd5b50831561063b565b50346101a85760403660031901126101a857610d5f611097565b5060206102ba600435611988565b50346101a857806003193601126101a857602060405161ffff7f0000000000000000000000000000000000000000000000000000000000000000168152f35b50346101a857806003193601126101a857602063ffffffff60045416604051908152f35b50346101a85760403660031901126101a857610dea611097565b50610e187f000000000000000000000000000000000000000000000000000000000000000060043514611165565b6040516303acbacf60e21b81523060048201527f000000000000000000000000000000000000000000000000000000000000000061ffff1660248201525f60448201526101209081816064816001600160a01b037f0000000000000000000000000000000000000000000000000000000000000000165afa918215610ec85760209392610eab575b505051604051908152f35b610ec19250803d10610b9b57610b8b81836111fa565b5f80610ea0565b6040513d85823e3d90fd5b50346101a857806003193601126101a8576002546040516001600160a01b039091168152602090f35b50346101a857806003193601126101a857602090604051908152f35b50346101a85760203660031901126101a857600435610f356110ee565b6101f48111610f785760407f0d3947c43063412ad16fda1a5eecef5ffc9e2dbb8f6ba1708f8d31062ba3e91291600654908060065582519182526020820152a180f35b60405162461bcd60e51b815260206004820152601160248201527008ccaca40e4c2e8ca40e8dede40d0d2ced607b1b6044820152606490fd5b50346101a85760203660031901126101a857600435610fce6110ee565b8015610c415760148111610d195760407fcfe013ced71c379420246c6e01c5e898ae031ebcf679c553a2ea18101e9ddf0191600554908060055582519182526020820152a180f35b50346101a85760203660031901126101a8576004356110336110ee565b8015801561108c575b61107a5760407fddd31550b26e9ef8ade466958be83ff8a014d9b4f36d546b61a6847a4530657591600354908060035582519182526020820152a180f35b60405163334ee9a160e01b8152600490fd5b506107d0811161103c565b602435906001600160a01b03821682036110ad57565b5f80fd5b600435906001600160a01b03821682036110ad57565b60809060031901126110ad5760043590602435906044359060643580151581036110ad5790565b5f546001600160a01b0316330361110157565b60405163118cdaa760e01b8152336004820152602490fd5b1561112057565b60405162461bcd60e51b815260206004820152601d60248201527f4f6e6c79206c6f6e6720706f736974696f6e7320737570706f727465640000006044820152606490fd5b1561116c57565b60405162461bcd60e51b815260206004820152600e60248201526d125b9d985b1a59081b585c9ad95d60921b6044820152606490fd5b81810292918115918404141715610b3757565b610120810190811067ffffffffffffffff8211176111d257604052565b634e487b7160e01b5f52604160045260245ffd5b67ffffffffffffffff81116111d257604052565b90601f8019910116810190811067ffffffffffffffff8211176111d257604052565b51906001600160c01b03821682036110ad57565b90816101209103126110ad5760405190611249826111b5565b805182526112596020820161121c565b602083015261126a6040820161121c565b604083015261127b6060820161121c565b606083015260808101516001600160a01b03811681036110ad57608083015260a081015163ffffffff811681036110ad5760a083015260c081015161ffff811681036110ad5760c083015260e081015160ff811681036110ad5760e0830152610100809101519081151582036110ad5782015290565b905f602091828151910182855af11561134b575f513d61134257506001600160a01b0381163b155b6113205750565b604051635274afe760e01b81526001600160a01b039091166004820152602490fd5b60011415611319565b6040513d5f823e3d90fd5b600260015414611367576002600155565b604051633ee5aeb560e01b8152600490fd5b61064b6113869293611119565b604080516303acbacf60e21b808252306004808401919091527f000000000000000000000000000000000000000000000000000000000000000061ffff811660248501525f604485018190526001600160a01b039690936101209290917f00000000000000000000000000000000000000000000000000000000000000008916908488606481855afa9788156116eb5787986116cc575b50875180156116bf5761143d60649163ffffffff60a08c015116906111a2565b0490818110611678575050612710965b5192897f00000000000000000000000000000000000000000000000000000000000000001660035490803b15611674578960a4898b80948f51968795869463f2f319cf60e01b865261ffff8d1690860152836024860152604485015282606485015260848401525af1801561166a5761164f575b5088519081523086820190815261ffff90931660208401525f60408401529184918391829081906060015b03915afa928315611645578593611626575b50506127108510159182611616575b50506116085760207f00000000000000000000000000000000000000000000000000000000000000009160248651809881936370a0823160e01b8352309083015285165afa9182156115fd57916115aa575b7fec57529334d17e7a08e3a28003d556458de39cc3eb43644dfdbf5b3522fb361e94508180611598575b505082519182526020820152a1565b6115a39133906116f5565b5f81611589565b90506020843d82116115f5575b816115c4602093836111fa565b810103126110ad577fec57529334d17e7a08e3a28003d556458de39cc3eb43644dfdbf5b3522fb361e93519061155f565b3d91506115b7565b8451903d90823e3d90fd5b835163023c20c360e11b8152fd5b600a919250519104105f8061150d565b61163d929350803d10610b9b57610b8b81836111fa565b905f806114fe565b87513d87823e3d90fd5b916114ec93919761166087946111e6565b97919350916114c1565b8a513d8a823e3d90fd5b8880fd5b612710908181029181830414901517156116ac57811561169957049661144d565b634e487b7160e01b885260128752602488fd5b634e487b7160e01b885260118752602488fd5b5050505050505050505050565b6116e4919850853d8711610b9b57610b8b81836111fa565b965f61141d565b89513d89823e3d90fd5b60405163a9059cbb60e01b60208201526001600160a01b0392909216602483015260448083019390935291815261173191610cc16064836111fa565b565b81810392915f138015828513169184121617610b3757565b611776907f000000000000000000000000000000000000000000000000000000000000000014611165565b6040516303acbacf60e21b8152306004808301919091527f000000000000000000000000000000000000000000000000000000000000000061ffff1660248301525f604483015290610120906001600160a01b039082816064817f000000000000000000000000000000000000000000000000000000000000000086165afa92831561134b575f93611969575b50508151156119625760208391600254166040519485809263fefe46f160e01b82525afa5f938161192f575b5061183b575050505f90565b60206064611855845163ffffffff60a087015116906111a2565b0492019261186e60018060c01b03918286511690611733565b845190949082161561192657600160ff1b9484810294905f8212878214166119135781860514901517156119005751169283156118ed5782145f198414166118da575005905f82136118bc57565b906118d7906127106118d0600654836111a2565b0490611733565b90565b601190634e487b7160e01b5f525260245ffd5b601282634e487b7160e01b5f525260245ffd5b601183634e487b7160e01b5f525260245ffd5b601185634e487b7160e01b5f525260245ffd5b50505050505f90565b90936020823d821161195a575b81611949602093836111fa565b810103126101a8575051925f61182f565b3d915061193c565b5050505f90565b611980929350803d10610b9b57610b8b81836111fa565b905f80611803565b6119b3907f000000000000000000000000000000000000000000000000000000000000000014611165565b6040516303acbacf60e21b81523060048201527f000000000000000000000000000000000000000000000000000000000000000061ffff1660248201525f60448201526101209081816064816001600160a01b037f0000000000000000000000000000000000000000000000000000000000000000165afa91821561134b575f92611a65575b50508051908115611a5f5760649163ffffffff60a0611a5b93015116906111a2565b0490565b50505f90565b611a7b9250803d10610b9b57610b8b81836111fa565b5f80611a3956fea26469706673582212209bd08a1b37a4432816de4ec296df09d7f2022704b24d20fd151090316be43fab64736f6c63430008140033","sourceMap":"868:20417:63:-:0;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;1018:45;-1:-1:-1;;;;;868:20417:63;;;;;;;;;;;;;;;;-1:-1:-1;;868:20417:63;;;;;;:::i;:::-;1500:62:21;;:::i;:::-;-1:-1:-1;;;;;868:20417:63;;;;2627:22:21;;2623:91;;868:20417:63;;;;;;;;;;;;3052:40:21;868:20417:63;3052:40:21;;868:20417:63;;2623:91:21;868:20417:63;;-1:-1:-1;;;2672:31:21;;868:20417:63;2672:31:21;;868:20417:63;;;;;2672:31:21;868:20417:63;;;;;;;;;;;;;;3225:29;868:20417;;;;;;;;;;;;;;;;;;;;;3504:34;868:20417;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;-1:-1:-1;;868:20417:63;;;;;;:::i;:::-;;;;;;;:::i;:::-;;;;;;;;;;;;;;;;;;;;;;;;;;;;-1:-1:-1;;;;;868:20417:63;;;;;;;;;;;-1:-1:-1;;868:20417:63;;;;;;;;;;;;;;;;1500:62:21;;:::i;:::-;19459:6:63;19449:16;;868:20417;;19579:33;868:20417;;;;;;;;;;;;;;;;;;;;;;;;19579:33;868:20417;;;;;-1:-1:-1;;;868:20417:63;;;;;;;;;;;;-1:-1:-1;;;868:20417:63;;;;;;;;;;;;;;;;;;;;;;;;;;1242:39;-1:-1:-1;;;;;868:20417:63;;;;;;;;;;;;;;;;;;;;;;2163:2;868:20417;;;;;;;;;;;;;;;;;;1136:59;-1:-1:-1;;;;;868:20417:63;;;;;;;;;;;;;-1:-1:-1;;868:20417:63;;;;21269:6;868:20417;;:::i;:::-;1500:62:21;;:::i;:::-;868:20417:63;;;21257:10;;-1:-1:-1;;;;;868:20417:63;21269:6;:::i;:::-;868:20417;;;;;;;;;;;;;;;;;;1596:41;868:20417;;;;;;;;;;;;;;;;;;;-1:-1:-1;;;;;868:20417:63;;;;;;;;;;;;;;;;;;;;;1500:62:21;;:::i;:::-;868:20417:63;;;-1:-1:-1;;;;;;868:20417:63;;;;-1:-1:-1;;;;;868:20417:63;3052:40:21;868:20417:63;;3052:40:21;868:20417:63;;;;;;;;;;;;;;;;;;2864:11;868:20417;;;;;;;;12044:2235;868:20417;;;:::i;:::-;2466:103:37;;;;;;:::i;:::-;12044:2235:63;:::i;:::-;1857:1:37;1899;;868:20417:63;;;;;;;;;;;;;;;;;;1870:3;868:20417;;;;;;;;;;-1:-1:-1;;868:20417:63;;;;;;:::i;:::-;1500:62:21;;:::i;:::-;-1:-1:-1;;;;;868:20417:63;;19825:26;19821:55;;868:20417;;;-1:-1:-1;;;;;;868:20417:63;;;;;;-1:-1:-1;;;;;868:20417:63;;;;;;;;;19821:55;868:20417;;-1:-1:-1;;;19860:16:63;;868:20417;;19860:16;868:20417;;;;;;;;:::i;:::-;2466:103:37;;;;;:::i;:::-;7486:15:63;;:33;;;;;;868:20417;7482:58;;7550:48;7608:53;7550:48;;:::i;:::-;7626:16;7616:26;7608:53;:::i;:::-;7743:14;868:20417;2163:2;7743:29;;7739:59;;7904:27;2864:11;7904:27;;;:::i;:::-;7945:32;7941:63;;8074:15;868:20417;;;;;1745:53:33;;;;8107:10:63;1745:53:33;;;868:20417:63;8127:4;868:20417;;;;;;;;;;1745:53:33;;868:20417:63;;;;;;;;;;;;;;1745:53:33;;;;:::i;:::-;868:20417:63;;-1:-1:-1;;;1745:53:33;4515:47;;;;;;-1:-1:-1;;;;;8247:20:63;868:20417;1745:53:33;4515:47;;868:20417:63;;;;;;;;4515:47:33;;868:20417:63;;;;;4515:47:33;868:20417:63;;4515:47:33;:::i;:::-;9086:199;;;;;;;;;;9301:80;;;868:20417:63;4577:45:33;;;4573:201;;868:20417:63;;;;7743:14;868:20417;8470:29;2163:2;8470:29;;8466:84;;868:20417;8656:47;;8652:102;;868:20417;;;;;;;;;;;;;9057:11;868:20417;;;-1:-1:-1;;;9040:46:63;;868:20417;1745:53:33;;868:20417:63;;;;;;-1:-1:-1;;;;;868:20417:63;9040:46;;;;;;;;;;;868:20417;;;9145:4;868:20417;;;9145:4;868:20417;;;;;;;;;;;;;:::i;:::-;;;;9145:4;20221:17;868:20417;;;;;;;1745:53:33;9365:522:63;;868:20417;9365:522;868:20417;9365:522;;868:20417;9365:522;868:20417;9365:522;;868:20417;8127:4;9365:522;;;868:20417;;;;;;;9365:522;;868:20417;;9780:15;868:20417;;9365:522;;868:20417;9365:522;868:20417;9365:522;;868:20417;20221:17;9365:522;;;868:20417;;;;;;;;;;;;;;;;;;;;;;;;;1745:53:33;868:20417:63;;;-1:-1:-1;;;;;868:20417:63;;;;;;;;;;9979:122;;;868:20417;10381:17;868:20417;;;10239:13;868:20417;10239:169;;;;868:20417;;;-1:-1:-1;;;10239:169:63;;868:20417;;;10239:169;;868:20417;1745:53:33;9365:522:63;;;868:20417;-1:-1:-1;;;;;868:20417:63;;;1745:53:33;868:20417:63;;;9365:522;;;868:20417;;;;;;;;9365:522;;868:20417;;;;;;;;9365:522;;;868:20417;-1:-1:-1;;;;;868:20417:63;;;;;;;;9365:522;;868:20417;;;;;;;;;;9365:522;;868:20417;;;;;;;;9365:522;;868:20417;;;;;;;9365:522;;;;868:20417;;;;;;;;;;;;;;;9979:122;;;;868:20417;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;10239:13;868:20417;10268:7;10239:169;;;;;;;868:20417;-1:-1:-1;868:20417:63;;-1:-1:-1;;;10534:125:63;;8127:4;868:20417;10534:125;;868:20417;9780:15;868:20417;;;;;;-1:-1:-1;868:20417:63;;;;;;;;;;;-1:-1:-1;;;;;8247:20:63;868:20417;10534:125;;;;;;;;;;;868:20417;2380:4;;;868:20417;;;;;;;;;;;;;;2543:5;;;;;;10922:41;10918:99;;868:20417;;11166:23;;2543:5;868:20417;;;;;;;;;;;;;;;;;;;;;2543:5;;;11245:75;;:182;;;;;868:20417;11241:240;;;;;868:20417;;11549:47;868:20417;;;;;;;;1745:53:33;2543:5:63;;868:20417;;;;2543:5;;868:20417;11549:47;20221:17;1899:1:37;;868:20417:63;;11241:240;868:20417;;-1:-1:-1;;;11450:20:63;;868:20417;;11450:20;11245:182;868:20417;;;;;;;;;;;;;2543:5;868:20417;;;;;2543:5;-1:-1:-1;11245:182:63;;;;;868:20417;;;;;;;;;1745:53:33;868:20417:63;;;-1:-1:-1;;;868:20417:63;;;;;1745:53:33;868:20417:63;;;-1:-1:-1;;;868:20417:63;;;;;1745:53:33;868:20417:63;;10534:125;;;;;;;-1:-1:-1;10534:125:63;;;;;;;:::i;:::-;;;;;:::i;:::-;;;;;;;;;;;;868:20417;;;;;;;;;10239:169;;;;;;;:::i;:::-;;;;;;868:20417;;;;;;;;;10239:169;868:20417;;;;-1:-1:-1;;;868:20417:63;;;;;1745:53:33;868:20417:63;;;-1:-1:-1;;;868:20417:63;;;;;1745:53:33;868:20417:63;;9040:46;;;1745:53:33;9040:46:63;;1745:53:33;9040:46:63;;;;;;1745:53:33;9040:46:63;;;:::i;:::-;;;868:20417;;;;;9040:46;;;868:20417;;;;9040:46;;;-1:-1:-1;9040:46:63;;868:20417;-1:-1:-1;;;868:20417:63;;;;;1745:53:33;868:20417:63;;8652:102;868:20417;;-1:-1:-1;;;8726:17:63;;868:20417;;8726:17;4573:201:33;868:20417:63;;1745:53:33;4665:43;;;;;;8247:20:63;-1:-1:-1;;;;;868:20417:63;1745:53:33;4665:43;;868:20417:63;;;;;;;;4665:43:33;;868:20417:63;;;;;;;;;;;;4750:12:33;868:20417:63;;;4665:43:33;868:20417:63;;;4665:43:33;;:::i;:::-;4750:12;:::i;:::-;4573:201;;;;;9301:80;9313:67;;-1:-1:-1;9313:15:33;;-1:-1:-1;;;;;;868:20417:63;;9331:26:33;:30;;9313:67;9301:80;;;;9313:67;20221:17:63;9364:16:33;9313:67;;868:20417:63;-1:-1:-1;;;868:20417:63;;;;;1745:53:33;868:20417:63;;7941:63;868:20417;;-1:-1:-1;;;7986:18:63;;868:20417;;7986:18;7739:59;868:20417;;-1:-1:-1;;;7781:17:63;;868:20417;;7781:17;7482:58;868:20417;;-1:-1:-1;;;7528:12:63;;868:20417;;7528:12;7486:33;7505:14;;;7486:33;;868:20417;;;;;;;-1:-1:-1;;868:20417:63;;;;;;:::i;:::-;;;;;;;:::i;:::-;;;;;;;;;;;;;;;;;1333:39;868:20417;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;-1:-1:-1;;868:20417:63;;;;;;:::i;:::-;;18436:53;18454:16;868:20417;;18444:26;18436:53;:::i;:::-;868:20417;;-1:-1:-1;;;18615:125:63;;18668:4;868:20417;18615:125;;868:20417;18687:15;868:20417;;;;;;-1:-1:-1;868:20417:63;;;;18615:125;;;868:20417;;;-1:-1:-1;;;;;18615:20:63;868:20417;18615:125;;;;;;;868:20417;18615:125;;;;868:20417;2543:5;;;868:20417;;;;;;18615:125;;;;;;-1:-1:-1;18615:125:63;;;;;;:::i;:::-;;;;;;868:20417;;;;;;;;;;;;;;;;;;;;;;1449:26;868:20417;;;-1:-1:-1;;;;;868:20417:63;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;-1:-1:-1;;868:20417:63;;;;;;1500:62:21;;:::i;:::-;20797:3:63;20786:14;;868:20417;;;20935:41;868:20417;20861:19;868:20417;1899:1:37;;20861:19:63;1899:1:37;868:20417:63;;;;;;2729:5;;868:20417;20935:41;868:20417;;;;;-1:-1:-1;;;868:20417:63;;;;;;;;;;;;-1:-1:-1;;;868:20417:63;;;;;;;;;;;;;;-1:-1:-1;;868:20417:63;;;;;;1500:62:21;;:::i;:::-;20196:16:63;;20192:46;;2163:2;20252:26;;20248:56;;868:20417;20420:47;868:20417;20352:14;868:20417;1899:1:37;;20352:14:63;1899:1:37;868:20417:63;;;;;;2729:5;;868:20417;20420:47;868:20417;;;;;;;;;-1:-1:-1;;868:20417:63;;;;;;1500:62:21;;:::i;:::-;19007:16:63;;:38;;;;868:20417;19003:68;;868:20417;19189:50;868:20417;;;1899:1:37;;868:20417:63;1899:1:37;868:20417:63;;;;;;2729:5;;868:20417;19189:50;868:20417;;19003:68;868:20417;;-1:-1:-1;;;19054:17:63;;868:20417;;19054:17;19007:38;19027:18;19041:4;19027:18;;19007:38;;868:20417;;;;-1:-1:-1;;;;;868:20417:63;;;;;;:::o;:::-;;;;;;;;-1:-1:-1;;;;;868:20417:63;;;;;;:::o;:::-;;;;;;;;;;;;;;;;;;;;;;;;;;;;:::o;1796:162:21:-;1710:6;868:20417:63;-1:-1:-1;;;;;868:20417:63;735:10:34;1855:23:21;1851:101;;1796:162::o;1851:101::-;868:20417:63;;-1:-1:-1;;;1901:40:21;;735:10:34;1901:40:21;;;868:20417:63;;;1901:40:21;868:20417:63;;;;:::o;:::-;;;-1:-1:-1;;;868:20417:63;;;;;;;;;;;;;;;;;;;;;;;;:::o;:::-;;;-1:-1:-1;;;868:20417:63;;;;;;;;;;;;-1:-1:-1;;;868:20417:63;;;;;;;;;;;;;;;;;;;;;;;:::o;:::-;;;;;;;;;;;;;;;:::o;:::-;;;;;;;;;;;;;;;;;;;;:::o;:::-;;1745:53:33;;;868:20417:63;;;;;;;;;;;;;;;;:::o;:::-;;;-1:-1:-1;;;;;868:20417:63;;;;;;:::o;:::-;;;;;;;;;;;;;;;:::i;:::-;;;;;;;;;;:::i;:::-;;;;;;;;;;:::i;:::-;;;;;;;;;;:::i;:::-;;;;;;;;;-1:-1:-1;;;;;868:20417:63;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;:::o;7686:720:33:-;;-1:-1:-1;7823:421:33;7686:720;7823:421;;;;;;;;;;;;-1:-1:-1;7823:421:33;;8258:15;;-1:-1:-1;;;;;;868:20417:63;;8276:26:33;:31;8258:68;8254:146;;7686:720;:::o;8254:146::-;868:20417:63;;-1:-1:-1;;;8349:40:33;;-1:-1:-1;;;;;868:20417:63;;;8349:40:33;;;868:20417:63;;;8349:40:33;8258:68;8325:1;8310:16;;8258:68;;7823:421;;;;-1:-1:-1;7823:421:33;;;;;2575:307:37;1899:1;2702:7;868:20417:63;2702:18:37;2698:86;;1899:1;2702:7;1899:1;2575:307::o;2698:86::-;868:20417:63;;-1:-1:-1;;;2743:30:37;;;;;12044:2235:63;12222:48;12280:53;12044:2235;;12222:48;:::i;12280:53::-;868:20417;;;-1:-1:-1;;;12488:125:63;;;12541:4;12488:125;;;;868:20417;;;;12560:15;868:20417;;;;;;;-1:-1:-1;868:20417:63;;;;;;-1:-1:-1;;;;;868:20417:63;-1:-1:-1;;12488:125:63;;868:20417;;12488:20;868:20417;;;12488:125;868:20417;;;;12488:125;;;;;;;;;;;12044:2235;2543:5;;;12628:28;;12624:89;;12865:65;868:20417;12908:21;868:20417;;12908:21;;2543:5;868:20417;12865:65;;:::i;:::-;2543:5;;12981:28;;;;;:130;;2543:5;12981:130;;2543:5;13262:13;;;868:20417;13444:17;868:20417;13262:209;;;;;;868:20417;2729:5;868:20417;;;;;;;;;;;;;;13262:209;;868:20417;;;13262:209;;;868:20417;2729:5;;;;868:20417;2729:5;;;868:20417;2729:5;868:20417;2729:5;;868:20417;2729:5;;;868:20417;13262:209;;;;;;;;12981:130;-1:-1:-1;868:20417:63;;13593:125;;;12541:4;13593:125;;;868:20417;;;;;;;;;;;;;;;;;;;;;;;;;;;13593:125;;;;;;;;;;;;;;12981:130;13812:36;;2543:5;13812:36;;;:85;;;;12981:130;13808:144;;;;2729:5;14022:15;868:20417;2729:5;868:20417;;;;;;;;;14022:40;;12541:4;14022:40;;;868:20417;;;14022:40;;;;;;;;;;12981:130;14231:41;14076:11;;;;14072:91;;12981:130;868:20417;;;;;;;2729:5;;;868:20417;14231:41;12044:2235::o;14072:91::-;14144:7;14132:10;;14144:7;;:::i;:::-;14072:91;;;;14022:40;;;2729:5;14022:40;;;;;;;;;2729:5;14022:40;;;:::i;:::-;;;868:20417;;;;14231:41;868:20417;;14022:40;;;;;;-1:-1:-1;14022:40:63;;;868:20417;;;;;;;;;;13808:144;868:20417;;-1:-1:-1;;;13920:21:63;;;13812:85;13895:2;2543:5;;;;;;-1:-1:-1;13812:85:63;;;;13593:125;;;;;;;-1:-1:-1;13593:125:63;;;;;;:::i;:::-;;;;;;;868:20417;;;;;;;;;13262:209;;13593:125;13262:209;;;;;;;:::i;:::-;;;;;;;;;868:20417;;;;;;;;;13262:209;868:20417;;;12981:130;2543:5;868:20417;;;;;;;;;;;;;;;2543:5;;;;;12981:130;;;2543:5;-1:-1:-1;;;868:20417:63;;;;;;;;;-1:-1:-1;;;868:20417:63;;;;;;;;12624:89;12672:7;;;;;;;;;;;:::o;12488:125::-;;;;;;;;;;;;;;;:::i;:::-;;;;;;868:20417;;;;;;;;;1219:160:33;868:20417:63;;-1:-1:-1;;;1328:43:33;;;;-1:-1:-1;;;;;868:20417:63;;;;1328:43:33;;;868:20417:63;;;;;;;;;1328:43:33;;;;;;868:20417:63;;1328:43:33;:::i;:::-;1219:160::o;868:20417:63:-;;;;;;;-1:-1:-1;868:20417:63;;;;;;;;;;;;;:::o;15039:2080::-;15150:53;15039:2080;15168:16;15158:26;15150:53;:::i;:::-;868:20417;;-1:-1:-1;;;15327:125:63;;15380:4;15327:125;;;;868:20417;;;;15399:15;868:20417;;;;;;-1:-1:-1;868:20417:63;;;;15327:125;;;-1:-1:-1;;;;;868:20417:63;15327:125;868:20417;;;15327:20;868:20417;;15327:125;;;;;;;1755:1;15327:125;;;15039:2080;2543:5;;;;15467:21;15463:75;;15604:46;868:20417;;15621:11;868:20417;;;;;;;;;;;15604:46;;;;1755:1;;15604:46;;;15039:2080;-1:-1:-1;15600:1513:63;;17094:8;;;1755:1;17094:8;:::o;15600:1513::-;15604:46;868:20417;15766:51;2543:5;;868:20417;;15802:14;;2543:5;868:20417;15766:51;;:::i;:::-;2543:5;16072:15;;868:20417;16034:55;20221:17;868:20417;;;;;;;;;16034:55;;:::i;:::-;868:20417;;;;;;;16341:19;868:20417;;-1:-1:-1;;;868:20417:63;;;;;;1755:1;868:20417;;;;;;;;;;;;;;;;;;;;;;;;;;;-1:-1:-1;;868:20417:63;;;;;;;16337:260;1755:1;16760:7;;16756:162;;15039:2080::o;16756:162::-;868:20417;16884:19;868:20417;2543:5;16818:34;16833:19;868:20417;16818:34;;:::i;:::-;2543:5;16884:19;;:::i;:::-;16756:162;15039:2080::o;868:20417::-;;;;;;1755:1;868:20417;;;1755:1;868:20417;;;;;;;1755:1;868:20417;;;1755:1;868:20417;;;;;;;1755:1;868:20417;;;1755:1;868:20417;;;;;;;1755:1;868:20417;;;1755:1;868:20417;16337:260;16574:8;;;;;1755:1;16574:8;:::o;15604:46::-;;;;;;;;;;;;;;;;;:::i;:::-;;;868:20417;;;;;;15604:46;;;;;;;-1:-1:-1;15604:46:63;;15463:75;15504:8;;;1755:1;15504:8;:::o;15327:125::-;;;;;;;-1:-1:-1;15327:125:63;;;;;;:::i;:::-;;;;;;17347:693;17461:53;17347:693;17479:16;17469:26;17461:53;:::i;:::-;868:20417;;-1:-1:-1;;;17706:125:63;;17759:4;17706:125;;;868:20417;17778:15;868:20417;;;;;;-1:-1:-1;868:20417:63;;;;17706:125;;;868:20417;;;-1:-1:-1;;;;;17706:20:63;868:20417;17706:125;;;;;;;1755:1;17706:125;;;17347:693;2543:5;;;;17846:21;;;17842:60;;868:20417;18004:14;868:20417;;17968:51;18004:14;;2543:5;868:20417;17968:51;;:::i;:::-;2543:5;17347:693;:::o;17842:60::-;17883:8;;1755:1;17883:8;:::o;17706:125::-;;;;;;-1:-1:-1;17706:125:63;;;;;;:::i;:::-;;;;","linkReferences":{},"immutableReferences":{"52870":[{"start":377,"length":32},{"start":2229,"length":32},{"start":2470,"length":32},{"start":5202,"length":32}],"52874":[{"start":1049,"length":32},{"start":1818,"length":32},{"start":2606,"length":32},{"start":3168,"length":32},{"start":3694,"length":32},{"start":5093,"length":32},{"start":6098,"length":32},{"start":6665,"length":32}],"52878":[{"start":952,"length":32},{"start":1684,"length":32},{"start":5399,"length":32}],"52881":[{"start":2101,"length":32},{"start":2540,"length":32},{"start":3464,"length":32},{"start":3629,"length":32},{"start":5025,"length":32},{"start":6031,"length":32},{"start":6600,"length":32}],"52887":[{"start":1180,"length":32},{"start":1613,"length":32},{"start":3568,"length":32},{"start":5969,"length":32},{"start":6542,"length":32}]}},"methodIdentifiers":{"MAX_LEVERAGE()":"9b45ec97","MAX_POSITION_SIZE()":"5ec1215f","POSITION_INDEX()":"2442ec19","PRECISION_2()":"55f2ebfb","SLIPPAGE_PRECISION()":"453943f0","builderFee()":"2957789c","builderFeeRecipient()":"c96a2e60","collateralToken()":"b2016bd4","decreasePosition(bytes32,uint256,uint256,bool)":"577270cd","emergencyWithdraw(address,uint256)":"95ccea67","estimatedFeeRateBPS()":"d6676421","gbpUsdPairIndex()":"2f739cc2","getPositionCollateral(bytes32,address)":"27f3a0d1","getPositionPnL(bytes32,address)":"cbfb4769","getPositionSize(bytes32,address)":"38b2e479","increasePosition(bytes32,uint256,uint256,bool)":"3df01956","marketIdentifier()":"8f1c66b2","ostiumTrading()":"f5548861","ostiumTradingStorage()":"96b21b8e","owner()":"8da5cb5b","priceOracle()":"2630c12f","renounceOwnership()":"715018a6","setBuilderFee(uint32)":"bdd66380","setBuilderFeeRecipient(address)":"4ce11d21","setEstimatedFeeRate(uint256)":"217fcbbb","setSlippageTolerance(uint256)":"117da1ee","setTargetLeverage(uint256)":"16c3e3b2","slippageTolerance()":"d03153aa","targetLeverage()":"d6c946ea","transferOwnership(address)":"f2fde38b"},"rawMetadata":"{\"compiler\":{\"version\":\"0.8.20+commit.a1b79de6\"},\"language\":\"Solidity\",\"output\":{\"abi\":[{\"inputs\":[{\"internalType\":\"address\",\"name\":\"_ostiumTrading\",\"type\":\"address\"},{\"internalType\":\"address\",\"name\":\"_ostiumTradingStorage\",\"type\":\"address\"},{\"internalType\":\"address\",\"name\":\"_collateralToken\",\"type\":\"address\"},{\"internalType\":\"uint16\",\"name\":\"_gbpUsdPairIndex\",\"type\":\"uint16\"},{\"internalType\":\"uint256\",\"name\":\"_targetLeverage\",\"type\":\"uint256\"},{\"internalType\":\"address\",\"name\":\"_priceOracle\",\"type\":\"address\"},{\"internalType\":\"bytes32\",\"name\":\"_marketIdentifier\",\"type\":\"bytes32\"}],\"stateMutability\":\"nonpayable\",\"type\":\"constructor\"},{\"inputs\":[],\"name\":\"InvalidAddress\",\"type\":\"error\"},{\"inputs\":[],\"name\":\"InvalidLeverage\",\"type\":\"error\"},{\"inputs\":[],\"name\":\"InvalidPairIndex\",\"type\":\"error\"},{\"inputs\":[],\"name\":\"InvalidSlippage\",\"type\":\"error\"},{\"inputs\":[],\"name\":\"LeverageTooHigh\",\"type\":\"error\"},{\"inputs\":[{\"internalType\":\"address\",\"name\":\"owner\",\"type\":\"address\"}],\"name\":\"OwnableInvalidOwner\",\"type\":\"error\"},{\"inputs\":[{\"internalType\":\"address\",\"name\":\"account\",\"type\":\"address\"}],\"name\":\"OwnableUnauthorizedAccount\",\"type\":\"error\"},{\"inputs\":[],\"name\":\"PositionCloseFailed\",\"type\":\"error\"},{\"inputs\":[],\"name\":\"PositionOpenFailed\",\"type\":\"error\"},{\"inputs\":[],\"name\":\"PositionTooLarge\",\"type\":\"error\"},{\"inputs\":[],\"name\":\"ReentrancyGuardReentrantCall\",\"type\":\"error\"},{\"inputs\":[{\"internalType\":\"address\",\"name\":\"token\",\"type\":\"address\"}],\"name\":\"SafeERC20FailedOperation\",\"type\":\"error\"},{\"inputs\":[],\"name\":\"ZeroAmount\",\"type\":\"error\"},{\"anonymous\":false,\"inputs\":[{\"indexed\":false,\"internalType\":\"uint32\",\"name\":\"oldFee\",\"type\":\"uint32\"},{\"indexed\":false,\"internalType\":\"uint32\",\"name\":\"newFee\",\"type\":\"uint32\"}],\"name\":\"BuilderFeeUpdated\",\"type\":\"event\"},{\"anonymous\":false,\"inputs\":[{\"indexed\":false,\"internalType\":\"uint256\",\"name\":\"oldRate\",\"type\":\"uint256\"},{\"indexed\":false,\"internalType\":\"uint256\",\"name\":\"newRate\",\"type\":\"uint256\"}],\"name\":\"EstimatedFeeRateUpdated\",\"type\":\"event\"},{\"anonymous\":false,\"inputs\":[{\"indexed\":true,\"internalType\":\"address\",\"name\":\"previousOwner\",\"type\":\"address\"},{\"indexed\":true,\"internalType\":\"address\",\"name\":\"newOwner\",\"type\":\"address\"}],\"name\":\"OwnershipTransferred\",\"type\":\"event\"},{\"anonymous\":false,\"inputs\":[{\"indexed\":false,\"internalType\":\"uint256\",\"name\":\"percentageClosed\",\"type\":\"uint256\"},{\"indexed\":false,\"internalType\":\"uint256\",\"name\":\"collateralReturned\",\"type\":\"uint256\"}],\"name\":\"PositionClosed\",\"type\":\"event\"},{\"anonymous\":false,\"inputs\":[{\"indexed\":false,\"internalType\":\"uint256\",\"name\":\"collateral\",\"type\":\"uint256\"},{\"indexed\":false,\"internalType\":\"uint256\",\"name\":\"notionalSize\",\"type\":\"uint256\"},{\"indexed\":false,\"internalType\":\"uint32\",\"name\":\"leverage\",\"type\":\"uint32\"}],\"name\":\"PositionOpened\",\"type\":\"event\"},{\"anonymous\":false,\"inputs\":[{\"indexed\":false,\"internalType\":\"uint256\",\"name\":\"oldSlippage\",\"type\":\"uint256\"},{\"indexed\":false,\"internalType\":\"uint256\",\"name\":\"newSlippage\",\"type\":\"uint256\"}],\"name\":\"SlippageToleranceUpdated\",\"type\":\"event\"},{\"anonymous\":false,\"inputs\":[{\"indexed\":false,\"internalType\":\"uint256\",\"name\":\"oldLeverage\",\"type\":\"uint256\"},{\"indexed\":false,\"internalType\":\"uint256\",\"name\":\"newLeverage\",\"type\":\"uint256\"}],\"name\":\"TargetLeverageUpdated\",\"type\":\"event\"},{\"inputs\":[],\"name\":\"MAX_LEVERAGE\",\"outputs\":[{\"internalType\":\"uint256\",\"name\":\"\",\"type\":\"uint256\"}],\"stateMutability\":\"view\",\"type\":\"function\"},{\"inputs\":[],\"name\":\"MAX_POSITION_SIZE\",\"outputs\":[{\"internalType\":\"uint256\",\"name\":\"\",\"type\":\"uint256\"}],\"stateMutability\":\"view\",\"type\":\"function\"},{\"inputs\":[],\"name\":\"POSITION_INDEX\",\"outputs\":[{\"internalType\":\"uint8\",\"name\":\"\",\"type\":\"uint8\"}],\"stateMutability\":\"view\",\"type\":\"function\"},{\"inputs\":[],\"name\":\"PRECISION_2\",\"outputs\":[{\"internalType\":\"uint32\",\"name\":\"\",\"type\":\"uint32\"}],\"stateMutability\":\"view\",\"type\":\"function\"},{\"inputs\":[],\"name\":\"SLIPPAGE_PRECISION\",\"outputs\":[{\"internalType\":\"uint256\",\"name\":\"\",\"type\":\"uint256\"}],\"stateMutability\":\"view\",\"type\":\"function\"},{\"inputs\":[],\"name\":\"builderFee\",\"outputs\":[{\"internalType\":\"uint32\",\"name\":\"\",\"type\":\"uint32\"}],\"stateMutability\":\"view\",\"type\":\"function\"},{\"inputs\":[],\"name\":\"builderFeeRecipient\",\"outputs\":[{\"internalType\":\"address\",\"name\":\"\",\"type\":\"address\"}],\"stateMutability\":\"view\",\"type\":\"function\"},{\"inputs\":[],\"name\":\"collateralToken\",\"outputs\":[{\"internalType\":\"contract IERC20\",\"name\":\"\",\"type\":\"address\"}],\"stateMutability\":\"view\",\"type\":\"function\"},{\"inputs\":[{\"internalType\":\"bytes32\",\"name\":\"market\",\"type\":\"bytes32\"},{\"internalType\":\"uint256\",\"name\":\"collateralDelta\",\"type\":\"uint256\"},{\"internalType\":\"uint256\",\"name\":\"sizeDelta\",\"type\":\"uint256\"},{\"internalType\":\"bool\",\"name\":\"isLong\",\"type\":\"bool\"}],\"name\":\"decreasePosition\",\"outputs\":[],\"stateMutability\":\"nonpayable\",\"type\":\"function\"},{\"inputs\":[{\"internalType\":\"address\",\"name\":\"token\",\"type\":\"address\"},{\"internalType\":\"uint256\",\"name\":\"amount\",\"type\":\"uint256\"}],\"name\":\"emergencyWithdraw\",\"outputs\":[],\"stateMutability\":\"nonpayable\",\"type\":\"function\"},{\"inputs\":[],\"name\":\"estimatedFeeRateBPS\",\"outputs\":[{\"internalType\":\"uint256\",\"name\":\"\",\"type\":\"uint256\"}],\"stateMutability\":\"view\",\"type\":\"function\"},{\"inputs\":[],\"name\":\"gbpUsdPairIndex\",\"outputs\":[{\"internalType\":\"uint16\",\"name\":\"\",\"type\":\"uint16\"}],\"stateMutability\":\"view\",\"type\":\"function\"},{\"inputs\":[{\"internalType\":\"bytes32\",\"name\":\"market\",\"type\":\"bytes32\"},{\"internalType\":\"address\",\"name\":\"account\",\"type\":\"address\"}],\"name\":\"getPositionCollateral\",\"outputs\":[{\"internalType\":\"uint256\",\"name\":\"collateral\",\"type\":\"uint256\"}],\"stateMutability\":\"view\",\"type\":\"function\"},{\"inputs\":[{\"internalType\":\"bytes32\",\"name\":\"market\",\"type\":\"bytes32\"},{\"internalType\":\"address\",\"name\":\"account\",\"type\":\"address\"}],\"name\":\"getPositionPnL\",\"outputs\":[{\"internalType\":\"int256\",\"name\":\"pnl\",\"type\":\"int256\"}],\"stateMutability\":\"view\",\"type\":\"function\"},{\"inputs\":[{\"internalType\":\"bytes32\",\"name\":\"market\",\"type\":\"bytes32\"},{\"internalType\":\"address\",\"name\":\"account\",\"type\":\"address\"}],\"name\":\"getPositionSize\",\"outputs\":[{\"internalType\":\"uint256\",\"name\":\"size\",\"type\":\"uint256\"}],\"stateMutability\":\"view\",\"type\":\"function\"},{\"inputs\":[{\"internalType\":\"bytes32\",\"name\":\"market\",\"type\":\"bytes32\"},{\"internalType\":\"uint256\",\"name\":\"collateral\",\"type\":\"uint256\"},{\"internalType\":\"uint256\",\"name\":\"sizeDelta\",\"type\":\"uint256\"},{\"internalType\":\"bool\",\"name\":\"isLong\",\"type\":\"bool\"}],\"name\":\"increasePosition\",\"outputs\":[],\"stateMutability\":\"nonpayable\",\"type\":\"function\"},{\"inputs\":[],\"name\":\"marketIdentifier\",\"outputs\":[{\"internalType\":\"bytes32\",\"name\":\"\",\"type\":\"bytes32\"}],\"stateMutability\":\"view\",\"type\":\"function\"},{\"inputs\":[],\"name\":\"ostiumTrading\",\"outputs\":[{\"internalType\":\"contract IOstiumTrading\",\"name\":\"\",\"type\":\"address\"}],\"stateMutability\":\"view\",\"type\":\"function\"},{\"inputs\":[],\"name\":\"ostiumTradingStorage\",\"outputs\":[{\"internalType\":\"contract IOstiumTradingStorage\",\"name\":\"\",\"type\":\"address\"}],\"stateMutability\":\"view\",\"type\":\"function\"},{\"inputs\":[],\"name\":\"owner\",\"outputs\":[{\"internalType\":\"address\",\"name\":\"\",\"type\":\"address\"}],\"stateMutability\":\"view\",\"type\":\"function\"},{\"inputs\":[],\"name\":\"priceOracle\",\"outputs\":[{\"internalType\":\"address\",\"name\":\"\",\"type\":\"address\"}],\"stateMutability\":\"view\",\"type\":\"function\"},{\"inputs\":[],\"name\":\"renounceOwnership\",\"outputs\":[],\"stateMutability\":\"nonpayable\",\"type\":\"function\"},{\"inputs\":[{\"internalType\":\"uint32\",\"name\":\"newFee\",\"type\":\"uint32\"}],\"name\":\"setBuilderFee\",\"outputs\":[],\"stateMutability\":\"nonpayable\",\"type\":\"function\"},{\"inputs\":[{\"internalType\":\"address\",\"name\":\"newRecipient\",\"type\":\"address\"}],\"name\":\"setBuilderFeeRecipient\",\"outputs\":[],\"stateMutability\":\"nonpayable\",\"type\":\"function\"},{\"inputs\":[{\"internalType\":\"uint256\",\"name\":\"newRate\",\"type\":\"uint256\"}],\"name\":\"setEstimatedFeeRate\",\"outputs\":[],\"stateMutability\":\"nonpayable\",\"type\":\"function\"},{\"inputs\":[{\"internalType\":\"uint256\",\"name\":\"newSlippage\",\"type\":\"uint256\"}],\"name\":\"setSlippageTolerance\",\"outputs\":[],\"stateMutability\":\"nonpayable\",\"type\":\"function\"},{\"inputs\":[{\"internalType\":\"uint256\",\"name\":\"newLeverage\",\"type\":\"uint256\"}],\"name\":\"setTargetLeverage\",\"outputs\":[],\"stateMutability\":\"nonpayable\",\"type\":\"function\"},{\"inputs\":[],\"name\":\"slippageTolerance\",\"outputs\":[{\"internalType\":\"uint256\",\"name\":\"\",\"type\":\"uint256\"}],\"stateMutability\":\"view\",\"type\":\"function\"},{\"inputs\":[],\"name\":\"targetLeverage\",\"outputs\":[{\"internalType\":\"uint256\",\"name\":\"\",\"type\":\"uint256\"}],\"stateMutability\":\"view\",\"type\":\"function\"},{\"inputs\":[{\"internalType\":\"address\",\"name\":\"newOwner\",\"type\":\"address\"}],\"name\":\"transferOwnership\",\"outputs\":[],\"stateMutability\":\"nonpayable\",\"type\":\"function\"}],\"devdoc\":{\"details\":\"Implements IPerpProvider interface using OpenZeppelin's audited componentsUses SafeERC20, Ownable, and ReentrancyGuard for maximum security\",\"errors\":{\"OwnableInvalidOwner(address)\":[{\"details\":\"The owner is not a valid owner account. (eg. `address(0)`)\"}],\"OwnableUnauthorizedAccount(address)\":[{\"details\":\"The caller account is not authorized to perform an operation.\"}],\"ReentrancyGuardReentrantCall()\":[{\"details\":\"Unauthorized reentrant call.\"}],\"SafeERC20FailedOperation(address)\":[{\"details\":\"An operation with an ERC-20 token failed.\"}]},\"kind\":\"dev\",\"methods\":{\"constructor\":{\"params\":{\"_collateralToken\":\"Address of collateral token (USDC)\",\"_gbpUsdPairIndex\":\"Pair index for GBP/USD on Ostium\",\"_marketIdentifier\":\"Market identifier (e.g., bytes32(\\\"GBP/USD\\\"))\",\"_ostiumTrading\":\"Address of Ostium Trading contract\",\"_ostiumTradingStorage\":\"Address of Ostium TradingStorage contract\",\"_priceOracle\":\"Address of Chainlink oracle for GBP/USD (to calculate PnL)\",\"_targetLeverage\":\"Target leverage (e.g., 10 for 10x)\"}},\"decreasePosition(bytes32,uint256,uint256,bool)\":{\"details\":\"Closes or decreases a GBP/USD position on Ostium\",\"params\":{\"collateralDelta\":\"Amount of collateral to remove (not used in percentage close)\",\"isLong\":\"Whether this is a long position (must be true)\",\"market\":\"The market identifier (must be GBP/USD)\",\"sizeDelta\":\"The size to decrease the position by (not used in percentage close)\"}},\"emergencyWithdraw(address,uint256)\":{\"params\":{\"amount\":\"Amount to withdraw\",\"token\":\"Token address to withdraw\"}},\"getPositionCollateral(bytes32,address)\":{\"params\":{\"account\":\"The account holding the position\",\"market\":\"The market identifier\"},\"returns\":{\"collateral\":\"The current collateral amount\"}},\"getPositionPnL(bytes32,address)\":{\"details\":\"\\u2705 FIX CRIT-5: Now calculates actual unrealized PnL using Chainlink oracle\\u2705 FIX MED-NEW-4: Applies conservative fee estimate to account for trading/funding fees\",\"params\":{\"account\":\"The account holding the position\",\"market\":\"The market identifier\"},\"returns\":{\"pnl\":\"The unrealized profit/loss (can be negative)\"}},\"getPositionSize(bytes32,address)\":{\"params\":{\"account\":\"The account holding the position\",\"market\":\"The market identifier\"},\"returns\":{\"size\":\"The current position size (notional value)\"}},\"increasePosition(bytes32,uint256,uint256,bool)\":{\"details\":\"Opens or increases a long GBP/USD position on Ostium\\u2705 FIX MED-4: No deadline parameter needed - Ostium's slippage tolerance      provides equivalent protection against stale transactions. If price moves      unfavorably while tx is in mempool, it will revert due to slippage check.\",\"params\":{\"collateral\":\"Amount of collateral to add\",\"isLong\":\"Whether this is a long position (must be true for GBP/USD)\",\"market\":\"The market identifier (must be GBP/USD)\",\"sizeDelta\":\"The size to increase the position by (notional value)\"}},\"owner()\":{\"details\":\"Returns the address of the current owner.\"},\"renounceOwnership()\":{\"details\":\"Leaves the contract without owner. It will not be possible to call `onlyOwner` functions. Can only be called by the current owner. NOTE: Renouncing ownership will leave the contract without an owner, thereby disabling any functionality that is only available to the owner.\"},\"setBuilderFee(uint32)\":{\"params\":{\"newFee\":\"New builder fee (PRECISION_6, e.g., 5000 = 0.005%)\"}},\"setBuilderFeeRecipient(address)\":{\"params\":{\"newRecipient\":\"New fee recipient address\"}},\"setEstimatedFeeRate(uint256)\":{\"details\":\"\\u2705 FIX MED-NEW-4: Allows adjustment based on observed fee rates\",\"params\":{\"newRate\":\"New fee rate in basis points (e.g., 100 = 1%)\"}},\"setSlippageTolerance(uint256)\":{\"params\":{\"newSlippage\":\"New slippage tolerance (PRECISION_2, e.g., 500 = 5%)\"}},\"setTargetLeverage(uint256)\":{\"details\":\"\\u2705 FIX HIGH-3: Enforced maximum of 20x for safety\",\"params\":{\"newLeverage\":\"New target leverage (e.g., 10 for 10x)\"}},\"transferOwnership(address)\":{\"details\":\"Transfers ownership of the contract to a new account (`newOwner`). Can only be called by the current owner.\"}},\"stateVariables\":{\"BPS\":{\"details\":\"\\u2705 FIX LOW-6: Named constant instead of magic number 10000\"},\"FULL_CLOSURE_BPS\":{\"details\":\"\\u2705 FIX LOW-6: Named constant for 100% position closure\"},\"MAX_LEVERAGE\":{\"details\":\"\\u2705 FIX HIGH-3: Prevent excessive leverage that risks instant liquidation\"},\"POSITION_VERIFICATION_THRESHOLD\":{\"details\":\"\\u2705 FIX LOW-6: Named constant instead of magic number 9500\"},\"estimatedFeeRateBPS\":{\"details\":\"\\u2705 FIX MED-NEW-4: Conservative fee estimate for PnL calculationsTypical values: 0.1% trading fee + 0.01% funding/day \\u2248 50-100 bps total\"},\"marketIdentifier\":{\"details\":\"\\u2705 FIX MED-7: Configurable instead of hardcoded\"}},\"title\":\"OstiumPerpProvider\",\"version\":1},\"userdoc\":{\"events\":{\"BuilderFeeUpdated(uint32,uint32)\":{\"notice\":\"Emitted when builder fee is updated\"},\"EstimatedFeeRateUpdated(uint256,uint256)\":{\"notice\":\"\\u2705 FIX MED-NEW-4: Emitted when fee rate estimate is updated\"},\"PositionOpened(uint256,uint256,uint32)\":{\"notice\":\"\\u2705 FIX HIGH-6: Additional events for monitoring\"},\"SlippageToleranceUpdated(uint256,uint256)\":{\"notice\":\"Emitted when slippage tolerance is updated\"},\"TargetLeverageUpdated(uint256,uint256)\":{\"notice\":\"Emitted when target leverage is updated\"}},\"kind\":\"user\",\"methods\":{\"MAX_LEVERAGE()\":{\"notice\":\"Maximum allowed leverage (20x for safety)\"},\"MAX_POSITION_SIZE()\":{\"notice\":\"Maximum position size per trade (prevent exceeding DEX limits)\"},\"POSITION_INDEX()\":{\"notice\":\"Position index (always 0 for single position per vault)\"},\"PRECISION_2()\":{\"notice\":\"Leverage precision constant (100 basis = 1x leverage)\"},\"SLIPPAGE_PRECISION()\":{\"notice\":\"Slippage precision constant\"},\"builderFee()\":{\"notice\":\"Builder fee (optional revenue, in PRECISION_6)\"},\"builderFeeRecipient()\":{\"notice\":\"Builder fee recipient\"},\"collateralToken()\":{\"notice\":\"Collateral token (USDC)\"},\"constructor\":{\"notice\":\"Constructor\"},\"decreasePosition(bytes32,uint256,uint256,bool)\":{\"notice\":\"Decrease a perpetual position\"},\"emergencyWithdraw(address,uint256)\":{\"notice\":\"Emergency withdrawal of stuck tokens\"},\"estimatedFeeRateBPS()\":{\"notice\":\"Estimated total fee rate (trading + funding) in basis points\"},\"gbpUsdPairIndex()\":{\"notice\":\"GBP/USD pair index on Ostium\"},\"getPositionCollateral(bytes32,address)\":{\"notice\":\"Get the current collateral in the position\"},\"getPositionPnL(bytes32,address)\":{\"notice\":\"Get the current position's profit and lossWARNING: This is an ESTIMATE. Actual PnL on close will differ due to:         - Real-time funding fees (not tracked here)         - Trading fees on close (not tracked here)         - Slippage during position closure         Use getPositionPnLWithFees() for a more conservative estimate\"},\"getPositionSize(bytes32,address)\":{\"notice\":\"Get the current position size\"},\"increasePosition(bytes32,uint256,uint256,bool)\":{\"notice\":\"Increase a perpetual position\"},\"marketIdentifier()\":{\"notice\":\"Market identifier (e.g., \\\"GBP/USD\\\")\"},\"ostiumTrading()\":{\"notice\":\"Ostium Trading contract\"},\"ostiumTradingStorage()\":{\"notice\":\"Ostium TradingStorage contract (holds collateral)\"},\"priceOracle()\":{\"notice\":\"Chainlink oracle for GBP/USD price (to calculate PnL)\"},\"setBuilderFee(uint32)\":{\"notice\":\"Update builder fee\"},\"setBuilderFeeRecipient(address)\":{\"notice\":\"Update builder fee recipient\"},\"setEstimatedFeeRate(uint256)\":{\"notice\":\"Update estimated fee rate for PnL calculations\"},\"setSlippageTolerance(uint256)\":{\"notice\":\"Update slippage tolerance\"},\"setTargetLeverage(uint256)\":{\"notice\":\"Update target leverage\"},\"slippageTolerance()\":{\"notice\":\"Default slippage tolerance (5%)\"},\"targetLeverage()\":{\"notice\":\"Target leverage for positions (e.g., 10 = 10x)\"}},\"notice\":\"Perpetual DEX provider implementation for Ostium\",\"version\":1}},\"settings\":{\"compilationTarget\":{\"src/providers/OstiumPerpProvider.sol\":\"OstiumPerpProvider\"},\"evmVersion\":\"shanghai\",\"libraries\":{},\"metadata\":{\"bytecodeHash\":\"ipfs\"},\"optimizer\":{\"enabled\":true,\"runs\":200},\"remappings\":[\":@chainlink/=lib/chainlink-brownie-contracts/\",\":@openzeppelin/=lib/openzeppelin-contracts/\",\":chainlink-brownie-contracts/=lib/chainlink-brownie-contracts/\",\":ds-test/=lib/morpho-blue-oracles/lib/forge-std/lib/ds-test/src/\",\":erc4626-tests/=lib/openzeppelin-contracts/lib/erc4626-tests/\",\":forge-std/=lib/forge-std/src/\",\":halmos-cheatcodes/=lib/openzeppelin-contracts/lib/halmos-cheatcodes/src/\",\":morpho-blue-oracles/=lib/morpho-blue-oracles/src/\",\":morpho-blue/=lib/morpho-blue-oracles/lib/morpho-blue/\",\":openzeppelin-contracts/=lib/openzeppelin-contracts/\"],\"viaIR\":true},\"sources\":{\"lib/openzeppelin-contracts/contracts/access/Ownable.sol\":{\"keccak256\":\"0xff6d0bb2e285473e5311d9d3caacb525ae3538a80758c10649a4d61029b017bb\",\"license\":\"MIT\",\"urls\":[\"bzz-raw://8ed324d3920bb545059d66ab97d43e43ee85fd3bd52e03e401f020afb0b120f6\",\"dweb:/ipfs/QmfEckWLmZkDDcoWrkEvMWhms66xwTLff9DDhegYpvHo1a\"]},\"lib/openzeppelin-contracts/contracts/interfaces/IERC1363.sol\":{\"keccak256\":\"0x9b6b3e7803bc5f2f8cd7ad57db8ac1def61a9930a5a3107df4882e028a9605d7\",\"license\":\"MIT\",\"urls\":[\"bzz-raw://da62d6be1f5c6edf577f0cb45666a8aa9c2086a4bac87d95d65f02e2f4c36a4b\",\"dweb:/ipfs/QmNkpvBpoCMvX8JwAFNSc5XxJ2q5BXJpL5L1txb4QkqVFF\"]},\"lib/openzeppelin-contracts/contracts/interfaces/IERC165.sol\":{\"keccak256\":\"0xde7e9fd9aee8d4f40772f96bb3b58836cbc6dfc0227014a061947f8821ea9724\",\"license\":\"MIT\",\"urls\":[\"bzz-raw://11fea9f8bc98949ac6709f0c1699db7430d2948137aa94d5a9e95a91f61a710a\",\"dweb:/ipfs/QmQdfRXxQjwP6yn3DVo1GHPpriKNcFghSPi94Z1oKEFUNS\"]},\"lib/openzeppelin-contracts/contracts/interfaces/IERC20.sol\":{\"keccak256\":\"0xce41876e78d1badc0512229b4d14e4daf83bc1003d7f83978d18e0e56f965b9c\",\"license\":\"MIT\",\"urls\":[\"bzz-raw://a2608291cb038b388d80b79a06b6118a42f7894ff67b7da10ec0dbbf5b2973ba\",\"dweb:/ipfs/QmWohqcBLbcxmA4eGPhZDXe5RYMMEEpFq22nfkaUMvTfw1\"]},\"lib/openzeppelin-contracts/contracts/token/ERC20/IERC20.sol\":{\"keccak256\":\"0xe06a3f08a987af6ad2e1c1e774405d4fe08f1694b67517438b467cecf0da0ef7\",\"license\":\"MIT\",\"urls\":[\"bzz-raw://df6f0c459663c9858b6cba2cda1d14a7d05a985bed6d2de72bd8e78c25ee79db\",\"dweb:/ipfs/QmeTTxZ7qVk9rjEv2R4CpCwdf8UMCcRqDNMvzNxHc3Fnn9\"]},\"lib/openzeppelin-contracts/contracts/token/ERC20/utils/SafeERC20.sol\":{\"keccak256\":\"0x4ea01544758fd2c7045961904686bfe232d2220a04ecaa2d6b08dac17827febf\",\"license\":\"MIT\",\"urls\":[\"bzz-raw://fabe6bef5167ae741dd8c22d7f81d3f9120bd61b290762a2e8f176712567d329\",\"dweb:/ipfs/QmSnEitJ6xmf1SSAUeZozD7Gx7h8bNnX3a1ZBzqeivsvVg\"]},\"lib/openzeppelin-contracts/contracts/utils/Context.sol\":{\"keccak256\":\"0x493033a8d1b176a037b2cc6a04dad01a5c157722049bbecf632ca876224dd4b2\",\"license\":\"MIT\",\"urls\":[\"bzz-raw://6a708e8a5bdb1011c2c381c9a5cfd8a9a956d7d0a9dc1bd8bcdaf52f76ef2f12\",\"dweb:/ipfs/Qmax9WHBnVsZP46ZxEMNRQpLQnrdE4dK8LehML1Py8FowF\"]},\"lib/openzeppelin-contracts/contracts/utils/ReentrancyGuard.sol\":{\"keccak256\":\"0x11a5a79827df29e915a12740caf62fe21ebe27c08c9ae3e09abe9ee3ba3866d3\",\"license\":\"MIT\",\"urls\":[\"bzz-raw://3cf0c69ab827e3251db9ee6a50647d62c90ba580a4d7bbff21f2bea39e7b2f4a\",\"dweb:/ipfs/QmZiKwtKU1SBX4RGfQtY7PZfiapbbu6SZ9vizGQD9UHjRA\"]},\"lib/openzeppelin-contracts/contracts/utils/introspection/IERC165.sol\":{\"keccak256\":\"0x79796192ec90263f21b464d5bc90b777a525971d3de8232be80d9c4f9fb353b8\",\"license\":\"MIT\",\"urls\":[\"bzz-raw://f6fda447a62815e8064f47eff0dd1cf58d9207ad69b5d32280f8d7ed1d1e4621\",\"dweb:/ipfs/QmfDRc7pxfaXB2Dh9np5Uf29Na3pQ7tafRS684wd3GLjVL\"]},\"src/interfaces/IPerpProvider.sol\":{\"keccak256\":\"0x63464e0c28e463a8de0d51823c80bfc0e42859fe2a72517c555b074a04b2f65f\",\"license\":\"MIT\",\"urls\":[\"bzz-raw://9962a60032af51fd290c8da87bf4f164a2158c4601f7490330bd271c33820287\",\"dweb:/ipfs/QmeJZJUhmR6BhK7LhHAp6GqMtth7b9qqsCV9bP3G1J52NE\"]},\"src/interfaces/external/IOstiumTrading.sol\":{\"keccak256\":\"0xfb00cb842474aeb4f5f13fa7ed9892d0a27c5301f0c798fd31526bdaedbe5b4d\",\"license\":\"MIT\",\"urls\":[\"bzz-raw://4b57a673dbc72be7c39b59453a4236afd0484b86ec5595159cb6984acb2de3dc\",\"dweb:/ipfs/QmWyhqfpCAogvoBTvQhTSfFekkVY8E1btjYSpofactCrU7\"]},\"src/interfaces/external/IOstiumTradingStorage.sol\":{\"keccak256\":\"0x6c37092a9c7a8576f0560919155749e6a30ce23d5fcb25b530c36de824436921\",\"license\":\"MIT\",\"urls\":[\"bzz-raw://b193070f74c4b9c8dd2aabb674764b218ebd88b2d839b3b1b693944f71499b37\",\"dweb:/ipfs/QmafG33v8Pa7fV5Y9gJwKE3uhj26sTLWVxy1x8fEy6R7ze\"]},\"src/providers/OstiumPerpProvider.sol\":{\"keccak256\":\"0xe06bade74c63d3eb35530953addad1ae7f621878aae5d7d89f4c9bd4db3fdc6a\",\"license\":\"MIT\",\"urls\":[\"bzz-raw://2fd56f1f857b803e30018290c834a464a8c4c0394b45bcd316629ef36c67effc\",\"dweb:/ipfs/QmTKazZAysBAPAx5AVEZG2F5MqbNED3ZGLB3R5o7j1SRfb\"]}},\"version\":1}","metadata":{"compiler":{"version":"0.8.20+commit.a1b79de6"},"language":"Solidity","output":{"abi":[{"inputs":[{"internalType":"address","name":"_ostiumTrading","type":"address"},{"internalType":"address","name":"_ostiumTradingStorage","type":"address"},{"internalType":"address","name":"_collateralToken","type":"address"},{"internalType":"uint16","name":"_gbpUsdPairIndex","type":"uint16"},{"internalType":"uint256","name":"_targetLeverage","type":"uint256"},{"internalType":"address","name":"_priceOracle","type":"address"},{"internalType":"bytes32","name":"_marketIdentifier","type":"bytes32"}],"stateMutability":"nonpayable","type":"constructor"},{"inputs":[],"type":"error","name":"InvalidAddress"},{"inputs":[],"type":"error","name":"InvalidLeverage"},{"inputs":[],"type":"error","name":"InvalidPairIndex"},{"inputs":[],"type":"error","name":"InvalidSlippage"},{"inputs":[],"type":"error","name":"LeverageTooHigh"},{"inputs":[{"internalType":"address","name":"owner","type":"address"}],"type":"error","name":"OwnableInvalidOwner"},{"inputs":[{"internalType":"address","name":"account","type":"address"}],"type":"error","name":"OwnableUnauthorizedAccount"},{"inputs":[],"type":"error","name":"PositionCloseFailed"},{"inputs":[],"type":"error","name":"PositionOpenFailed"},{"inputs":[],"type":"error","name":"PositionTooLarge"},{"inputs":[],"type":"error","name":"ReentrancyGuardReentrantCall"},{"inputs":[{"internalType":"address","name":"token","type":"address"}],"type":"error","name":"SafeERC20FailedOperation"},{"inputs":[],"type":"error","name":"ZeroAmount"},{"inputs":[{"internalType":"uint32","name":"oldFee","type":"uint32","indexed":false},{"internalType":"uint32","name":"newFee","type":"uint32","indexed":false}],"type":"event","name":"BuilderFeeUpdated","anonymous":false},{"inputs":[{"internalType":"uint256","name":"oldRate","type":"uint256","indexed":false},{"internalType":"uint256","name":"newRate","type":"uint256","indexed":false}],"type":"event","name":"EstimatedFeeRateUpdated","anonymous":false},{"inputs":[{"internalType":"address","name":"previousOwner","type":"address","indexed":true},{"internalType":"address","name":"newOwner","type":"address","indexed":true}],"type":"event","name":"OwnershipTransferred","anonymous":false},{"inputs":[{"internalType":"uint256","name":"percentageClosed","type":"uint256","indexed":false},{"internalType":"uint256","name":"collateralReturned","type":"uint256","indexed":false}],"type":"event","name":"PositionClosed","anonymous":false},{"inputs":[{"internalType":"uint256","name":"collateral","type":"uint256","indexed":false},{"internalType":"uint256","name":"notionalSize","type":"uint256","indexed":false},{"internalType":"uint32","name":"leverage","type":"uint32","indexed":false}],"type":"event","name":"PositionOpened","anonymous":false},{"inputs":[{"internalType":"uint256","name":"oldSlippage","type":"uint256","indexed":false},{"internalType":"uint256","name":"newSlippage","type":"uint256","indexed":false}],"type":"event","name":"SlippageToleranceUpdated","anonymous":false},{"inputs":[{"internalType":"uint256","name":"oldLeverage","type":"uint256","indexed":false},{"internalType":"uint256","name":"newLeverage","type":"uint256","indexed":false}],"type":"event","name":"TargetLeverageUpdated","anonymous":false},{"inputs":[],"stateMutability":"view","type":"function","name":"MAX_LEVERAGE","outputs":[{"internalType":"uint256","name":"","type":"uint256"}]},{"inputs":[],"stateMutability":"view","type":"function","name":"MAX_POSITION_SIZE","outputs":[{"internalType":"uint256","name":"","type":"uint256"}]},{"inputs":[],"stateMutability":"view","type":"function","name":"POSITION_INDEX","outputs":[{"internalType":"uint8","name":"","type":"uint8"}]},{"inputs":[],"stateMutability":"view","type":"function","name":"PRECISION_2","outputs":[{"internalType":"uint32","name":"","type":"uint32"}]},{"inputs":[],"stateMutability":"view","type":"function","name":"SLIPPAGE_PRECISION","outputs":[{"internalType":"uint256","name":"","type":"uint256"}]},{"inputs":[],"stateMutability":"view","type":"function","name":"builderFee","outputs":[{"internalType":"uint32","name":"","type":"uint32"}]},{"inputs":[],"stateMutability":"view","type":"function","name":"builderFeeRecipient","outputs":[{"internalType":"address","name":"","type":"address"}]},{"inputs":[],"stateMutability":"view","type":"function","name":"collateralToken","outputs":[{"internalType":"contract IERC20","name":"","type":"address"}]},{"inputs":[{"internalType":"bytes32","name":"market","type":"bytes32"},{"internalType":"uint256","name":"collateralDelta","type":"uint256"},{"internalType":"uint256","name":"sizeDelta","type":"uint256"},{"internalType":"bool","name":"isLong","type":"bool"}],"stateMutability":"nonpayable","type":"function","name":"decreasePosition"},{"inputs":[{"internalType":"address","name":"token","type":"address"},{"internalType":"uint256","name":"amount","type":"uint256"}],"stateMutability":"nonpayable","type":"function","name":"emergencyWithdraw"},{"inputs":[],"stateMutability":"view","type":"function","name":"estimatedFeeRateBPS","outputs":[{"internalType":"uint256","name":"","type":"uint256"}]},{"inputs":[],"stateMutability":"view","type":"function","name":"gbpUsdPairIndex","outputs":[{"internalType":"uint16","name":"","type":"uint16"}]},{"inputs":[{"internalType":"bytes32","name":"market","type":"bytes32"},{"internalType":"address","name":"account","type":"address"}],"stateMutability":"view","type":"function","name":"getPositionCollateral","outputs":[{"internalType":"uint256","name":"collateral","type":"uint256"}]},{"inputs":[{"internalType":"bytes32","name":"market","type":"bytes32"},{"internalType":"address","name":"account","type":"address"}],"stateMutability":"view","type":"function","name":"getPositionPnL","outputs":[{"internalType":"int256","name":"pnl","type":"int256"}]},{"inputs":[{"internalType":"bytes32","name":"market","type":"bytes32"},{"internalType":"address","name":"account","type":"address"}],"stateMutability":"view","type":"function","name":"getPositionSize","outputs":[{"internalType":"uint256","name":"size","type":"uint256"}]},{"inputs":[{"internalType":"bytes32","name":"market","type":"bytes32"},{"internalType":"uint256","name":"collateral","type":"uint256"},{"internalType":"uint256","name":"sizeDelta","type":"uint256"},{"internalType":"bool","name":"isLong","type":"bool"}],"stateMutability":"nonpayable","type":"function","name":"increasePosition"},{"inputs":[],"stateMutability":"view","type":"function","name":"marketIdentifier","outputs":[{"internalType":"bytes32","name":"","type":"bytes32"}]},{"inputs":[],"stateMutability":"view","type":"function","name":"ostiumTrading","outputs":[{"internalType":"contract IOstiumTrading","name":"","type":"address"}]},{"inputs":[],"stateMutability":"view","type":"function","name":"ostiumTradingStorage","outputs":[{"internalType":"contract IOstiumTradingStorage","name":"","type":"address"}]},{"inputs":[],"stateMutability":"view","type":"function","name":"owner","outputs":[{"internalType":"address","name":"","type":"address"}]},{"inputs":[],"stateMutability":"view","type":"function","name":"priceOracle","outputs":[{"internalType":"address","name":"","type":"address"}]},{"inputs":[],"stateMutability":"nonpayable","type":"function","name":"renounceOwnership"},{"inputs":[{"internalType":"uint32","name":"newFee","type":"uint32"}],"stateMutability":"nonpayable","type":"function","name":"setBuilderFee"},{"inputs":[{"internalType":"address","name":"newRecipient","type":"address"}],"stateMutability":"nonpayable","type":"function","name":"setBuilderFeeRecipient"},{"inputs":[{"internalType":"uint256","name":"newRate","type":"uint256"}],"stateMutability":"nonpayable","type":"function","name":"setEstimatedFeeRate"},{"inputs":[{"internalType":"uint256","name":"newSlippage","type":"uint256"}],"stateMutability":"nonpayable","type":"function","name":"setSlippageTolerance"},{"inputs":[{"internalType":"uint256","name":"newLeverage","type":"uint256"}],"stateMutability":"nonpayable","type":"function","name":"setTargetLeverage"},{"inputs":[],"stateMutability":"view","type":"function","name":"slippageTolerance","outputs":[{"internalType":"uint256","name":"","type":"uint256"}]},{"inputs":[],"stateMutability":"view","type":"function","name":"targetLeverage","outputs":[{"internalType":"uint256","name":"","type":"uint256"}]},{"inputs":[{"internalType":"address","name":"newOwner","type":"address"}],"stateMutability":"nonpayable","type":"function","name":"transferOwnership"}],"devdoc":{"kind":"dev","methods":{"constructor":{"params":{"_collateralToken":"Address of collateral token (USDC)","_gbpUsdPairIndex":"Pair index for GBP/USD on Ostium","_marketIdentifier":"Market identifier (e.g., bytes32(\"GBP/USD\"))","_ostiumTrading":"Address of Ostium Trading contract","_ostiumTradingStorage":"Address of Ostium TradingStorage contract","_priceOracle":"Address of Chainlink oracle for GBP/USD (to calculate PnL)","_targetLeverage":"Target leverage (e.g., 10 for 10x)"}},"decreasePosition(bytes32,uint256,uint256,bool)":{"details":"Closes or decreases a GBP/USD position on Ostium","params":{"collateralDelta":"Amount of collateral to remove (not used in percentage close)","isLong":"Whether this is a long position (must be true)","market":"The market identifier (must be GBP/USD)","sizeDelta":"The size to decrease the position by (not used in percentage close)"}},"emergencyWithdraw(address,uint256)":{"params":{"amount":"Amount to withdraw","token":"Token address to withdraw"}},"getPositionCollateral(bytes32,address)":{"params":{"account":"The account holding the position","market":"The market identifier"},"returns":{"collateral":"The current collateral amount"}},"getPositionPnL(bytes32,address)":{"details":" FIX CRIT-5: Now calculates actual unrealized PnL using Chainlink oracle FIX MED-NEW-4: Applies conservative fee estimate to account for trading/funding fees","params":{"account":"The account holding the position","market":"The market identifier"},"returns":{"pnl":"The unrealized profit/loss (can be negative)"}},"getPositionSize(bytes32,address)":{"params":{"account":"The account holding the position","market":"The market identifier"},"returns":{"size":"The current position size (notional value)"}},"increasePosition(bytes32,uint256,uint256,bool)":{"details":"Opens or increases a long GBP/USD position on Ostium FIX MED-4: No deadline parameter needed - Ostium's slippage tolerance      provides equivalent protection against stale transactions. If price moves      unfavorably while tx is in mempool, it will revert due to slippage check.","params":{"collateral":"Amount of collateral to add","isLong":"Whether this is a long position (must be true for GBP/USD)","market":"The market identifier (must be GBP/USD)","sizeDelta":"The size to increase the position by (notional value)"}},"owner()":{"details":"Returns the address of the current owner."},"renounceOwnership()":{"details":"Leaves the contract without owner. It will not be possible to call `onlyOwner` functions. Can only be called by the current owner. NOTE: Renouncing ownership will leave the contract without an owner, thereby disabling any functionality that is only available to the owner."},"setBuilderFee(uint32)":{"params":{"newFee":"New builder fee (PRECISION_6, e.g., 5000 = 0.005%)"}},"setBuilderFeeRecipient(address)":{"params":{"newRecipient":"New fee recipient address"}},"setEstimatedFeeRate(uint256)":{"details":" FIX MED-NEW-4: Allows adjustment based on observed fee rates","params":{"newRate":"New fee rate in basis points (e.g., 100 = 1%)"}},"setSlippageTolerance(uint256)":{"params":{"newSlippage":"New slippage tolerance (PRECISION_2, e.g., 500 = 5%)"}},"setTargetLeverage(uint256)":{"details":" FIX HIGH-3: Enforced maximum of 20x for safety","params":{"newLeverage":"New target leverage (e.g., 10 for 10x)"}},"transferOwnership(address)":{"details":"Transfers ownership of the contract to a new account (`newOwner`). Can only be called by the current owner."}},"version":1},"userdoc":{"kind":"user","methods":{"MAX_LEVERAGE()":{"notice":"Maximum allowed leverage (20x for safety)"},"MAX_POSITION_SIZE()":{"notice":"Maximum position size per trade (prevent exceeding DEX limits)"},"POSITION_INDEX()":{"notice":"Position index (always 0 for single position per vault)"},"PRECISION_2()":{"notice":"Leverage precision constant (100 basis = 1x leverage)"},"SLIPPAGE_PRECISION()":{"notice":"Slippage precision constant"},"builderFee()":{"notice":"Builder fee (optional revenue, in PRECISION_6)"},"builderFeeRecipient()":{"notice":"Builder fee recipient"},"collateralToken()":{"notice":"Collateral token (USDC)"},"constructor":{"notice":"Constructor"},"decreasePosition(bytes32,uint256,uint256,bool)":{"notice":"Decrease a perpetual position"},"emergencyWithdraw(address,uint256)":{"notice":"Emergency withdrawal of stuck tokens"},"estimatedFeeRateBPS()":{"notice":"Estimated total fee rate (trading + funding) in basis points"},"gbpUsdPairIndex()":{"notice":"GBP/USD pair index on Ostium"},"getPositionCollateral(bytes32,address)":{"notice":"Get the current collateral in the position"},"getPositionPnL(bytes32,address)":{"notice":"Get the current position's profit and lossWARNING: This is an ESTIMATE. Actual PnL on close will differ due to:         - Real-time funding fees (not tracked here)         - Trading fees on close (not tracked here)         - Slippage during position closure         Use getPositionPnLWithFees() for a more conservative estimate"},"getPositionSize(bytes32,address)":{"notice":"Get the current position size"},"increasePosition(bytes32,uint256,uint256,bool)":{"notice":"Increase a perpetual position"},"marketIdentifier()":{"notice":"Market identifier (e.g., \"GBP/USD\")"},"ostiumTrading()":{"notice":"Ostium Trading contract"},"ostiumTradingStorage()":{"notice":"Ostium TradingStorage contract (holds collateral)"},"priceOracle()":{"notice":"Chainlink oracle for GBP/USD price (to calculate PnL)"},"setBuilderFee(uint32)":{"notice":"Update builder fee"},"setBuilderFeeRecipient(address)":{"notice":"Update builder fee recipient"},"setEstimatedFeeRate(uint256)":{"notice":"Update estimated fee rate for PnL calculations"},"setSlippageTolerance(uint256)":{"notice":"Update slippage tolerance"},"setTargetLeverage(uint256)":{"notice":"Update target leverage"},"slippageTolerance()":{"notice":"Default slippage tolerance (5%)"},"targetLeverage()":{"notice":"Target leverage for positions (e.g., 10 = 10x)"}},"version":1}},"settings":{"remappings":["@chainlink/=lib/chainlink-brownie-contracts/","@openzeppelin/=lib/openzeppelin-contracts/","chainlink-brownie-contracts/=lib/chainlink-brownie-contracts/","ds-test/=lib/morpho-blue-oracles/lib/forge-std/lib/ds-test/src/","erc4626-tests/=lib/openzeppelin-contracts/lib/erc4626-tests/","forge-std/=lib/forge-std/src/","halmos-cheatcodes/=lib/openzeppelin-contracts/lib/halmos-cheatcodes/src/","morpho-blue-oracles/=lib/morpho-blue-oracles/src/","morpho-blue/=lib/morpho-blue-oracles/lib/morpho-blue/","openzeppelin-contracts/=lib/openzeppelin-contracts/"],"optimizer":{"enabled":true,"runs":200},"metadata":{"bytecodeHash":"ipfs"},"compilationTarget":{"src/providers/OstiumPerpProvider.sol":"OstiumPerpProvider"},"evmVersion":"shanghai","libraries":{},"viaIR":true},"sources":{"lib/openzeppelin-contracts/contracts/access/Ownable.sol":{"keccak256":"0xff6d0bb2e285473e5311d9d3caacb525ae3538a80758c10649a4d61029b017bb","urls":["bzz-raw://8ed324d3920bb545059d66ab97d43e43ee85fd3bd52e03e401f020afb0b120f6","dweb:/ipfs/QmfEckWLmZkDDcoWrkEvMWhms66xwTLff9DDhegYpvHo1a"],"license":"MIT"},"lib/openzeppelin-contracts/contracts/interfaces/IERC1363.sol":{"keccak256":"0x9b6b3e7803bc5f2f8cd7ad57db8ac1def61a9930a5a3107df4882e028a9605d7","urls":["bzz-raw://da62d6be1f5c6edf577f0cb45666a8aa9c2086a4bac87d95d65f02e2f4c36a4b","dweb:/ipfs/QmNkpvBpoCMvX8JwAFNSc5XxJ2q5BXJpL5L1txb4QkqVFF"],"license":"MIT"},"lib/openzeppelin-contracts/contracts/interfaces/IERC165.sol":{"keccak256":"0xde7e9fd9aee8d4f40772f96bb3b58836cbc6dfc0227014a061947f8821ea9724","urls":["bzz-raw://11fea9f8bc98949ac6709f0c1699db7430d2948137aa94d5a9e95a91f61a710a","dweb:/ipfs/QmQdfRXxQjwP6yn3DVo1GHPpriKNcFghSPi94Z1oKEFUNS"],"license":"MIT"},"lib/openzeppelin-contracts/contracts/interfaces/IERC20.sol":{"keccak256":"0xce41876e78d1badc0512229b4d14e4daf83bc1003d7f83978d18e0e56f965b9c","urls":["bzz-raw://a2608291cb038b388d80b79a06b6118a42f7894ff67b7da10ec0dbbf5b2973ba","dweb:/ipfs/QmWohqcBLbcxmA4eGPhZDXe5RYMMEEpFq22nfkaUMvTfw1"],"license":"MIT"},"lib/openzeppelin-contracts/contracts/token/ERC20/IERC20.sol":{"keccak256":"0xe06a3f08a987af6ad2e1c1e774405d4fe08f1694b67517438b467cecf0da0ef7","urls":["bzz-raw://df6f0c459663c9858b6cba2cda1d14a7d05a985bed6d2de72bd8e78c25ee79db","dweb:/ipfs/QmeTTxZ7qVk9rjEv2R4CpCwdf8UMCcRqDNMvzNxHc3Fnn9"],"license":"MIT"},"lib/openzeppelin-contracts/contracts/token/ERC20/utils/SafeERC20.sol":{"keccak256":"0x4ea01544758fd2c7045961904686bfe232d2220a04ecaa2d6b08dac17827febf","urls":["bzz-raw://fabe6bef5167ae741dd8c22d7f81d3f9120bd61b290762a2e8f176712567d329","dweb:/ipfs/QmSnEitJ6xmf1SSAUeZozD7Gx7h8bNnX3a1ZBzqeivsvVg"],"license":"MIT"},"lib/openzeppelin-contracts/contracts/utils/Context.sol":{"keccak256":"0x493033a8d1b176a037b2cc6a04dad01a5c157722049bbecf632ca876224dd4b2","urls":["bzz-raw://6a708e8a5bdb1011c2c381c9a5cfd8a9a956d7d0a9dc1bd8bcdaf52f76ef2f12","dweb:/ipfs/Qmax9WHBnVsZP46ZxEMNRQpLQnrdE4dK8LehML1Py8FowF"],"license":"MIT"},"lib/openzeppelin-contracts/contracts/utils/ReentrancyGuard.sol":{"keccak256":"0x11a5a79827df29e915a12740caf62fe21ebe27c08c9ae3e09abe9ee3ba3866d3","urls":["bzz-raw://3cf0c69ab827e3251db9ee6a50647d62c90ba580a4d7bbff21f2bea39e7b2f4a","dweb:/ipfs/QmZiKwtKU1SBX4RGfQtY7PZfiapbbu6SZ9vizGQD9UHjRA"],"license":"MIT"},"lib/openzeppelin-contracts/contracts/utils/introspection/IERC165.sol":{"keccak256":"0x79796192ec90263f21b464d5bc90b777a525971d3de8232be80d9c4f9fb353b8","urls":["bzz-raw://f6fda447a62815e8064f47eff0dd1cf58d9207ad69b5d32280f8d7ed1d1e4621","dweb:/ipfs/QmfDRc7pxfaXB2Dh9np5Uf29Na3pQ7tafRS684wd3GLjVL"],"license":"MIT"},"src/interfaces/IPerpProvider.sol":{"keccak256":"0x63464e0c28e463a8de0d51823c80bfc0e42859fe2a72517c555b074a04b2f65f","urls":["bzz-raw://9962a60032af51fd290c8da87bf4f164a2158c4601f7490330bd271c33820287","dweb:/ipfs/QmeJZJUhmR6BhK7LhHAp6GqMtth7b9qqsCV9bP3G1J52NE"],"license":"MIT"},"src/interfaces/external/IOstiumTrading.sol":{"keccak256":"0xfb00cb842474aeb4f5f13fa7ed9892d0a27c5301f0c798fd31526bdaedbe5b4d","urls":["bzz-raw://4b57a673dbc72be7c39b59453a4236afd0484b86ec5595159cb6984acb2de3dc","dweb:/ipfs/QmWyhqfpCAogvoBTvQhTSfFekkVY8E1btjYSpofactCrU7"],"license":"MIT"},"src/interfaces/external/IOstiumTradingStorage.sol":{"keccak256":"0x6c37092a9c7a8576f0560919155749e6a30ce23d5fcb25b530c36de824436921","urls":["bzz-raw://b193070f74c4b9c8dd2aabb674764b218ebd88b2d839b3b1b693944f71499b37","dweb:/ipfs/QmafG33v8Pa7fV5Y9gJwKE3uhj26sTLWVxy1x8fEy6R7ze"],"license":"MIT"},"src/providers/OstiumPerpProvider.sol":{"keccak256":"0xe06bade74c63d3eb35530953addad1ae7f621878aae5d7d89f4c9bd4db3fdc6a","urls":["bzz-raw://2fd56f1f857b803e30018290c834a464a8c4c0394b45bcd316629ef36c67effc","dweb:/ipfs/QmTKazZAysBAPAx5AVEZG2F5MqbNED3ZGLB3R5o7j1SRfb"],"license":"MIT"}},"version":1},"id":63}