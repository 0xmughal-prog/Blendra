{"abi":[{"type":"constructor","inputs":[{"name":"_vault","type":"address","internalType":"address"},{"name":"_collateralToken","type":"address","internalType":"address"},{"name":"_perpProvider","type":"address","internalType":"address"},{"name":"_gbpUsdMarket","type":"bytes32","internalType":"bytes32"}],"stateMutability":"nonpayable"},{"type":"function","name":"IS_LONG","inputs":[],"outputs":[{"name":"","type":"bool","internalType":"bool"}],"stateMutability":"view"},{"type":"function","name":"LIQUIDATION_WARNING_THRESHOLD_BPS","inputs":[],"outputs":[{"name":"","type":"uint256","internalType":"uint256"}],"stateMutability":"view"},{"type":"function","name":"MIN_COLLATERAL_RATIO_BPS","inputs":[],"outputs":[{"name":"","type":"uint256","internalType":"uint256"}],"stateMutability":"view"},{"type":"function","name":"PERP_PROVIDER_TIMELOCK","inputs":[],"outputs":[{"name":"","type":"uint256","internalType":"uint256"}],"stateMutability":"view"},{"type":"function","name":"PROPOSAL_COOLDOWN","inputs":[],"outputs":[{"name":"","type":"uint256","internalType":"uint256"}],"stateMutability":"view"},{"type":"function","name":"acceptOwnership","inputs":[],"outputs":[],"stateMutability":"nonpayable"},{"type":"function","name":"cancelPerpProviderProposal","inputs":[],"outputs":[],"stateMutability":"nonpayable"},{"type":"function","name":"collateralToken","inputs":[],"outputs":[{"name":"","type":"address","internalType":"contract IERC20"}],"stateMutability":"view"},{"type":"function","name":"currentCollateral","inputs":[],"outputs":[{"name":"","type":"uint256","internalType":"uint256"}],"stateMutability":"view"},{"type":"function","name":"currentNotional","inputs":[],"outputs":[{"name":"","type":"uint256","internalType":"uint256"}],"stateMutability":"view"},{"type":"function","name":"decreasePosition","inputs":[{"name":"shareRatio","type":"uint256","internalType":"uint256"},{"name":"deadline","type":"uint256","internalType":"uint256"}],"outputs":[],"stateMutability":"nonpayable"},{"type":"function","name":"emergencyClosePosition","inputs":[],"outputs":[],"stateMutability":"nonpayable"},{"type":"function","name":"executePerpProviderChange","inputs":[],"outputs":[],"stateMutability":"nonpayable"},{"type":"function","name":"gbpUsdMarket","inputs":[],"outputs":[{"name":"","type":"bytes32","internalType":"bytes32"}],"stateMutability":"view"},{"type":"function","name":"getHealthFactor","inputs":[],"outputs":[{"name":"healthFactor","type":"uint256","internalType":"uint256"}],"stateMutability":"view"},{"type":"function","name":"getPositionDetails","inputs":[],"outputs":[{"name":"notional","type":"uint256","internalType":"uint256"},{"name":"collateral","type":"uint256","internalType":"uint256"},{"name":"size","type":"uint256","internalType":"uint256"}],"stateMutability":"view"},{"type":"function","name":"getPositionPnL","inputs":[],"outputs":[{"name":"pnl","type":"int256","internalType":"int256"}],"stateMutability":"view"},{"type":"function","name":"getPositionValue","inputs":[],"outputs":[{"name":"value","type":"uint256","internalType":"uint256"}],"stateMutability":"view"},{"type":"function","name":"increasePosition","inputs":[{"name":"notionalSize","type":"uint256","internalType":"uint256"},{"name":"collateral","type":"uint256","internalType":"uint256"},{"name":"deadline","type":"uint256","internalType":"uint256"}],"outputs":[],"stateMutability":"nonpayable"},{"type":"function","name":"lastProposalTimestamp","inputs":[],"outputs":[{"name":"","type":"uint256","internalType":"uint256"}],"stateMutability":"view"},{"type":"function","name":"owner","inputs":[],"outputs":[{"name":"","type":"address","internalType":"address"}],"stateMutability":"view"},{"type":"function","name":"pendingOwner","inputs":[],"outputs":[{"name":"","type":"address","internalType":"address"}],"stateMutability":"view"},{"type":"function","name":"pendingPerpProvider","inputs":[],"outputs":[{"name":"","type":"address","internalType":"contract IPerpProvider"}],"stateMutability":"view"},{"type":"function","name":"perpProvider","inputs":[],"outputs":[{"name":"","type":"address","internalType":"contract IPerpProvider"}],"stateMutability":"view"},{"type":"function","name":"perpProviderChangeTimestamp","inputs":[],"outputs":[{"name":"","type":"uint256","internalType":"uint256"}],"stateMutability":"view"},{"type":"function","name":"proposePerpProviderChange","inputs":[{"name":"newProvider","type":"address","internalType":"address"}],"outputs":[],"stateMutability":"nonpayable"},{"type":"function","name":"renounceOwnership","inputs":[],"outputs":[],"stateMutability":"nonpayable"},{"type":"function","name":"transferOwnership","inputs":[{"name":"newOwner","type":"address","internalType":"address"}],"outputs":[],"stateMutability":"nonpayable"},{"type":"function","name":"vault","inputs":[],"outputs":[{"name":"","type":"address","internalType":"address"}],"stateMutability":"view"},{"type":"function","name":"withdrawCollateral","inputs":[{"name":"withdrawAmount","type":"uint256","internalType":"uint256"}],"outputs":[{"name":"actualWithdrawn","type":"uint256","internalType":"uint256"}],"stateMutability":"nonpayable"},{"type":"event","name":"LiquidationWarning","inputs":[{"name":"healthFactor","type":"uint256","indexed":false,"internalType":"uint256"},{"name":"pnl","type":"int256","indexed":false,"internalType":"int256"},{"name":"collateral","type":"uint256","indexed":false,"internalType":"uint256"}],"anonymous":false},{"type":"event","name":"OwnershipTransferStarted","inputs":[{"name":"previousOwner","type":"address","indexed":true,"internalType":"address"},{"name":"newOwner","type":"address","indexed":true,"internalType":"address"}],"anonymous":false},{"type":"event","name":"OwnershipTransferred","inputs":[{"name":"previousOwner","type":"address","indexed":true,"internalType":"address"},{"name":"newOwner","type":"address","indexed":true,"internalType":"address"}],"anonymous":false},{"type":"event","name":"PerpProviderProposalCancelled","inputs":[{"name":"cancelledProvider","type":"address","indexed":true,"internalType":"address"}],"anonymous":false},{"type":"event","name":"PerpProviderProposed","inputs":[{"name":"oldProvider","type":"address","indexed":true,"internalType":"address"},{"name":"newProvider","type":"address","indexed":true,"internalType":"address"},{"name":"activationTime","type":"uint256","indexed":false,"internalType":"uint256"}],"anonymous":false},{"type":"event","name":"PerpProviderUpdated","inputs":[{"name":"oldProvider","type":"address","indexed":false,"internalType":"address"},{"name":"newProvider","type":"address","indexed":false,"internalType":"address"}],"anonymous":false},{"type":"event","name":"PositionDecreased","inputs":[{"name":"shareRatio","type":"uint256","indexed":false,"internalType":"uint256"},{"name":"notionalReduced","type":"uint256","indexed":false,"internalType":"uint256"},{"name":"collateralReduced","type":"uint256","indexed":false,"internalType":"uint256"}],"anonymous":false},{"type":"event","name":"PositionIncreased","inputs":[{"name":"notionalSize","type":"uint256","indexed":false,"internalType":"uint256"},{"name":"collateral","type":"uint256","indexed":false,"internalType":"uint256"}],"anonymous":false},{"type":"error","name":"DeadlineExpired","inputs":[]},{"type":"error","name":"InsufficientCollateralRatio","inputs":[]},{"type":"error","name":"InvalidProvider","inputs":[]},{"type":"error","name":"InvalidShareRatio","inputs":[]},{"type":"error","name":"NoPendingProvider","inputs":[]},{"type":"error","name":"OnlyVault","inputs":[]},{"type":"error","name":"OwnableInvalidOwner","inputs":[{"name":"owner","type":"address","internalType":"address"}]},{"type":"error","name":"OwnableUnauthorizedAccount","inputs":[{"name":"account","type":"address","internalType":"address"}]},{"type":"error","name":"PositionNearLiquidation","inputs":[]},{"type":"error","name":"ProposalCooldownActive","inputs":[]},{"type":"error","name":"ProviderNotChanged","inputs":[]},{"type":"error","name":"ReentrancyGuardReentrantCall","inputs":[]},{"type":"error","name":"SafeERC20FailedOperation","inputs":[{"name":"token","type":"address","internalType":"address"}]},{"type":"error","name":"TimelockNotExpired","inputs":[]},{"type":"error","name":"ZeroAmount","inputs":[]}],"bytecode":{"object":"0x60e0346200029557601f62001f1638819003918201601f191683019291906001600160401b038411838510176200029957816080928492604096875283398101031262000295576200005181620002ad565b6200005f60208301620002ad565b60606200006e858501620002ad565b9301519233156200027e5760018060a01b03199182600154166001555f549033848316175f55865160018060a01b0392833391167f8be0079c531659141344cd1fd0a4f28419497f9722a3daafe3b4186f6b6457e05f80a36001600255828616156200024c57508116918215620002135716928315620001dc578415620001a75760805260a052600354161760035560c05251611c539081620002c3823960805181818161017f0152818161039701528181610ac301528181610c690152818161165b0152611b86015260a05181818161040a015281816108ae01528181610ddc0152818161169d0152611b2e015260c051818181610291015281816104ef015281816107d701528181610cf801528181610fe3015281816112410152818161141e01528181611520015281816117a20152611ae20152f35b855162461bcd60e51b815260206004820152600e60248201526d125b9d985b1a59081b585c9ad95d60921b6044820152606490fd5b855162461bcd60e51b815260206004820152601060248201526f24b73b30b634b210383937bb34b232b960811b6044820152606490fd5b865162461bcd60e51b8152602060048201526012602482015271125b9d985b1a590818dbdb1b185d195c985b60721b6044820152606490fd5b62461bcd60e51b815260206004820152600d60248201526c125b9d985b1a59081d985d5b1d609a1b6044820152606490fd5b8451631e4fbdf760e01b81525f6004820152602490fd5b5f80fd5b634e487b7160e01b5f52604160045260245ffd5b51906001600160a01b0382168203620002955756fe6080604081815260049182361015610015575f80fd5b5f92833560e01c9182630deb6adc1461122a5750816317499381146112015781631a02cdf3146110ea5781631bcf7ca2146110cb578163295c2b86146110ae57816329fe00c3146110855781632dd4a53414610fbf5781633332c5be14610fa35781633bacfca914610c555781633fcf685d14610c24578163467f67f914610c075781635162221714610b5a578163533e1ecc14610b3c5781635786643c14610b1e5781636112fe2e14610aad578163664ad03c14610a34578163715018a6146109cf57816379ba5097146109485781638da5cb5b1461092057816392e3601a14610901578163a5f352b7146108dd578163b2016bd414610899578163b44b3a8f146107b4578163b8d1e8901461036f578163bdeb345114610352578163c869623214610269578163e0c2f9351461024a578163e30c397814610221578163f2fde38b146101b2575063fbfa77cf1461016c575f80fd5b346101ae57816003193601126101ae57517f00000000000000000000000000000000000000000000000000000000000000006001600160a01b03168152602090f35b5080fd5b8390346101ae5760203660031901126101ae57356001600160a01b038181169182900361021d576101e1611264565b600180546001600160a01b031916831790558254167f38d16b8cac22d99fc7c124b9cd0de2d3fa1faef420bfe791d8c362d765e227008380a380f35b8280fd5b5050346101ae57816003193601126101ae5760015490516001600160a01b039091168152602090f35b5050346101ae57816003193601126101ae576020906008549051908152f35b82843461034f578060031936011261034f57825460055460035484516338b2e47960e01b81527f0000000000000000000000000000000000000000000000000000000000000000968101968752306020808901919091529296939590949390929185918290036040019082906001600160a01b03165afa918215610344579161030b575b519283526020830193909352506040810191909152606090f35b0390f35b90506020823d821161033c575b81610325602093836112de565b81010312610338576103079151906102ed565b5f80fd5b3d9150610318565b9051903d90823e3d90fd5b80fd5b5050346101ae57816003193601126101ae5760209051610bb88152f35b9190503461021d57606036600319011261021d576024918035908335906001600160a01b03907f0000000000000000000000000000000000000000000000000000000000000000821633036107a6576103c6611365565b831580801561079e575b61078f576044354211610780576127109081850285810483148615171561076e576107d0918288029288840414171561076e571061075f577f00000000000000000000000000000000000000000000000000000000000000009286516020946323b872dd60e01b86830152338a8301523060448301528660648301526064825260a082019167ffffffffffffffff928181108482111761072d578a526104769082611300565b898360035416928a51938d89818c6104c6896104b8858201938863095ea7b360e01b9b8c8752840160209093929193604081019460018060a01b031681520152565b03601f1981018b528a6112de565b88519082895af1903d8151918361073f575b505050156106e7575b5050505050888160035416987f000000000000000000000000000000000000000000000000000000000000000099803b1561021d57879160848c8580948e519687958694631ef80cab60e11b86528d8601528401528d604484015260016064840152623567e0f180156106dd576106c5575b505060035487516338b2e47960e01b81528481018a81523060208201529099929091169085908a9081906040010381845afa9889156106bb578a99610684575b5087516327f3a0d160e01b8152848101928352306020840152929185918491829081906040015b03915afa91821561067a578992610629575b5082547f3b1f2f3ca0c73d20356c3574f88fe4d4aae2bc312ffcb4823dbd36e6e7550d359861061294939290911561062357506106076113fd565b925b556005556114f0565b8351928352820152a1600160025580f35b92610609565b9291508383813d8311610673575b61064181836112de565b8101031261033857915190917f3b1f2f3ca0c73d20356c3574f88fe4d4aae2bc312ffcb4823dbd36e6e7550d356105cc565b503d610637565b87513d8b823e3d90fd5b9098508481819493943d83116106b4575b61069f81836112de565b810103126103385751979091906105ba610593565b503d610695565b88513d8c823e3d90fd5b6106ce906112b6565b6106d957885f610553565b8880fd5b89513d84823e3d90fd5b8b5192898401528c8301528c60448301526044825260808201908282109082111761072d5761072393929161071e918c5282611300565b611300565b5f808080806104e1565b8b604188634e487b7160e01b5f52525ffd5b5090915061075757508584163b15155b5f8f806104d8565b60011461074f565b50845163d637f8f160e01b8152fd5b634e487b7160e01b8a5260118452888afd5b508451631ab7da6b60e01b8152fd5b508451631f2a200560e01b8152fd5b5083156103d0565b8451638d1af8bd60e01b8152fd5b90503461021d578260031936011261021d57600354825163cbfb476960e01b81527f000000000000000000000000000000000000000000000000000000000000000092810192835230602080850191909152909492909185918290036040019082906001600160a01b03165afa92831561088d578193610858575b5061083e6020936005546113e2565b90808213156108505750905b51908152f35b90509061084a565b92506020833d8211610885575b81610872602093836112de565b810103126103385791519161083e61082f565b3d9150610865565b509051903d90823e3d90fd5b5050346101ae57816003193601126101ae57517f00000000000000000000000000000000000000000000000000000000000000006001600160a01b03168152602090f35b5050346101ae57816003193601126101ae576020906108fa6113fd565b9051908152f35b5050346101ae57816003193601126101ae576020906005549051908152f35b5050346101ae57816003193601126101ae57905490516001600160a01b039091168152602090f35b9190503461021d578260031936011261021d57600154916001600160a01b039133838516036109b85750506001600160601b0360a01b8092166001555f549133908316175f553391167f8be0079c531659141344cd1fd0a4f28419497f9722a3daafe3b4186f6b6457e05f80a380f35b60249250519063118cdaa760e01b82523390820152fd5b833461034f578060031936011261034f576109e8611264565b600180546001600160a01b03199081169091555f80549182168155906001600160a01b03167f8be0079c531659141344cd1fd0a4f28419497f9722a3daafe3b4186f6b6457e08280a380f35b90503461021d578260031936011261021d57610a4e611264565b6006546001600160a01b038116929091908315610aa05750506001600160a01b03191660065560078290557f07bab537ff8d16ec2fb554ca7aa91e3b61ebb32d18d2012205e9d717f2e25b808280a280f35b51633ea0a0f560e01b8152fd5b82843461034f57602036600319011261034f57507f00000000000000000000000000000000000000000000000000000000000000006001600160a01b03163303610b1157610b05602092610aff611365565b3561160f565b90600160025551908152f35b51638d1af8bd60e01b8152fd5b90503461021d578260031936011261021d5760209250549051908152f35b5050346101ae57816003193601126101ae5760209051620151808152f35b8383346101ae57816003193601126101ae57610b74611264565b600654926001600160a01b0390818516908115610bf9576007544210610beb5750837f886fc3173aea111da43037e3be9e3c7c15dd3fffa5c5eca51ce940e2620bf8cf9495600354906001600160601b0360a01b90848284161760035516600655816007558451938116845216176020820152a180f35b835163621e25c360e01b8152fd5b8351633ea0a0f560e01b8152fd5b5050346101ae57816003193601126101ae576020905161a8c08152f35b833461034f578060031936011261034f57610c3d611264565b610c45611365565b610c4d611a70565b600160025580f35b90503461021d578160031936011261021d577f0000000000000000000000000000000000000000000000000000000000000000918135906001600160a01b03908185163303610f9457610ca6611365565b8215610f8557670de0b6b3a764000093848411610f77576024354211610f695784610cd285835461128f565b0494610ce08560055461128f565b049285158015610f61575b610f5257806003541690887f000000000000000000000000000000000000000000000000000000000000000092803b156101ae578190608487518094819363577270cd60e01b8352888a8401528b60248401528d6044840152600160648401525af18015610f4857610f35575b5060035484516338b2e47960e01b81528481018481523060208281019190915294928416908590839081906040010381845afa918215610f2b579085918d93610ef8575b5087516327f3a0d160e01b815287810194855230602086015293849190829081906040015b03915afa918215610eee578b92610ebf575b508455600555817f00000000000000000000000000000000000000000000000000000000000000009360248651809481936370a0823160e01b8352309083015287165afa918215610eb5578992610e7d575b505090815f80516020611bfe83398151915297610e61959493610e6c575b50505051938493846040919493926060820195825260208201520152565b0390a1600160025580f35b610e75926113a4565b5f8080610e43565b90809594939250813d8311610eae575b610e9781836112de565b810103126103385792519192909186610e61610e25565b503d610e8d565b84513d8b823e3d90fd5b9091508381813d8311610ee7575b610ed781836112de565b810103126103385751905f610dd3565b503d610ecd565b86513d8d823e3d90fd5b8281939294503d8311610f24575b610f1081836112de565b810103126103385751908490610dc1610d9c565b503d610f06565b87513d8e823e3d90fd5b610f41909991996112b6565b975f610d58565b85513d8c823e3d90fd5b509051631f2a200560e01b8152fd5b508315610ceb565b9051631ab7da6b60e01b8152fd5b90516391decc1f60e01b8152fd5b51631f2a200560e01b81528390fd5b51638d1af8bd60e01b81528390fd5b5050346101ae57816003193601126101ae576020905160018152f35b9190503461021d578260031936011261021d57600354815163cbfb476960e01b81527f0000000000000000000000000000000000000000000000000000000000000000938101938452306020808601919091529093909184918290036040019082906001600160a01b03165afa91821561107b578392611044575b6020838351908152f35b9091506020813d8211611073575b8161105f602093836112de565b8101031261021d576020925051905f61103a565b3d9150611052565b81513d85823e3d90fd5b5050346101ae57816003193601126101ae5760065490516001600160a01b039091168152602090f35b5050346101ae57816003193601126101ae57602090516107d08152f35b5050346101ae57816003193601126101ae576020906007549051908152f35b9190503461021d57602036600319011261021d5781356001600160a01b0381811693918490036111fd5761111c611264565b83156111ee5760035416918284146111e15760085480151590816111b8575b506111ab57836001600160601b0360a01b6006541617600655620151804201918242116111985750816020917f86a650fffd38162ddc30827607c2ba0f631d4d72b6adb95ab7836eeaf7d72561936007554260085551908152a380f35b634e487b7160e01b865260119052602485fd5b5163fd7af65f60e01b8152fd5b905061a8c081018091116111ce5742105f61113b565b634e487b7160e01b865260118352602486fd5b5163e3b3da3160e01b8152fd5b509051633b136dc160e11b8152fd5b8480fd5b5050346101ae57816003193601126101ae5760035490516001600160a01b039091168152602090f35b8490346101ae57816003193601126101ae576020907f00000000000000000000000000000000000000000000000000000000000000008152f35b5f546001600160a01b0316330361127757565b60405163118cdaa760e01b8152336004820152602490fd5b818102929181159184041417156112a257565b634e487b7160e01b5f52601160045260245ffd5b67ffffffffffffffff81116112ca57604052565b634e487b7160e01b5f52604160045260245ffd5b90601f8019910116810190811067ffffffffffffffff8211176112ca57604052565b905f602091828151910182855af11561135a575f513d61135157506001600160a01b0381163b155b61132f5750565b604051635274afe760e01b81526001600160a01b039091166004820152602490fd5b60011415611328565b6040513d5f823e3d90fd5b60028054146113745760028055565b604051633ee5aeb560e01b8152600490fd5b8115611390570490565b634e487b7160e01b5f52601260045260245ffd5b60405163a9059cbb60e01b60208201526001600160a01b039290921660248301526044808301939093529181526113e09161071e6064836112de565b565b9190915f83820193841291129080158216911516176112a257565b6004541580156114e6575b6114e05760035460405163cbfb476960e01b81527f0000000000000000000000000000000000000000000000000000000000000000600482015230602482015290602090829060449082906001600160a01b03165afa90811561135a575f916114af575b5061147a60055491826113e2565b905f8213156114a95780156114a957612710918281029281840414901517156112a2576114a691611386565b90565b50505f90565b906020823d82116114d8575b816114c8602093836112de565b8101031261034f5750515f61146c565b3d91506114bb565b61271090565b5060055415611408565b600454156115ff576115006113fd565b610bb881111561150e575050565b60035460405163cbfb476960e01b81527f0000000000000000000000000000000000000000000000000000000000000000600482015230602482015290602090829060449082906001600160a01b03165afa90811561135a575f916115cd575b5060607fd3b69849f08b5d976bec72595edb9669e393bb5e5d6d390dc869742adf8464e5916005546040519185835260208301526040820152a16107d081106115b5575050565b10156113e0576040516314cb4e9d60e11b8152600490fd5b906020823d82116115f7575b816115e6602093836112de565b8101031261034f575051606061156e565b3d91506115d9565b50565b919082039182116112a257565b905f918015611a5e57600554928315611a5957670de0b6b3a7640000918281029081048303611a45578461164291611386565b828111611a3e575b604080516370a0823160e01b8082527f00000000000000000000000000000000000000000000000000000000000000006001600160a01b038181166004808601829052949a9098919795966020969594937f00000000000000000000000000000000000000000000000000000000000000008a8116949291898f602481895afa9b8c15611a3457899c611a02575b8a9b9c9d9e9f50889a999a5495856116f0868961128f565b04956116fc868361128f565b0496861515806119f9575b611779575b5050505050505050906024918751998a94859384528301525afa92831561176f57509161173f575b506114a69250611602565b905082813d8311611768575b61175581836112de565b81010312610338576114a691515f611734565b503d61174b565b51903d90823e3d90fd5b879b50906117908761179794959697989993611602565b8b55611602565b6005558060035416907f000000000000000000000000000000000000000000000000000000000000000091803b156119f5578b838f8c838f9560849351968795869463577270cd60e01b865285015260248401528c6044840152600160648401525af180156119d8576119e2575b506003548d516338b2e47960e01b81528a8101848152306020820152909392909116908d90849081906040010381845afa9182156119d8578d918f918c928f9561199e575b516327f3a0d160e01b81529283019081523060208201529194508491829081906040015b03915afa918215611994578b92611965575b5088556005558a519086825230888301528a82602481895afa91821561195b57908b98979695949392918b92611914575b50985f80516020611bfe833981519152949392826024999a9b6118f294611903575b5050508c51938493846040919493926060820195825260208201520152565b0390a190915f80808080808061170c565b61190c926113a4565b5f80806118d3565b809250899195949398993d8311611954575b61193081836112de565b8101031261033857518a979692939192915f80516020611bfe8339815191526118b1565b503d611926565b8c513d8c823e3d90fd5b9091508b81813d831161198d575b61197d81836112de565b810103126103385751905f611880565b503d611973565b8d513d8d823e3d90fd5b5092859194508092503d83116119d1575b6119b981836112de565b8101031261033857898e928e9261186e95519461184a565b503d6119af565b8e513d8e823e3d90fd5b6119ee909b919b6112b6565b995f611805565b8b80fd5b50871515611707565b9b50898f813d8311611a2d575b611a1981836112de565b810103126106d9579d519c9d8e9d9b6116d8565b503d611a0f565b8b513d8b823e3d90fd5b508161164a565b634e487b7160e01b82526011600452602482fd5b925050565b604051631f2a200560e01b8152600490fd5b6004545f8115611bf9576005549080600455806005556040915f80516020611bfe83398151915260608451670de0b6b3a764000081528660208201528386820152a16003546001600160a01b039490851691823b15611bf5579060848492838751958694859363577270cd60e01b85527f0000000000000000000000000000000000000000000000000000000000000000600486015260248501526044840152600160648401525af18015611beb579060249291611bdc575b5060207f0000000000000000000000000000000000000000000000000000000000000000948451938480926370a0823160e01b825230600483015288165afa92831561176f575091611bab575b5080611b80575050565b6113e0917f0000000000000000000000000000000000000000000000000000000000000000906113a4565b90506020813d8211611bd4575b81611bc5602093836112de565b8101031261033857515f611b76565b3d9150611bb8565b611be5906112b6565b5f611b29565b83513d84823e3d90fd5b8380fd5b505056fe8e1480132c7e8b87a596611b95b122a880835f60445ef0e961b878461251e987a2646970667358221220e871b99e3cbd1089433cff6c22382195c0274f28b023b40ca0a05d65d19ce19f64736f6c63430008140033","sourceMap":"597:18448:49:-:0;;;;;;;;;;;;;-1:-1:-1;;597:18448:49;;;;;;-1:-1:-1;;;;;597:18448:49;;;;;;;;;;;;;;;;;;;;;;;;;;;;:::i;:::-;;;;;;:::i;:::-;;;;;;;:::i;:::-;;;;4442:10;;1273:26:21;1269:95;;597:18448:49;;;;;;;;;;;;;-1:-1:-1;597:18448:49;4442:10;;597:18448;;;;-1:-1:-1;597:18448:49;;;;;;;;4442:10;;;597:18448;;3052:40:21;-1:-1:-1;3052:40:21;;597:18448:49;2061:21:37;1857:1;597:18448:49;;;4472:20;597:18448;;;;;4528:30;;;597:18448;;;4599:27;;;597:18448;;4665:27;;597:18448;;;4722:14;597:18448;4746:42;597:18448;;;;;;4851:28;;597:18448;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;4851:28;597:18448;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;-1:-1:-1;;;597:18448:49;;;;;;;;;;;;-1:-1:-1;;;597:18448:49;;;;;;;;;;-1:-1:-1;;;597:18448:49;;;;;;;;;;;;-1:-1:-1;;;597:18448:49;;;;;;;;;;-1:-1:-1;;;597:18448:49;;;;;;;;;;;;-1:-1:-1;;;597:18448:49;;;;;;;;-1:-1:-1;;;597:18448:49;;;;;;;;;;;;-1:-1:-1;;;597:18448:49;;;;;;;1269:95:21;597:18448:49;;-1:-1:-1;;;1322:31:21;;-1:-1:-1;1322:31:21;;;597:18448:49;;;1322:31:21;597:18448:49;-1:-1:-1;597:18448:49;;;;;;-1:-1:-1;597:18448:49;;;;;-1:-1:-1;597:18448:49;;;;-1:-1:-1;;;;;597:18448:49;;;;;;:::o","linkReferences":{}},"deployedBytecode":{"object":"0x6080604081815260049182361015610015575f80fd5b5f92833560e01c9182630deb6adc1461122a5750816317499381146112015781631a02cdf3146110ea5781631bcf7ca2146110cb578163295c2b86146110ae57816329fe00c3146110855781632dd4a53414610fbf5781633332c5be14610fa35781633bacfca914610c555781633fcf685d14610c24578163467f67f914610c075781635162221714610b5a578163533e1ecc14610b3c5781635786643c14610b1e5781636112fe2e14610aad578163664ad03c14610a34578163715018a6146109cf57816379ba5097146109485781638da5cb5b1461092057816392e3601a14610901578163a5f352b7146108dd578163b2016bd414610899578163b44b3a8f146107b4578163b8d1e8901461036f578163bdeb345114610352578163c869623214610269578163e0c2f9351461024a578163e30c397814610221578163f2fde38b146101b2575063fbfa77cf1461016c575f80fd5b346101ae57816003193601126101ae57517f00000000000000000000000000000000000000000000000000000000000000006001600160a01b03168152602090f35b5080fd5b8390346101ae5760203660031901126101ae57356001600160a01b038181169182900361021d576101e1611264565b600180546001600160a01b031916831790558254167f38d16b8cac22d99fc7c124b9cd0de2d3fa1faef420bfe791d8c362d765e227008380a380f35b8280fd5b5050346101ae57816003193601126101ae5760015490516001600160a01b039091168152602090f35b5050346101ae57816003193601126101ae576020906008549051908152f35b82843461034f578060031936011261034f57825460055460035484516338b2e47960e01b81527f0000000000000000000000000000000000000000000000000000000000000000968101968752306020808901919091529296939590949390929185918290036040019082906001600160a01b03165afa918215610344579161030b575b519283526020830193909352506040810191909152606090f35b0390f35b90506020823d821161033c575b81610325602093836112de565b81010312610338576103079151906102ed565b5f80fd5b3d9150610318565b9051903d90823e3d90fd5b80fd5b5050346101ae57816003193601126101ae5760209051610bb88152f35b9190503461021d57606036600319011261021d576024918035908335906001600160a01b03907f0000000000000000000000000000000000000000000000000000000000000000821633036107a6576103c6611365565b831580801561079e575b61078f576044354211610780576127109081850285810483148615171561076e576107d0918288029288840414171561076e571061075f577f00000000000000000000000000000000000000000000000000000000000000009286516020946323b872dd60e01b86830152338a8301523060448301528660648301526064825260a082019167ffffffffffffffff928181108482111761072d578a526104769082611300565b898360035416928a51938d89818c6104c6896104b8858201938863095ea7b360e01b9b8c8752840160209093929193604081019460018060a01b031681520152565b03601f1981018b528a6112de565b88519082895af1903d8151918361073f575b505050156106e7575b5050505050888160035416987f000000000000000000000000000000000000000000000000000000000000000099803b1561021d57879160848c8580948e519687958694631ef80cab60e11b86528d8601528401528d604484015260016064840152623567e0f180156106dd576106c5575b505060035487516338b2e47960e01b81528481018a81523060208201529099929091169085908a9081906040010381845afa9889156106bb578a99610684575b5087516327f3a0d160e01b8152848101928352306020840152929185918491829081906040015b03915afa91821561067a578992610629575b5082547f3b1f2f3ca0c73d20356c3574f88fe4d4aae2bc312ffcb4823dbd36e6e7550d359861061294939290911561062357506106076113fd565b925b556005556114f0565b8351928352820152a1600160025580f35b92610609565b9291508383813d8311610673575b61064181836112de565b8101031261033857915190917f3b1f2f3ca0c73d20356c3574f88fe4d4aae2bc312ffcb4823dbd36e6e7550d356105cc565b503d610637565b87513d8b823e3d90fd5b9098508481819493943d83116106b4575b61069f81836112de565b810103126103385751979091906105ba610593565b503d610695565b88513d8c823e3d90fd5b6106ce906112b6565b6106d957885f610553565b8880fd5b89513d84823e3d90fd5b8b5192898401528c8301528c60448301526044825260808201908282109082111761072d5761072393929161071e918c5282611300565b611300565b5f808080806104e1565b8b604188634e487b7160e01b5f52525ffd5b5090915061075757508584163b15155b5f8f806104d8565b60011461074f565b50845163d637f8f160e01b8152fd5b634e487b7160e01b8a5260118452888afd5b508451631ab7da6b60e01b8152fd5b508451631f2a200560e01b8152fd5b5083156103d0565b8451638d1af8bd60e01b8152fd5b90503461021d578260031936011261021d57600354825163cbfb476960e01b81527f000000000000000000000000000000000000000000000000000000000000000092810192835230602080850191909152909492909185918290036040019082906001600160a01b03165afa92831561088d578193610858575b5061083e6020936005546113e2565b90808213156108505750905b51908152f35b90509061084a565b92506020833d8211610885575b81610872602093836112de565b810103126103385791519161083e61082f565b3d9150610865565b509051903d90823e3d90fd5b5050346101ae57816003193601126101ae57517f00000000000000000000000000000000000000000000000000000000000000006001600160a01b03168152602090f35b5050346101ae57816003193601126101ae576020906108fa6113fd565b9051908152f35b5050346101ae57816003193601126101ae576020906005549051908152f35b5050346101ae57816003193601126101ae57905490516001600160a01b039091168152602090f35b9190503461021d578260031936011261021d57600154916001600160a01b039133838516036109b85750506001600160601b0360a01b8092166001555f549133908316175f553391167f8be0079c531659141344cd1fd0a4f28419497f9722a3daafe3b4186f6b6457e05f80a380f35b60249250519063118cdaa760e01b82523390820152fd5b833461034f578060031936011261034f576109e8611264565b600180546001600160a01b03199081169091555f80549182168155906001600160a01b03167f8be0079c531659141344cd1fd0a4f28419497f9722a3daafe3b4186f6b6457e08280a380f35b90503461021d578260031936011261021d57610a4e611264565b6006546001600160a01b038116929091908315610aa05750506001600160a01b03191660065560078290557f07bab537ff8d16ec2fb554ca7aa91e3b61ebb32d18d2012205e9d717f2e25b808280a280f35b51633ea0a0f560e01b8152fd5b82843461034f57602036600319011261034f57507f00000000000000000000000000000000000000000000000000000000000000006001600160a01b03163303610b1157610b05602092610aff611365565b3561160f565b90600160025551908152f35b51638d1af8bd60e01b8152fd5b90503461021d578260031936011261021d5760209250549051908152f35b5050346101ae57816003193601126101ae5760209051620151808152f35b8383346101ae57816003193601126101ae57610b74611264565b600654926001600160a01b0390818516908115610bf9576007544210610beb5750837f886fc3173aea111da43037e3be9e3c7c15dd3fffa5c5eca51ce940e2620bf8cf9495600354906001600160601b0360a01b90848284161760035516600655816007558451938116845216176020820152a180f35b835163621e25c360e01b8152fd5b8351633ea0a0f560e01b8152fd5b5050346101ae57816003193601126101ae576020905161a8c08152f35b833461034f578060031936011261034f57610c3d611264565b610c45611365565b610c4d611a70565b600160025580f35b90503461021d578160031936011261021d577f0000000000000000000000000000000000000000000000000000000000000000918135906001600160a01b03908185163303610f9457610ca6611365565b8215610f8557670de0b6b3a764000093848411610f77576024354211610f695784610cd285835461128f565b0494610ce08560055461128f565b049285158015610f61575b610f5257806003541690887f000000000000000000000000000000000000000000000000000000000000000092803b156101ae578190608487518094819363577270cd60e01b8352888a8401528b60248401528d6044840152600160648401525af18015610f4857610f35575b5060035484516338b2e47960e01b81528481018481523060208281019190915294928416908590839081906040010381845afa918215610f2b579085918d93610ef8575b5087516327f3a0d160e01b815287810194855230602086015293849190829081906040015b03915afa918215610eee578b92610ebf575b508455600555817f00000000000000000000000000000000000000000000000000000000000000009360248651809481936370a0823160e01b8352309083015287165afa918215610eb5578992610e7d575b505090815f80516020611bfe83398151915297610e61959493610e6c575b50505051938493846040919493926060820195825260208201520152565b0390a1600160025580f35b610e75926113a4565b5f8080610e43565b90809594939250813d8311610eae575b610e9781836112de565b810103126103385792519192909186610e61610e25565b503d610e8d565b84513d8b823e3d90fd5b9091508381813d8311610ee7575b610ed781836112de565b810103126103385751905f610dd3565b503d610ecd565b86513d8d823e3d90fd5b8281939294503d8311610f24575b610f1081836112de565b810103126103385751908490610dc1610d9c565b503d610f06565b87513d8e823e3d90fd5b610f41909991996112b6565b975f610d58565b85513d8c823e3d90fd5b509051631f2a200560e01b8152fd5b508315610ceb565b9051631ab7da6b60e01b8152fd5b90516391decc1f60e01b8152fd5b51631f2a200560e01b81528390fd5b51638d1af8bd60e01b81528390fd5b5050346101ae57816003193601126101ae576020905160018152f35b9190503461021d578260031936011261021d57600354815163cbfb476960e01b81527f0000000000000000000000000000000000000000000000000000000000000000938101938452306020808601919091529093909184918290036040019082906001600160a01b03165afa91821561107b578392611044575b6020838351908152f35b9091506020813d8211611073575b8161105f602093836112de565b8101031261021d576020925051905f61103a565b3d9150611052565b81513d85823e3d90fd5b5050346101ae57816003193601126101ae5760065490516001600160a01b039091168152602090f35b5050346101ae57816003193601126101ae57602090516107d08152f35b5050346101ae57816003193601126101ae576020906007549051908152f35b9190503461021d57602036600319011261021d5781356001600160a01b0381811693918490036111fd5761111c611264565b83156111ee5760035416918284146111e15760085480151590816111b8575b506111ab57836001600160601b0360a01b6006541617600655620151804201918242116111985750816020917f86a650fffd38162ddc30827607c2ba0f631d4d72b6adb95ab7836eeaf7d72561936007554260085551908152a380f35b634e487b7160e01b865260119052602485fd5b5163fd7af65f60e01b8152fd5b905061a8c081018091116111ce5742105f61113b565b634e487b7160e01b865260118352602486fd5b5163e3b3da3160e01b8152fd5b509051633b136dc160e11b8152fd5b8480fd5b5050346101ae57816003193601126101ae5760035490516001600160a01b039091168152602090f35b8490346101ae57816003193601126101ae576020907f00000000000000000000000000000000000000000000000000000000000000008152f35b5f546001600160a01b0316330361127757565b60405163118cdaa760e01b8152336004820152602490fd5b818102929181159184041417156112a257565b634e487b7160e01b5f52601160045260245ffd5b67ffffffffffffffff81116112ca57604052565b634e487b7160e01b5f52604160045260245ffd5b90601f8019910116810190811067ffffffffffffffff8211176112ca57604052565b905f602091828151910182855af11561135a575f513d61135157506001600160a01b0381163b155b61132f5750565b604051635274afe760e01b81526001600160a01b039091166004820152602490fd5b60011415611328565b6040513d5f823e3d90fd5b60028054146113745760028055565b604051633ee5aeb560e01b8152600490fd5b8115611390570490565b634e487b7160e01b5f52601260045260245ffd5b60405163a9059cbb60e01b60208201526001600160a01b039290921660248301526044808301939093529181526113e09161071e6064836112de565b565b9190915f83820193841291129080158216911516176112a257565b6004541580156114e6575b6114e05760035460405163cbfb476960e01b81527f0000000000000000000000000000000000000000000000000000000000000000600482015230602482015290602090829060449082906001600160a01b03165afa90811561135a575f916114af575b5061147a60055491826113e2565b905f8213156114a95780156114a957612710918281029281840414901517156112a2576114a691611386565b90565b50505f90565b906020823d82116114d8575b816114c8602093836112de565b8101031261034f5750515f61146c565b3d91506114bb565b61271090565b5060055415611408565b600454156115ff576115006113fd565b610bb881111561150e575050565b60035460405163cbfb476960e01b81527f0000000000000000000000000000000000000000000000000000000000000000600482015230602482015290602090829060449082906001600160a01b03165afa90811561135a575f916115cd575b5060607fd3b69849f08b5d976bec72595edb9669e393bb5e5d6d390dc869742adf8464e5916005546040519185835260208301526040820152a16107d081106115b5575050565b10156113e0576040516314cb4e9d60e11b8152600490fd5b906020823d82116115f7575b816115e6602093836112de565b8101031261034f575051606061156e565b3d91506115d9565b50565b919082039182116112a257565b905f918015611a5e57600554928315611a5957670de0b6b3a7640000918281029081048303611a45578461164291611386565b828111611a3e575b604080516370a0823160e01b8082527f00000000000000000000000000000000000000000000000000000000000000006001600160a01b038181166004808601829052949a9098919795966020969594937f00000000000000000000000000000000000000000000000000000000000000008a8116949291898f602481895afa9b8c15611a3457899c611a02575b8a9b9c9d9e9f50889a999a5495856116f0868961128f565b04956116fc868361128f565b0496861515806119f9575b611779575b5050505050505050906024918751998a94859384528301525afa92831561176f57509161173f575b506114a69250611602565b905082813d8311611768575b61175581836112de565b81010312610338576114a691515f611734565b503d61174b565b51903d90823e3d90fd5b879b50906117908761179794959697989993611602565b8b55611602565b6005558060035416907f000000000000000000000000000000000000000000000000000000000000000091803b156119f5578b838f8c838f9560849351968795869463577270cd60e01b865285015260248401528c6044840152600160648401525af180156119d8576119e2575b506003548d516338b2e47960e01b81528a8101848152306020820152909392909116908d90849081906040010381845afa9182156119d8578d918f918c928f9561199e575b516327f3a0d160e01b81529283019081523060208201529194508491829081906040015b03915afa918215611994578b92611965575b5088556005558a519086825230888301528a82602481895afa91821561195b57908b98979695949392918b92611914575b50985f80516020611bfe833981519152949392826024999a9b6118f294611903575b5050508c51938493846040919493926060820195825260208201520152565b0390a190915f80808080808061170c565b61190c926113a4565b5f80806118d3565b809250899195949398993d8311611954575b61193081836112de565b8101031261033857518a979692939192915f80516020611bfe8339815191526118b1565b503d611926565b8c513d8c823e3d90fd5b9091508b81813d831161198d575b61197d81836112de565b810103126103385751905f611880565b503d611973565b8d513d8d823e3d90fd5b5092859194508092503d83116119d1575b6119b981836112de565b8101031261033857898e928e9261186e95519461184a565b503d6119af565b8e513d8e823e3d90fd5b6119ee909b919b6112b6565b995f611805565b8b80fd5b50871515611707565b9b50898f813d8311611a2d575b611a1981836112de565b810103126106d9579d519c9d8e9d9b6116d8565b503d611a0f565b8b513d8b823e3d90fd5b508161164a565b634e487b7160e01b82526011600452602482fd5b925050565b604051631f2a200560e01b8152600490fd5b6004545f8115611bf9576005549080600455806005556040915f80516020611bfe83398151915260608451670de0b6b3a764000081528660208201528386820152a16003546001600160a01b039490851691823b15611bf5579060848492838751958694859363577270cd60e01b85527f0000000000000000000000000000000000000000000000000000000000000000600486015260248501526044840152600160648401525af18015611beb579060249291611bdc575b5060207f0000000000000000000000000000000000000000000000000000000000000000948451938480926370a0823160e01b825230600483015288165afa92831561176f575091611bab575b5080611b80575050565b6113e0917f0000000000000000000000000000000000000000000000000000000000000000906113a4565b90506020813d8211611bd4575b81611bc5602093836112de565b8101031261033857515f611b76565b3d9150611bb8565b611be5906112b6565b5f611b29565b83513d84823e3d90fd5b8380fd5b505056fe8e1480132c7e8b87a596611b95b122a880835f60445ef0e961b878461251e987a2646970667358221220e871b99e3cbd1089433cff6c22382195c0274f28b023b40ca0a05d65d19ce19f64736f6c63430008140033","sourceMap":"597:18448:49:-:0;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;9546:56;597:18448;9546:56;;;597:18448;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;10349:56;597:18448;10349:56;;;597:18448;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;756:30;-1:-1:-1;;;;;597:18448:49;;;;;;;;;;;;;;;;;;-1:-1:-1;;597:18448:49;;;;;-1:-1:-1;;;;;597:18448:49;;;;;;;;;1500:62:21;;:::i;:::-;597:18448:49;;;-1:-1:-1;;;;;;597:18448:49;;;;;;;;1777:43:22;597:18448:49;;1777:43:22;597:18448:49;;;;;;;;;;;;;;;;;;;;;;;;-1:-1:-1;;;;;597:18448:49;;;;;;;;;;;;;;;;;;;;;;;;2649:36;597:18448;;;;;;;;;;;;;;;;;;;;;;;10008:17;597:18448;;;;;-1:-1:-1;;;10042:57:49;;10071:12;10042:57;;;597:18448;;;10093:4;10042:57;597:18448;;;;;;;;;;;;;;;;10042:57;597:18448;;10042:57;;;597:18448;10042:57;;597:18448;;-1:-1:-1;;;;;597:18448:49;10042:57;;;;;;;;;;597:18448;;;;;;;;;;;;-1:-1:-1;597:18448:49;;;;;;;;;;;;;;10042:57;;;;;;;;;;;;;;;;;:::i;:::-;;;597:18448;;;;;;;10042:57;;;597:18448;;;;10042:57;;;-1:-1:-1;10042:57:49;;;597:18448;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;1961:4;597:18448;;;;;;;;;;;;-1:-1:-1;;597:18448:49;;;;;;;;;;;;-1:-1:-1;;;;;597:18448:49;3976:5;597:18448;;3962:10;:19;3958:43;;2466:103:37;;:::i;:::-;5472:17:49;;:36;;;;;597:18448;5468:61;;597:18448;;5607:15;:26;5603:56;;5970:5;597:18448;;;;;;;;;;;;;;;1689:4;597:18448;;;;;;;;;;;;;5957:60;5953:127;;6149:15;597:18448;;;;;;;;1745:53:33;;;;3962:10:49;1745:53:33;;;597:18448:49;6202:4;597:18448;;;;;;;;;;1745:53:33;;597:18448:49;;;;;;;;;;;;;;;;;1745:53:33;;;;:::i;:::-;597:18448:49;;;;;;;;4515:47:33;;;;;;;;;;;597:18448:49;;;;;4515:47:33;;;;;;597:18448:49;;;;;;;;;;;;;;;;;;;;;4515:47:33;;1745:53;;4515:47;;;;;;:::i;:::-;9086:199;;;;;;;;;;;9301:80;;;;597:18448:49;4577:45:33;;;;4573:201;;597:18448:49;;;;;;;;;;;6525:12;;6468:150;;;;;;597:18448;;;;;;;;;;;;;;;;;6468:150;;;;;597:18448;;;;;;;;;;;;;;6503:7;6468:150;;;;;;;597:18448;-1:-1:-1;;597:18448:49;;;;-1:-1:-1;;;6816:57:49;;;;;597:18448;;;6202:4;597:18448;;;;;;;;;;;6202:4;;597:18448;;;;;;6816:57;;;;;;;;;;;;;;597:18448;-1:-1:-1;597:18448:49;;-1:-1:-1;;;6910:63:49;;;;;597:18448;;;6202:4;597:18448;;;;;;;;;;;;;;;;6910:63;;;;;;;;;;;;;;597:18448;-1:-1:-1;597:18448:49;;7404:43;;7375:12;;597:18448;;;;7075:19;:47;;7097:17;;;:::i;:::-;7075:47;;597:18448;7226:36;597:18448;7375:12;:::i;:::-;597:18448;;;;;;;;7404:43;597:18448;3068:21:37;597:18448:49;;;7075:47;;;;6910:63;;;;;;;;;;;;;;;;;:::i;:::-;;;597:18448;;;;;;6910:63;;7404:43;6910:63;;;;;;;;597:18448;;;;;;;;;6816:57;;;;;;;;;;;;;;;;;;;;:::i;:::-;;;597:18448;;;;;;6816:57;;597:18448;6910:63;6816:57;;;;;;;;597:18448;;;;;;;;;6468:150;;;;:::i;:::-;597:18448;;6468:150;;;;597:18448;;;;6468:150;597:18448;;;;;;;;;4573:201:33;597:18448:49;;4665:43:33;;;;;;;;597:18448:49;;;;;;;4665:43:33;;597:18448:49;;;;;;;;;;;;;4750:12:33;597:18448:49;;;4665:43:33;597:18448:49;;;4665:43:33;;:::i;:::-;4750:12;:::i;:::-;4573:201;;;;;;;597:18448:49;;;;;;;;;;;;9301:80:33;-1:-1:-1;9313:67:33;;-1:-1:-1;9313:15:33;;597:18448:49;;;;9331:26:33;:30;;9313:67;9301:80;;;;;9313:67;597:18448:49;9364:16:33;9313:67;;5953:127:49;-1:-1:-1;597:18448:49;;-1:-1:-1;;;6040:29:49;;;597:18448;-1:-1:-1;;;597:18448:49;;;;;;;;5603:56;-1:-1:-1;597:18448:49;;-1:-1:-1;;;5642:17:49;;;5468:61;-1:-1:-1;597:18448:49;;-1:-1:-1;;;5517:12:49;;;5472:36;5493:15;;;5472:36;;3958:43;597:18448;;-1:-1:-1;;;3990:11:49;;;597:18448;;;;;;;;;;;;;;;;;;-1:-1:-1;;;10349:56:49;;10377:12;10349:56;;;597:18448;;;10399:4;10349:56;597:18448;;;;;;;;;;10349:56;;597:18448;;10349:56;;;597:18448;10349:56;;597:18448;;-1:-1:-1;;;;;597:18448:49;10349:56;;;;;;;;;;;597:18448;;10435:31;10349:56;597:18448;10442:17;597:18448;10435:31;:::i;:::-;10540:40;:14;;;597:18448;;;10540:40;;;597:18448;;;;;10540:40;;;;;;10349:56;;;;;;;;;;;;;;;;;:::i;:::-;;;597:18448;;;;;;;10435:31;10349:56;;;;;-1:-1:-1;10349:56:49;;;597:18448;;;;;;;;;;;;;;;;;;;;;;;;;;843:39;-1:-1:-1;;;;;597:18448:49;;;;;;;;;;;;;;;;;;;;;;;;:::i;:::-;;;;;;;;;;;;;;;;;;;;;;;1213:32;597:18448;;;;;;;;;;;;;;;;;;;;;;;;;-1:-1:-1;;;;;597:18448:49;;;;;;;;;;;;;;;;;;;;;;;1311:13:22;597:18448:49;;-1:-1:-1;;;;;597:18448:49;735:10:34;597:18448:49;;;2339:24:22;2335:96;;597:18448:49;;-1:-1:-1;;;;;597:18448:49;;;;;1311:13:22;597:18448:49;;;735:10:34;;597:18448:49;;;;;;735:10:34;597:18448:49;;3052:40:21;597:18448:49;3052:40:21;;597:18448:49;;2335:96:22;597:18448:49;;;;2386:34:22;;;;;;735:10:34;2386:34:22;;;597:18448:49;2386:34:22;597:18448:49;;;;;;;;;;;;;1500:62:21;;:::i;:::-;2093:20:22;597:18448:49;;-1:-1:-1;;;;;;597:18448:49;;;;;;;;;;;;;;;-1:-1:-1;;;;;597:18448:49;3052:40:21;597:18448:49;;3052:40:21;597:18448:49;;;;;;;;;;;;;;;;1500:62:21;;:::i;:::-;16977:19:49;597:18448;-1:-1:-1;;;;;597:18448:49;;;;;;16969:42;;16965:74;;-1:-1:-1;;;;;;;;597:18448:49;16977:19;597:18448;17165:31;597:18448;;;17212:40;597:18448;;17212:40;597:18448;;16965:74;597:18448;-1:-1:-1;;;17020:19:49;;;597:18448;;;;;;;;-1:-1:-1;;597:18448:49;;;;-1:-1:-1;3976:5:49;-1:-1:-1;;;;;597:18448:49;3962:10;:19;3958:43;;2531:1:37;597:18448:49;2466:103:37;;;:::i;:::-;597:18448:49;2531:1:37;:::i;:::-;597:18448:49;;3068:21:37;597:18448:49;;;;;;3958:43;597:18448;-1:-1:-1;;;3990:11:49;;;597:18448;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;2090:8;597:18448;;;;;;;;;;;;;;;;;1500:62:21;;:::i;:::-;17568:19:49;597:18448;;-1:-1:-1;;;;;597:18448:49;;;;;17560:42;;17556:74;;17662:27;597:18448;17644:15;:45;17640:78;;597:18448;;18043:55;597:18448;;;;;-1:-1:-1;;;;;597:18448:49;;;;;;;;;;;17568:19;597:18448;;17662:27;597:18448;;;;;;;;;;;;;;18043:55;597:18448;;17640:78;597:18448;;-1:-1:-1;;;17698:20:49;;;17556:74;597:18448;;-1:-1:-1;;;17611:19:49;;;597:18448;;;;;;;;;;;;;;;;;2288:8;597:18448;;;;;;;;;;;;;;;;1500:62:21;;:::i;:::-;2466:103:37;;:::i;:::-;2531:1;;:::i;:::-;1857;3068:21;597:18448:49;;;;;;;;;;;;;;;;;3976:5;;597:18448;;;-1:-1:-1;;;;;597:18448:49;;;;3962:10;:19;3958:43;;2466:103:37;;:::i;:::-;7907:15:49;;7903:40;;7970:4;7957:17;;;;7953:49;;597:18448;;8080:15;:26;8076:56;;597:18448;8209:28;597:18448;;;8209:28;:::i;:::-;597:18448;;8283:30;597:18448;8283:17;597:18448;8283:30;:::i;:::-;597:18448;8336:19;;;:44;;;;597:18448;8332:69;;597:18448;;;;8506:12;;;8463:144;;;;;;597:18448;;;;;;;;;;;;8463:144;;;;;;597:18448;;;;;;;;;;;;;;;;8463:144;;;;;;;;597:18448;-1:-1:-1;597:18448:49;;;;-1:-1:-1;;;8709:57:49;;;;;597:18448;;;8760:4;597:18448;;;;;;;;;;;;;;;;;;;;;8709:57;;;;;;;;;;;;;;;;;597:18448;-1:-1:-1;597:18448:49;;-1:-1:-1;;;8803:63:49;;;;;597:18448;;;8760:4;597:18448;;;;;;;;;;;;;;8803:63;;;;;;;;;;;;;;597:18448;;;;8283:17;597:18448;9103:15;;597:18448;;;;;;;;;;;9103:40;;8760:4;9103:40;;;597:18448;;;9103:40;;;;;;;;;;;597:18448;9157:11;;;;-1:-1:-1;;;;;;;;;;;9157:11:49;9254:63;9157:11;;;9153:86;;597:18448;;;;;9254:63;;;;597:18448;;;;;;;;;;;;;;;;;;9254:63;;;;597:18448;3068:21:37;597:18448:49;;;9153:86;9220:7;;;:::i;:::-;9153:86;;;;;9103:40;;;;;;;;;;;;;;;;;;;:::i;:::-;;;597:18448;;;;;;9103:40;;;;597:18448;9254:63;9103:40;;;;;;;;597:18448;;;;;;;;;8803:63;;;;;;;;;;;;;;;;;:::i;:::-;;;597:18448;;;;;8803:63;;;;;;;;;;597:18448;;;;;;;;;8709:57;;;;;;;;;;;;;;;;;:::i;:::-;;;597:18448;;;;;;;;8803:63;8709:57;;;;;;;;597:18448;;;;;;;;;8463:144;;;;;;;:::i;:::-;;;;;;597:18448;;;;;;;;;8332:69;-1:-1:-1;597:18448:49;;-1:-1:-1;;;8389:12:49;;;8336:44;8359:21;;;8336:44;;8076:56;597:18448;;-1:-1:-1;;;8115:17:49;;;7953:49;597:18448;;-1:-1:-1;;;7983:19:49;;;7903:40;597:18448;-1:-1:-1;;;7931:12:49;;597:18448;;7931:12;3958:43;597:18448;-1:-1:-1;;;3990:11:49;;597:18448;;3990:11;597:18448;;;;;;;;;;;;;;;;;1350:4;597:18448;;;;;;;;;;;;;;;;;;;;;;-1:-1:-1;;;9546:56:49;;9574:12;9546:56;;;597:18448;;;9596:4;9546:56;597:18448;;;;;;;;;9546:56;;597:18448;;9546:56;;;597:18448;9546:56;;597:18448;;-1:-1:-1;;;;;597:18448:49;9546:56;;;;;;;;;;;597:18448;9546:56;597:18448;;;;;;;9546:56;;;;;;;;;;;;;;;;;;:::i;:::-;;;597:18448;;;;9546:56;597:18448;;;9546:56;;;;;;;-1:-1:-1;9546:56:49;;;597:18448;;;;;;;;;;;;;;;;;;;;;;;2359:40;597:18448;;;-1:-1:-1;;;;;597:18448:49;;;;;;;;;;;;;;;;;;;;;;;;;1689:4;597:18448;;;;;;;;;;;;;;;;;;;2471:42;597:18448;;;;;;;;;;;;;;;;-1:-1:-1;;597:18448:49;;;;;;-1:-1:-1;;;;;597:18448:49;;;;;;;;;;1500:62:21;;:::i;:::-;15966:25:49;;15962:55;;597:18448;;;16031:36;;;;16027:69;;16250:21;597:18448;16250:25;;;:88;;;;597:18448;16246:150;;;597:18448;-1:-1:-1;;;;;597:18448:49;;16406:48;597:18448;;;16406:48;597:18448;2090:8;16494:15;597:18448;16494:15;;;597:18448;;;;;;;16623:131;597:18448;16464:70;597:18448;16494:15;16250:21;597:18448;;;;;16623:131;597:18448;;;-1:-1:-1;;;597:18448:49;;;;;;;;16246:150;597:18448;-1:-1:-1;;;16361:24:49;;;16250:88;597:18448;;2288:8;597:18448;;;;;;;16279:15;:59;16250:88;;;597:18448;-1:-1:-1;;;597:18448:49;;;;;;;;16027:69;597:18448;-1:-1:-1;;;16076:20:49;;;15962:55;-1:-1:-1;597:18448:49;;-1:-1:-1;;;16000:17:49;;;597:18448;;;;;;;;;;;;;;;;;;;;;;-1:-1:-1;;;;;597:18448:49;;;;;;;;;;;;;;;;;;;;;;;1022:37;;597:18448;;;1796:162:21;1710:6;597:18448:49;-1:-1:-1;;;;;597:18448:49;735:10:34;1855:23:21;1851:101;;1796:162::o;1851:101::-;597:18448:49;;-1:-1:-1;;;1901:40:21;;735:10:34;1901:40:21;;;597:18448:49;;;1901:40:21;597:18448:49;;;;;;;;;;;;;;;;:::o;:::-;;;;;;;;;;;;;;;;;;;;:::o;:::-;;;;;;;;;;;;;;1745:53:33;;;597:18448:49;;;;;;;;;;;;;;;;:::o;7686:720:33:-;;-1:-1:-1;7823:421:33;7686:720;7823:421;;;;;;;;;;;;-1:-1:-1;7823:421:33;;8258:15;;-1:-1:-1;;;;;;597:18448:49;;8276:26:33;:31;8258:68;8254:146;;7686:720;:::o;8254:146::-;597:18448:49;;-1:-1:-1;;;8349:40:33;;-1:-1:-1;;;;;597:18448:49;;;8349:40:33;;;597:18448:49;;;8349:40:33;8258:68;8325:1;8310:16;;8258:68;;7823:421;;;;-1:-1:-1;7823:421:33;;;;;2575:307:37;2702:7;597:18448:49;;2702:18:37;2698:86;;2702:7;597:18448:49;;2575:307:37:o;2698:86::-;597:18448:49;;-1:-1:-1;;;2743:30:37;;;;;597:18448:49;;;;;;;:::o;:::-;;;;;;;;;;;;1219:160:33;597:18448:49;;-1:-1:-1;;;1328:43:33;;;;-1:-1:-1;;;;;597:18448:49;;;;1328:43:33;;;597:18448:49;;;;;;;;;1328:43:33;;;;;;597:18448:49;;1328:43:33;:::i;:::-;1219:160::o;597:18448:49:-;;;;;;;;;;;;;;;;;;;;;;;;:::o;10982:815::-;11147:15;597:18448;11147:20;:46;;;;10982:815;11143:111;;11277:12;597:18448;;;-1:-1:-1;;;11277:56:49;;11305:12;11147:15;11277:56;;597:18448;11327:4;597:18448;;;;;11277:56;;597:18448;;;;;;-1:-1:-1;;;;;597:18448:49;11277:56;;;;;;;-1:-1:-1;11277:56:49;;;10982:815;597:18448;11366:31;11373:17;597:18448;11366:31;;;:::i;:::-;11412:18;-1:-1:-1;11412:18:49;;;11408:71;;11565:22;;11561:89;;11764:5;597:18448;;;;;;;;;;;;;;;11738:52;;;:::i;:::-;10982:815;:::o;11561:89::-;11603:8;;-1:-1:-1;11603:8:49;:::o;11277:56::-;;;;;;;;;;;;;;;;:::i;:::-;;;597:18448;;;;;;11277:56;;;;;;-1:-1:-1;11277:56:49;;11143:111;11216:5;11209:12;:::o;11147:46::-;597:18448;11171:17;597:18448;11171:22;11147:46;;12100:1124;12182:15;597:18448;12182:20;12178:33;;12264:17;;:::i;:::-;1961:4;12354:54;;;12350:868;;12100:1124;;:::o;12350:868::-;12437:12;597:18448;;;-1:-1:-1;;;12437:56:49;;12465:12;12182:15;12437:56;;597:18448;12487:4;597:18448;;;;;12437:56;;597:18448;;;;;;-1:-1:-1;;;;;597:18448:49;12437:56;;;;;;;-1:-1:-1;12437:56:49;;;12350:868;597:18448;;12512:61;597:18448;12555:17;597:18448;;;;;;;12437:56;597:18448;;;;;;;12512:61;1689:4;12758:44;;12754:454;;12100:1124;;:::o;12754:454::-;12914:39;;12910:162;;597:18448;;-1:-1:-1;;;13168:25:49;;12182:15;;13168:25;12437:56;;;;;;;;;;;;;;;;:::i;:::-;;;597:18448;;;;-1:-1:-1;597:18448:49;;12437:56;;;;;-1:-1:-1;12437:56:49;;12178:33;12204:7;:::o;597:18448::-;;;;;;;;;;:::o;13439:2116::-;;597:18448;13571:19;;;13567:44;;13625:17;597:18448;13625:22;;;13621:36;;13740:4;597:18448;;;;;;;;;;;13722:43;;;;:::i;:::-;13779:17;;;13775:40;;13439:2116;597:18448;;;-1:-1:-1;;;13901:32:49;;;13927:5;-1:-1:-1;;;;;597:18448:49;;;13901:32;;;;597:18448;;;;;;;;;;;13901:32;;597:18448;13901:32;597:18448;13901:15;597:18448;;;;;13927:5;13901:32;597:18448;;;;13901:32;;;;;;;;;;;13439:2116;597:18448;;;;;;;;;;;;14009:28;;;;;;:::i;:::-;597:18448;14083:30;;;;;:::i;:::-;597:18448;14136:18;;;;:42;;;13439:2116;14132:1249;;13439:2116;597:18448;;;;;;;;;;;;;15460:32;;;;;;;;;597:18448;15460:32;;;;;;;;;;;13439:2116;15520:28;;;;;:::i;15460:32::-;;;;;;;;;;;;;;;:::i;:::-;;;597:18448;;;;15520:28;597:18448;;15460:32;;;;;;;;;597:18448;;;;;;;;;14132:1249;14273:33;;;;;;14320:37;14273:33;;;;;;;;:::i;:::-;597:18448;;14320:37;:::i;:::-;13625:17;597:18448;;14420:12;597:18448;;14467:12;;14420:164;;;;;;597:18448;;;;;;;;;;;;;;;;;;14420:164;;;;597:18448;;;;;;;;;;;;;;;14420:164;;;;;;;;14132:1249;-1:-1:-1;14420:12:49;597:18448;;;-1:-1:-1;;;14773:57:49;;;;;597:18448;;;14824:4;597:18448;;;;;;;;;;;14824:4;;597:18448;;;;;;14773:57;;;;;;;;;;;;;;;;;;;;14132:1249;597:18448;-1:-1:-1;;;14874:63:49;;;;;597:18448;;;14824:4;597:18448;;;;;;-1:-1:-1;597:18448:49;;;;;;;;14874:63;;;;;;;;;;;;;;14132:1249;597:18448;;;13625:17;597:18448;;;15140:40;;;;14824:4;15140:40;;;597:18448;15140:40;;597:18448;15140:40;;;;;;;;;;;;;;;;;;;;;;;14132:1249;15198:11;;-1:-1:-1;;;;;;;;;;;15198:11:49;;;;597:18448;15198:11;;;15307:63;15198:11;15194:94;;14132:1249;597:18448;;;;;15307:63;;;;597:18448;;;;;;;;;;;;;;;;;;15307:63;;;;14132:1249;;;;;;;;;;;15194:94;15265:7;;;:::i;:::-;15194:94;;;;;15140:40;;;;;;;;;;;;;;;;;;;;;:::i;:::-;;;597:18448;;;;;;;15140:40;;;;;597:18448;-1:-1:-1;;;;;;;;;;;15140:40:49;;;;;;;;597:18448;;;;;;;;;14874:63;;;;;;;;;;;;;;;;;:::i;:::-;;;597:18448;;;;;14874:63;;;;;;;;;;597:18448;;;;;;;;;14773:57;;;;;;;;;;;;;;;;;;;;:::i;:::-;;;597:18448;;;;;;;;;14874:63;597:18448;;14773:57;;;;;;;;;597:18448;;;;;;;;;14420:164;;;;;;;:::i;:::-;;;;;;597:18448;;;14136:42;14158:20;;;;14136:42;;13901:32;;;;;;;;;;;;;;;;:::i;:::-;;;597:18448;;;;;;;;;;;13901:32;;;;;;;;597:18448;;;;;;;;;13775:40;13798:17;;13775:40;;597:18448;-1:-1:-1;;;597:18448:49;;;;;;;;13621:36;13649:8;-1:-1:-1;;13649:8:49:o;13567:44::-;597:18448;;-1:-1:-1;;;13599:12:49;;;;;18247:796;18327:15;597:18448;-1:-1:-1;18327:20:49;;18323:33;;18513:17;597:18448;;;18327:15;597:18448;;18513:17;597:18448;;;-1:-1:-1;;;;;;;;;;;597:18448:49;;;18670:4;597:18448;;;;;;;;;;;;18652:47;18754:12;597:18448;-1:-1:-1;;;;;597:18448:49;;;;;18754:76;;;;;597:18448;;;;;;;;;;;;;;;18754:76;;18784:12;18327:15;18754:76;;597:18448;;;;;;;;;;;;;;18754:76;;;;;;;597:18448;18754:76;;;;18247:796;18901:15;597:18448;18901:15;597:18448;;;;;;;;;;18901:40;;18935:4;18327:15;18901:40;;597:18448;;;18901:40;;;;;;;;;;;18247:796;18955:11;;18951:86;;18247:796;;:::o;18951:86::-;19018:7;19011:5;;19018:7;;:::i;18901:40::-;;;597:18448;18901:40;;;;;;;;;597:18448;18901:40;;;:::i;:::-;;;597:18448;;;;;18901:40;;;;;;-1:-1:-1;18901:40:49;;18754:76;;;;:::i;:::-;;;;;597:18448;;;;;;;;;18754:76;597:18448;;;18323:33;18349:7;;:::o","linkReferences":{},"immutableReferences":{"49438":[{"start":383,"length":32},{"start":919,"length":32},{"start":2755,"length":32},{"start":3177,"length":32},{"start":5723,"length":32},{"start":7046,"length":32}],"49442":[{"start":1034,"length":32},{"start":2222,"length":32},{"start":3548,"length":32},{"start":5789,"length":32},{"start":6958,"length":32}],"49449":[{"start":657,"length":32},{"start":1263,"length":32},{"start":2007,"length":32},{"start":3320,"length":32},{"start":4067,"length":32},{"start":4673,"length":32},{"start":5150,"length":32},{"start":5408,"length":32},{"start":6050,"length":32},{"start":6882,"length":32}]}},"methodIdentifiers":{"IS_LONG()":"3332c5be","LIQUIDATION_WARNING_THRESHOLD_BPS()":"bdeb3451","MIN_COLLATERAL_RATIO_BPS()":"295c2b86","PERP_PROVIDER_TIMELOCK()":"533e1ecc","PROPOSAL_COOLDOWN()":"467f67f9","acceptOwnership()":"79ba5097","cancelPerpProviderProposal()":"664ad03c","collateralToken()":"b2016bd4","currentCollateral()":"92e3601a","currentNotional()":"5786643c","decreasePosition(uint256,uint256)":"3bacfca9","emergencyClosePosition()":"3fcf685d","executePerpProviderChange()":"51622217","gbpUsdMarket()":"0deb6adc","getHealthFactor()":"a5f352b7","getPositionDetails()":"c8696232","getPositionPnL()":"2dd4a534","getPositionValue()":"b44b3a8f","increasePosition(uint256,uint256,uint256)":"b8d1e890","lastProposalTimestamp()":"e0c2f935","owner()":"8da5cb5b","pendingOwner()":"e30c3978","pendingPerpProvider()":"29fe00c3","perpProvider()":"17499381","perpProviderChangeTimestamp()":"1bcf7ca2","proposePerpProviderChange(address)":"1a02cdf3","renounceOwnership()":"715018a6","transferOwnership(address)":"f2fde38b","vault()":"fbfa77cf","withdrawCollateral(uint256)":"6112fe2e"},"rawMetadata":"{\"compiler\":{\"version\":\"0.8.20+commit.a1b79de6\"},\"language\":\"Solidity\",\"output\":{\"abi\":[{\"inputs\":[{\"internalType\":\"address\",\"name\":\"_vault\",\"type\":\"address\"},{\"internalType\":\"address\",\"name\":\"_collateralToken\",\"type\":\"address\"},{\"internalType\":\"address\",\"name\":\"_perpProvider\",\"type\":\"address\"},{\"internalType\":\"bytes32\",\"name\":\"_gbpUsdMarket\",\"type\":\"bytes32\"}],\"stateMutability\":\"nonpayable\",\"type\":\"constructor\"},{\"inputs\":[],\"name\":\"DeadlineExpired\",\"type\":\"error\"},{\"inputs\":[],\"name\":\"InsufficientCollateralRatio\",\"type\":\"error\"},{\"inputs\":[],\"name\":\"InvalidProvider\",\"type\":\"error\"},{\"inputs\":[],\"name\":\"InvalidShareRatio\",\"type\":\"error\"},{\"inputs\":[],\"name\":\"NoPendingProvider\",\"type\":\"error\"},{\"inputs\":[],\"name\":\"OnlyVault\",\"type\":\"error\"},{\"inputs\":[{\"internalType\":\"address\",\"name\":\"owner\",\"type\":\"address\"}],\"name\":\"OwnableInvalidOwner\",\"type\":\"error\"},{\"inputs\":[{\"internalType\":\"address\",\"name\":\"account\",\"type\":\"address\"}],\"name\":\"OwnableUnauthorizedAccount\",\"type\":\"error\"},{\"inputs\":[],\"name\":\"PositionNearLiquidation\",\"type\":\"error\"},{\"inputs\":[],\"name\":\"ProposalCooldownActive\",\"type\":\"error\"},{\"inputs\":[],\"name\":\"ProviderNotChanged\",\"type\":\"error\"},{\"inputs\":[],\"name\":\"ReentrancyGuardReentrantCall\",\"type\":\"error\"},{\"inputs\":[{\"internalType\":\"address\",\"name\":\"token\",\"type\":\"address\"}],\"name\":\"SafeERC20FailedOperation\",\"type\":\"error\"},{\"inputs\":[],\"name\":\"TimelockNotExpired\",\"type\":\"error\"},{\"inputs\":[],\"name\":\"ZeroAmount\",\"type\":\"error\"},{\"anonymous\":false,\"inputs\":[{\"indexed\":false,\"internalType\":\"uint256\",\"name\":\"healthFactor\",\"type\":\"uint256\"},{\"indexed\":false,\"internalType\":\"int256\",\"name\":\"pnl\",\"type\":\"int256\"},{\"indexed\":false,\"internalType\":\"uint256\",\"name\":\"collateral\",\"type\":\"uint256\"}],\"name\":\"LiquidationWarning\",\"type\":\"event\"},{\"anonymous\":false,\"inputs\":[{\"indexed\":true,\"internalType\":\"address\",\"name\":\"previousOwner\",\"type\":\"address\"},{\"indexed\":true,\"internalType\":\"address\",\"name\":\"newOwner\",\"type\":\"address\"}],\"name\":\"OwnershipTransferStarted\",\"type\":\"event\"},{\"anonymous\":false,\"inputs\":[{\"indexed\":true,\"internalType\":\"address\",\"name\":\"previousOwner\",\"type\":\"address\"},{\"indexed\":true,\"internalType\":\"address\",\"name\":\"newOwner\",\"type\":\"address\"}],\"name\":\"OwnershipTransferred\",\"type\":\"event\"},{\"anonymous\":false,\"inputs\":[{\"indexed\":true,\"internalType\":\"address\",\"name\":\"cancelledProvider\",\"type\":\"address\"}],\"name\":\"PerpProviderProposalCancelled\",\"type\":\"event\"},{\"anonymous\":false,\"inputs\":[{\"indexed\":true,\"internalType\":\"address\",\"name\":\"oldProvider\",\"type\":\"address\"},{\"indexed\":true,\"internalType\":\"address\",\"name\":\"newProvider\",\"type\":\"address\"},{\"indexed\":false,\"internalType\":\"uint256\",\"name\":\"activationTime\",\"type\":\"uint256\"}],\"name\":\"PerpProviderProposed\",\"type\":\"event\"},{\"anonymous\":false,\"inputs\":[{\"indexed\":false,\"internalType\":\"address\",\"name\":\"oldProvider\",\"type\":\"address\"},{\"indexed\":false,\"internalType\":\"address\",\"name\":\"newProvider\",\"type\":\"address\"}],\"name\":\"PerpProviderUpdated\",\"type\":\"event\"},{\"anonymous\":false,\"inputs\":[{\"indexed\":false,\"internalType\":\"uint256\",\"name\":\"shareRatio\",\"type\":\"uint256\"},{\"indexed\":false,\"internalType\":\"uint256\",\"name\":\"notionalReduced\",\"type\":\"uint256\"},{\"indexed\":false,\"internalType\":\"uint256\",\"name\":\"collateralReduced\",\"type\":\"uint256\"}],\"name\":\"PositionDecreased\",\"type\":\"event\"},{\"anonymous\":false,\"inputs\":[{\"indexed\":false,\"internalType\":\"uint256\",\"name\":\"notionalSize\",\"type\":\"uint256\"},{\"indexed\":false,\"internalType\":\"uint256\",\"name\":\"collateral\",\"type\":\"uint256\"}],\"name\":\"PositionIncreased\",\"type\":\"event\"},{\"inputs\":[],\"name\":\"IS_LONG\",\"outputs\":[{\"internalType\":\"bool\",\"name\":\"\",\"type\":\"bool\"}],\"stateMutability\":\"view\",\"type\":\"function\"},{\"inputs\":[],\"name\":\"LIQUIDATION_WARNING_THRESHOLD_BPS\",\"outputs\":[{\"internalType\":\"uint256\",\"name\":\"\",\"type\":\"uint256\"}],\"stateMutability\":\"view\",\"type\":\"function\"},{\"inputs\":[],\"name\":\"MIN_COLLATERAL_RATIO_BPS\",\"outputs\":[{\"internalType\":\"uint256\",\"name\":\"\",\"type\":\"uint256\"}],\"stateMutability\":\"view\",\"type\":\"function\"},{\"inputs\":[],\"name\":\"PERP_PROVIDER_TIMELOCK\",\"outputs\":[{\"internalType\":\"uint256\",\"name\":\"\",\"type\":\"uint256\"}],\"stateMutability\":\"view\",\"type\":\"function\"},{\"inputs\":[],\"name\":\"PROPOSAL_COOLDOWN\",\"outputs\":[{\"internalType\":\"uint256\",\"name\":\"\",\"type\":\"uint256\"}],\"stateMutability\":\"view\",\"type\":\"function\"},{\"inputs\":[],\"name\":\"acceptOwnership\",\"outputs\":[],\"stateMutability\":\"nonpayable\",\"type\":\"function\"},{\"inputs\":[],\"name\":\"cancelPerpProviderProposal\",\"outputs\":[],\"stateMutability\":\"nonpayable\",\"type\":\"function\"},{\"inputs\":[],\"name\":\"collateralToken\",\"outputs\":[{\"internalType\":\"contract IERC20\",\"name\":\"\",\"type\":\"address\"}],\"stateMutability\":\"view\",\"type\":\"function\"},{\"inputs\":[],\"name\":\"currentCollateral\",\"outputs\":[{\"internalType\":\"uint256\",\"name\":\"\",\"type\":\"uint256\"}],\"stateMutability\":\"view\",\"type\":\"function\"},{\"inputs\":[],\"name\":\"currentNotional\",\"outputs\":[{\"internalType\":\"uint256\",\"name\":\"\",\"type\":\"uint256\"}],\"stateMutability\":\"view\",\"type\":\"function\"},{\"inputs\":[{\"internalType\":\"uint256\",\"name\":\"shareRatio\",\"type\":\"uint256\"},{\"internalType\":\"uint256\",\"name\":\"deadline\",\"type\":\"uint256\"}],\"name\":\"decreasePosition\",\"outputs\":[],\"stateMutability\":\"nonpayable\",\"type\":\"function\"},{\"inputs\":[],\"name\":\"emergencyClosePosition\",\"outputs\":[],\"stateMutability\":\"nonpayable\",\"type\":\"function\"},{\"inputs\":[],\"name\":\"executePerpProviderChange\",\"outputs\":[],\"stateMutability\":\"nonpayable\",\"type\":\"function\"},{\"inputs\":[],\"name\":\"gbpUsdMarket\",\"outputs\":[{\"internalType\":\"bytes32\",\"name\":\"\",\"type\":\"bytes32\"}],\"stateMutability\":\"view\",\"type\":\"function\"},{\"inputs\":[],\"name\":\"getHealthFactor\",\"outputs\":[{\"internalType\":\"uint256\",\"name\":\"healthFactor\",\"type\":\"uint256\"}],\"stateMutability\":\"view\",\"type\":\"function\"},{\"inputs\":[],\"name\":\"getPositionDetails\",\"outputs\":[{\"internalType\":\"uint256\",\"name\":\"notional\",\"type\":\"uint256\"},{\"internalType\":\"uint256\",\"name\":\"collateral\",\"type\":\"uint256\"},{\"internalType\":\"uint256\",\"name\":\"size\",\"type\":\"uint256\"}],\"stateMutability\":\"view\",\"type\":\"function\"},{\"inputs\":[],\"name\":\"getPositionPnL\",\"outputs\":[{\"internalType\":\"int256\",\"name\":\"pnl\",\"type\":\"int256\"}],\"stateMutability\":\"view\",\"type\":\"function\"},{\"inputs\":[],\"name\":\"getPositionValue\",\"outputs\":[{\"internalType\":\"uint256\",\"name\":\"value\",\"type\":\"uint256\"}],\"stateMutability\":\"view\",\"type\":\"function\"},{\"inputs\":[{\"internalType\":\"uint256\",\"name\":\"notionalSize\",\"type\":\"uint256\"},{\"internalType\":\"uint256\",\"name\":\"collateral\",\"type\":\"uint256\"},{\"internalType\":\"uint256\",\"name\":\"deadline\",\"type\":\"uint256\"}],\"name\":\"increasePosition\",\"outputs\":[],\"stateMutability\":\"nonpayable\",\"type\":\"function\"},{\"inputs\":[],\"name\":\"lastProposalTimestamp\",\"outputs\":[{\"internalType\":\"uint256\",\"name\":\"\",\"type\":\"uint256\"}],\"stateMutability\":\"view\",\"type\":\"function\"},{\"inputs\":[],\"name\":\"owner\",\"outputs\":[{\"internalType\":\"address\",\"name\":\"\",\"type\":\"address\"}],\"stateMutability\":\"view\",\"type\":\"function\"},{\"inputs\":[],\"name\":\"pendingOwner\",\"outputs\":[{\"internalType\":\"address\",\"name\":\"\",\"type\":\"address\"}],\"stateMutability\":\"view\",\"type\":\"function\"},{\"inputs\":[],\"name\":\"pendingPerpProvider\",\"outputs\":[{\"internalType\":\"contract IPerpProvider\",\"name\":\"\",\"type\":\"address\"}],\"stateMutability\":\"view\",\"type\":\"function\"},{\"inputs\":[],\"name\":\"perpProvider\",\"outputs\":[{\"internalType\":\"contract IPerpProvider\",\"name\":\"\",\"type\":\"address\"}],\"stateMutability\":\"view\",\"type\":\"function\"},{\"inputs\":[],\"name\":\"perpProviderChangeTimestamp\",\"outputs\":[{\"internalType\":\"uint256\",\"name\":\"\",\"type\":\"uint256\"}],\"stateMutability\":\"view\",\"type\":\"function\"},{\"inputs\":[{\"internalType\":\"address\",\"name\":\"newProvider\",\"type\":\"address\"}],\"name\":\"proposePerpProviderChange\",\"outputs\":[],\"stateMutability\":\"nonpayable\",\"type\":\"function\"},{\"inputs\":[],\"name\":\"renounceOwnership\",\"outputs\":[],\"stateMutability\":\"nonpayable\",\"type\":\"function\"},{\"inputs\":[{\"internalType\":\"address\",\"name\":\"newOwner\",\"type\":\"address\"}],\"name\":\"transferOwnership\",\"outputs\":[],\"stateMutability\":\"nonpayable\",\"type\":\"function\"},{\"inputs\":[],\"name\":\"vault\",\"outputs\":[{\"internalType\":\"address\",\"name\":\"\",\"type\":\"address\"}],\"stateMutability\":\"view\",\"type\":\"function\"},{\"inputs\":[{\"internalType\":\"uint256\",\"name\":\"withdrawAmount\",\"type\":\"uint256\"}],\"name\":\"withdrawCollateral\",\"outputs\":[{\"internalType\":\"uint256\",\"name\":\"actualWithdrawn\",\"type\":\"uint256\"}],\"stateMutability\":\"nonpayable\",\"type\":\"function\"}],\"devdoc\":{\"details\":\"Abstracted to work with any IPerpProvider implementation (GMX, Avantis, etc.)\\u2705 FIX VULN-24: Uses Ownable2Step for safer ownership transfers\",\"errors\":{\"OwnableInvalidOwner(address)\":[{\"details\":\"The owner is not a valid owner account. (eg. `address(0)`)\"}],\"OwnableUnauthorizedAccount(address)\":[{\"details\":\"The caller account is not authorized to perform an operation.\"}],\"ReentrancyGuardReentrantCall()\":[{\"details\":\"Unauthorized reentrant call.\"}],\"SafeERC20FailedOperation(address)\":[{\"details\":\"An operation with an ERC-20 token failed.\"}]},\"kind\":\"dev\",\"methods\":{\"acceptOwnership()\":{\"details\":\"The new owner accepts the ownership transfer.\"},\"cancelPerpProviderProposal()\":{\"details\":\"\\u2705 FIX HIGH-1: Allow owner to cancel if needed\"},\"constructor\":{\"params\":{\"_collateralToken\":\"Address of the collateral token\",\"_gbpUsdMarket\":\"Market identifier for GBP/USD\",\"_perpProvider\":\"Address of the initial perp provider\",\"_vault\":\"Address of the vault\"}},\"decreasePosition(uint256,uint256)\":{\"details\":\"\\u2705 FIX HIGH-8: Deadline prevents stale price execution and MEV\",\"params\":{\"deadline\":\"Timestamp after which transaction reverts (prevents stale execution)\",\"shareRatio\":\"The proportion of the position to close (in 1e18 precision)\"}},\"emergencyClosePosition()\":{\"details\":\"\\u26a0\\ufe0f FIX CRITICAL: Follows CEI pattern to prevent reentrancy\"},\"executePerpProviderChange()\":{\"details\":\"\\u2705 FIX HIGH-1: Only executable after 24-hour timelock\\u2705 FIX MED-NEW-1: Resets proposal timestamp after successful execution\"},\"getHealthFactor()\":{\"details\":\"\\u2705 FIX HIGH-8: Monitor position health to prevent liquidations      healthFactor = (collateral + PnL) / (notionalSize / leverage) * 10000      If healthFactor < 3000 (30%), position is at risk of liquidation\",\"returns\":{\"healthFactor\":\"Health factor in basis points (10000 = 100% = fully collateralized)\"}},\"getPositionDetails()\":{\"returns\":{\"collateral\":\"Current collateral\",\"notional\":\"Current notional size\",\"size\":\"Position size from provider\"}},\"getPositionPnL()\":{\"returns\":{\"pnl\":\"The unrealized profit/loss (can be negative)\"}},\"getPositionValue()\":{\"returns\":{\"value\":\"Total position value in collateral token\"}},\"increasePosition(uint256,uint256,uint256)\":{\"details\":\"\\u2705 FIX HIGH-5: Now enforces minimum collateral ratio\\u2705 FIX HIGH-8: Deadline prevents stale price execution and MEV\",\"params\":{\"collateral\":\"Collateral amount to add (e.g., $200 for 5x leverage)\",\"deadline\":\"Timestamp after which transaction reverts (prevents stale execution)\",\"notionalSize\":\"Total notional size to achieve (e.g., $1000)\"}},\"owner()\":{\"details\":\"Returns the address of the current owner.\"},\"pendingOwner()\":{\"details\":\"Returns the address of the pending owner.\"},\"proposePerpProviderChange(address)\":{\"details\":\"\\u2705 FIX HIGH-1: Added timelock to prevent immediate malicious provider switch\\u2705 FIX MED-NEW-1: Added cooldown to prevent timelock bypass via proposal cycling\",\"params\":{\"newProvider\":\"Address of the new perp provider\"}},\"renounceOwnership()\":{\"details\":\"Leaves the contract without owner. It will not be possible to call `onlyOwner` functions. Can only be called by the current owner. NOTE: Renouncing ownership will leave the contract without an owner, thereby disabling any functionality that is only available to the owner.\"},\"transferOwnership(address)\":{\"details\":\"Starts the ownership transfer of the contract to a new account. Replaces the pending transfer if there is one. Can only be called by the current owner. Setting `newOwner` to the zero address is allowed; this can be used to cancel an initiated ownership transfer.\"},\"withdrawCollateral(uint256)\":{\"params\":{\"withdrawAmount\":\"Amount of collateral to withdraw\"},\"returns\":{\"actualWithdrawn\":\"Amount actually returned to vault\"}}},\"stateVariables\":{\"LIQUIDATION_WARNING_THRESHOLD_BPS\":{\"details\":\"\\u2705 FIX HIGH-8: Monitor health factor to prevent liquidations\"},\"MIN_COLLATERAL_RATIO_BPS\":{\"details\":\"\\u2705 FIX HIGH-5: Prevents undercollateralized positions\\u2705 SECURITY: More conservative 5x max leverage to protect against FX volatility\"},\"PROPOSAL_COOLDOWN\":{\"details\":\"\\u2705 FIX MED-NEW-1: Prevents timelock bypass via proposal cycling\"},\"lastProposalTimestamp\":{\"details\":\"\\u2705 FIX MED-NEW-1: Prevents rapid proposal cycling\"}},\"title\":\"PerpPositionManager\",\"version\":1},\"userdoc\":{\"events\":{\"LiquidationWarning(uint256,int256,uint256)\":{\"notice\":\"\\u2705 FIX HIGH-8: Emitted when position approaches liquidation\"},\"PerpProviderProposalCancelled(address)\":{\"notice\":\"Emitted when perp provider proposal is cancelled\"},\"PerpProviderProposed(address,address,uint256)\":{\"notice\":\"Emitted when perp provider change is proposed\"},\"PerpProviderUpdated(address,address)\":{\"notice\":\"Emitted when perp provider is updated\"},\"PositionDecreased(uint256,uint256,uint256)\":{\"notice\":\"Emitted when a position is decreased\"},\"PositionIncreased(uint256,uint256)\":{\"notice\":\"Emitted when a position is increased\"}},\"kind\":\"user\",\"methods\":{\"IS_LONG()\":{\"notice\":\"Whether positions are long (true) or short (false)\"},\"LIQUIDATION_WARNING_THRESHOLD_BPS()\":{\"notice\":\"Liquidation threshold (basis points, 3000 = 30% = warning level)\"},\"MIN_COLLATERAL_RATIO_BPS()\":{\"notice\":\"Minimum collateral ratio (basis points, 2000 = 20% = 5x max leverage)\"},\"PERP_PROVIDER_TIMELOCK()\":{\"notice\":\"Timelock for perp provider changes (24 hours)\"},\"PROPOSAL_COOLDOWN()\":{\"notice\":\"Cooldown period between proposals (12 hours)\"},\"cancelPerpProviderProposal()\":{\"notice\":\"Cancel a pending perp provider proposal\"},\"collateralToken()\":{\"notice\":\"The collateral token (e.g., USDC)\"},\"constructor\":{\"notice\":\"Constructor\"},\"currentCollateral()\":{\"notice\":\"Current total collateral in the position\"},\"currentNotional()\":{\"notice\":\"Current total notional position size\"},\"decreasePosition(uint256,uint256)\":{\"notice\":\"Decrease the perpetual position based on share ratio\"},\"emergencyClosePosition()\":{\"notice\":\"Emergency close all positions\"},\"executePerpProviderChange()\":{\"notice\":\"Execute perp provider change (step 2 of 2)\"},\"gbpUsdMarket()\":{\"notice\":\"The market identifier for GBP/USD\"},\"getHealthFactor()\":{\"notice\":\"Get position health factor\"},\"getPositionDetails()\":{\"notice\":\"Get current position details\"},\"getPositionPnL()\":{\"notice\":\"Get the current position's profit and loss\"},\"getPositionValue()\":{\"notice\":\"Get the total value of the position (collateral + PnL)\"},\"increasePosition(uint256,uint256,uint256)\":{\"notice\":\"Increase the perpetual position\"},\"lastProposalTimestamp()\":{\"notice\":\"Timestamp of last proposal (to enforce cooldown)\"},\"pendingPerpProvider()\":{\"notice\":\"Pending perp provider (during timelock)\"},\"perpProvider()\":{\"notice\":\"The perpetual DEX provider\"},\"perpProviderChangeTimestamp()\":{\"notice\":\"Timestamp when pending provider can be activated\"},\"proposePerpProviderChange(address)\":{\"notice\":\"Propose a new perp provider (step 1 of 2)\"},\"vault()\":{\"notice\":\"The vault that owns this position manager\"},\"withdrawCollateral(uint256)\":{\"notice\":\"Decrease position by withdrawing collateral amount\"}},\"notice\":\"Manages perpetual positions for GBP/USD hedging\",\"version\":1}},\"settings\":{\"compilationTarget\":{\"src/PerpPositionManager.sol\":\"PerpPositionManager\"},\"evmVersion\":\"shanghai\",\"libraries\":{},\"metadata\":{\"bytecodeHash\":\"ipfs\"},\"optimizer\":{\"enabled\":true,\"runs\":200},\"remappings\":[\":@chainlink/=lib/chainlink-brownie-contracts/\",\":@openzeppelin/=lib/openzeppelin-contracts/\",\":chainlink-brownie-contracts/=lib/chainlink-brownie-contracts/\",\":ds-test/=lib/morpho-blue-oracles/lib/forge-std/lib/ds-test/src/\",\":erc4626-tests/=lib/openzeppelin-contracts/lib/erc4626-tests/\",\":forge-std/=lib/forge-std/src/\",\":halmos-cheatcodes/=lib/openzeppelin-contracts/lib/halmos-cheatcodes/src/\",\":morpho-blue-oracles/=lib/morpho-blue-oracles/src/\",\":morpho-blue/=lib/morpho-blue-oracles/lib/morpho-blue/\",\":openzeppelin-contracts/=lib/openzeppelin-contracts/\"],\"viaIR\":true},\"sources\":{\"lib/openzeppelin-contracts/contracts/access/Ownable.sol\":{\"keccak256\":\"0xff6d0bb2e285473e5311d9d3caacb525ae3538a80758c10649a4d61029b017bb\",\"license\":\"MIT\",\"urls\":[\"bzz-raw://8ed324d3920bb545059d66ab97d43e43ee85fd3bd52e03e401f020afb0b120f6\",\"dweb:/ipfs/QmfEckWLmZkDDcoWrkEvMWhms66xwTLff9DDhegYpvHo1a\"]},\"lib/openzeppelin-contracts/contracts/access/Ownable2Step.sol\":{\"keccak256\":\"0xdcad8898fda432696597752e8ec361b87d85c82cb258115427af006dacf7128c\",\"license\":\"MIT\",\"urls\":[\"bzz-raw://e2c9d517f0c136d54bd00cd57959d25681d4d6273f5bbbc263afe228303772f0\",\"dweb:/ipfs/QmReNFjXBiufByiAAzfSQ2SM5r3qeUErn46BmN3yVRvrek\"]},\"lib/openzeppelin-contracts/contracts/interfaces/IERC1363.sol\":{\"keccak256\":\"0x9b6b3e7803bc5f2f8cd7ad57db8ac1def61a9930a5a3107df4882e028a9605d7\",\"license\":\"MIT\",\"urls\":[\"bzz-raw://da62d6be1f5c6edf577f0cb45666a8aa9c2086a4bac87d95d65f02e2f4c36a4b\",\"dweb:/ipfs/QmNkpvBpoCMvX8JwAFNSc5XxJ2q5BXJpL5L1txb4QkqVFF\"]},\"lib/openzeppelin-contracts/contracts/interfaces/IERC165.sol\":{\"keccak256\":\"0xde7e9fd9aee8d4f40772f96bb3b58836cbc6dfc0227014a061947f8821ea9724\",\"license\":\"MIT\",\"urls\":[\"bzz-raw://11fea9f8bc98949ac6709f0c1699db7430d2948137aa94d5a9e95a91f61a710a\",\"dweb:/ipfs/QmQdfRXxQjwP6yn3DVo1GHPpriKNcFghSPi94Z1oKEFUNS\"]},\"lib/openzeppelin-contracts/contracts/interfaces/IERC20.sol\":{\"keccak256\":\"0xce41876e78d1badc0512229b4d14e4daf83bc1003d7f83978d18e0e56f965b9c\",\"license\":\"MIT\",\"urls\":[\"bzz-raw://a2608291cb038b388d80b79a06b6118a42f7894ff67b7da10ec0dbbf5b2973ba\",\"dweb:/ipfs/QmWohqcBLbcxmA4eGPhZDXe5RYMMEEpFq22nfkaUMvTfw1\"]},\"lib/openzeppelin-contracts/contracts/token/ERC20/IERC20.sol\":{\"keccak256\":\"0xe06a3f08a987af6ad2e1c1e774405d4fe08f1694b67517438b467cecf0da0ef7\",\"license\":\"MIT\",\"urls\":[\"bzz-raw://df6f0c459663c9858b6cba2cda1d14a7d05a985bed6d2de72bd8e78c25ee79db\",\"dweb:/ipfs/QmeTTxZ7qVk9rjEv2R4CpCwdf8UMCcRqDNMvzNxHc3Fnn9\"]},\"lib/openzeppelin-contracts/contracts/token/ERC20/utils/SafeERC20.sol\":{\"keccak256\":\"0x4ea01544758fd2c7045961904686bfe232d2220a04ecaa2d6b08dac17827febf\",\"license\":\"MIT\",\"urls\":[\"bzz-raw://fabe6bef5167ae741dd8c22d7f81d3f9120bd61b290762a2e8f176712567d329\",\"dweb:/ipfs/QmSnEitJ6xmf1SSAUeZozD7Gx7h8bNnX3a1ZBzqeivsvVg\"]},\"lib/openzeppelin-contracts/contracts/utils/Context.sol\":{\"keccak256\":\"0x493033a8d1b176a037b2cc6a04dad01a5c157722049bbecf632ca876224dd4b2\",\"license\":\"MIT\",\"urls\":[\"bzz-raw://6a708e8a5bdb1011c2c381c9a5cfd8a9a956d7d0a9dc1bd8bcdaf52f76ef2f12\",\"dweb:/ipfs/Qmax9WHBnVsZP46ZxEMNRQpLQnrdE4dK8LehML1Py8FowF\"]},\"lib/openzeppelin-contracts/contracts/utils/ReentrancyGuard.sol\":{\"keccak256\":\"0x11a5a79827df29e915a12740caf62fe21ebe27c08c9ae3e09abe9ee3ba3866d3\",\"license\":\"MIT\",\"urls\":[\"bzz-raw://3cf0c69ab827e3251db9ee6a50647d62c90ba580a4d7bbff21f2bea39e7b2f4a\",\"dweb:/ipfs/QmZiKwtKU1SBX4RGfQtY7PZfiapbbu6SZ9vizGQD9UHjRA\"]},\"lib/openzeppelin-contracts/contracts/utils/introspection/IERC165.sol\":{\"keccak256\":\"0x79796192ec90263f21b464d5bc90b777a525971d3de8232be80d9c4f9fb353b8\",\"license\":\"MIT\",\"urls\":[\"bzz-raw://f6fda447a62815e8064f47eff0dd1cf58d9207ad69b5d32280f8d7ed1d1e4621\",\"dweb:/ipfs/QmfDRc7pxfaXB2Dh9np5Uf29Na3pQ7tafRS684wd3GLjVL\"]},\"src/PerpPositionManager.sol\":{\"keccak256\":\"0x98e60373cbc80e72a52825530ec6f5ad68747417302303cdbe1c312d60bf6d03\",\"license\":\"MIT\",\"urls\":[\"bzz-raw://29cf11743f70380805ce03e00d852f0217bd58f5fd0f39f5bd15c59bec9cad1f\",\"dweb:/ipfs/Qmed6LscqG8ypyu7NkkzarEd27PH92BA999xxxx8wufkLH\"]},\"src/interfaces/IPerpProvider.sol\":{\"keccak256\":\"0x63464e0c28e463a8de0d51823c80bfc0e42859fe2a72517c555b074a04b2f65f\",\"license\":\"MIT\",\"urls\":[\"bzz-raw://9962a60032af51fd290c8da87bf4f164a2158c4601f7490330bd271c33820287\",\"dweb:/ipfs/QmeJZJUhmR6BhK7LhHAp6GqMtth7b9qqsCV9bP3G1J52NE\"]}},\"version\":1}","metadata":{"compiler":{"version":"0.8.20+commit.a1b79de6"},"language":"Solidity","output":{"abi":[{"inputs":[{"internalType":"address","name":"_vault","type":"address"},{"internalType":"address","name":"_collateralToken","type":"address"},{"internalType":"address","name":"_perpProvider","type":"address"},{"internalType":"bytes32","name":"_gbpUsdMarket","type":"bytes32"}],"stateMutability":"nonpayable","type":"constructor"},{"inputs":[],"type":"error","name":"DeadlineExpired"},{"inputs":[],"type":"error","name":"InsufficientCollateralRatio"},{"inputs":[],"type":"error","name":"InvalidProvider"},{"inputs":[],"type":"error","name":"InvalidShareRatio"},{"inputs":[],"type":"error","name":"NoPendingProvider"},{"inputs":[],"type":"error","name":"OnlyVault"},{"inputs":[{"internalType":"address","name":"owner","type":"address"}],"type":"error","name":"OwnableInvalidOwner"},{"inputs":[{"internalType":"address","name":"account","type":"address"}],"type":"error","name":"OwnableUnauthorizedAccount"},{"inputs":[],"type":"error","name":"PositionNearLiquidation"},{"inputs":[],"type":"error","name":"ProposalCooldownActive"},{"inputs":[],"type":"error","name":"ProviderNotChanged"},{"inputs":[],"type":"error","name":"ReentrancyGuardReentrantCall"},{"inputs":[{"internalType":"address","name":"token","type":"address"}],"type":"error","name":"SafeERC20FailedOperation"},{"inputs":[],"type":"error","name":"TimelockNotExpired"},{"inputs":[],"type":"error","name":"ZeroAmount"},{"inputs":[{"internalType":"uint256","name":"healthFactor","type":"uint256","indexed":false},{"internalType":"int256","name":"pnl","type":"int256","indexed":false},{"internalType":"uint256","name":"collateral","type":"uint256","indexed":false}],"type":"event","name":"LiquidationWarning","anonymous":false},{"inputs":[{"internalType":"address","name":"previousOwner","type":"address","indexed":true},{"internalType":"address","name":"newOwner","type":"address","indexed":true}],"type":"event","name":"OwnershipTransferStarted","anonymous":false},{"inputs":[{"internalType":"address","name":"previousOwner","type":"address","indexed":true},{"internalType":"address","name":"newOwner","type":"address","indexed":true}],"type":"event","name":"OwnershipTransferred","anonymous":false},{"inputs":[{"internalType":"address","name":"cancelledProvider","type":"address","indexed":true}],"type":"event","name":"PerpProviderProposalCancelled","anonymous":false},{"inputs":[{"internalType":"address","name":"oldProvider","type":"address","indexed":true},{"internalType":"address","name":"newProvider","type":"address","indexed":true},{"internalType":"uint256","name":"activationTime","type":"uint256","indexed":false}],"type":"event","name":"PerpProviderProposed","anonymous":false},{"inputs":[{"internalType":"address","name":"oldProvider","type":"address","indexed":false},{"internalType":"address","name":"newProvider","type":"address","indexed":false}],"type":"event","name":"PerpProviderUpdated","anonymous":false},{"inputs":[{"internalType":"uint256","name":"shareRatio","type":"uint256","indexed":false},{"internalType":"uint256","name":"notionalReduced","type":"uint256","indexed":false},{"internalType":"uint256","name":"collateralReduced","type":"uint256","indexed":false}],"type":"event","name":"PositionDecreased","anonymous":false},{"inputs":[{"internalType":"uint256","name":"notionalSize","type":"uint256","indexed":false},{"internalType":"uint256","name":"collateral","type":"uint256","indexed":false}],"type":"event","name":"PositionIncreased","anonymous":false},{"inputs":[],"stateMutability":"view","type":"function","name":"IS_LONG","outputs":[{"internalType":"bool","name":"","type":"bool"}]},{"inputs":[],"stateMutability":"view","type":"function","name":"LIQUIDATION_WARNING_THRESHOLD_BPS","outputs":[{"internalType":"uint256","name":"","type":"uint256"}]},{"inputs":[],"stateMutability":"view","type":"function","name":"MIN_COLLATERAL_RATIO_BPS","outputs":[{"internalType":"uint256","name":"","type":"uint256"}]},{"inputs":[],"stateMutability":"view","type":"function","name":"PERP_PROVIDER_TIMELOCK","outputs":[{"internalType":"uint256","name":"","type":"uint256"}]},{"inputs":[],"stateMutability":"view","type":"function","name":"PROPOSAL_COOLDOWN","outputs":[{"internalType":"uint256","name":"","type":"uint256"}]},{"inputs":[],"stateMutability":"nonpayable","type":"function","name":"acceptOwnership"},{"inputs":[],"stateMutability":"nonpayable","type":"function","name":"cancelPerpProviderProposal"},{"inputs":[],"stateMutability":"view","type":"function","name":"collateralToken","outputs":[{"internalType":"contract IERC20","name":"","type":"address"}]},{"inputs":[],"stateMutability":"view","type":"function","name":"currentCollateral","outputs":[{"internalType":"uint256","name":"","type":"uint256"}]},{"inputs":[],"stateMutability":"view","type":"function","name":"currentNotional","outputs":[{"internalType":"uint256","name":"","type":"uint256"}]},{"inputs":[{"internalType":"uint256","name":"shareRatio","type":"uint256"},{"internalType":"uint256","name":"deadline","type":"uint256"}],"stateMutability":"nonpayable","type":"function","name":"decreasePosition"},{"inputs":[],"stateMutability":"nonpayable","type":"function","name":"emergencyClosePosition"},{"inputs":[],"stateMutability":"nonpayable","type":"function","name":"executePerpProviderChange"},{"inputs":[],"stateMutability":"view","type":"function","name":"gbpUsdMarket","outputs":[{"internalType":"bytes32","name":"","type":"bytes32"}]},{"inputs":[],"stateMutability":"view","type":"function","name":"getHealthFactor","outputs":[{"internalType":"uint256","name":"healthFactor","type":"uint256"}]},{"inputs":[],"stateMutability":"view","type":"function","name":"getPositionDetails","outputs":[{"internalType":"uint256","name":"notional","type":"uint256"},{"internalType":"uint256","name":"collateral","type":"uint256"},{"internalType":"uint256","name":"size","type":"uint256"}]},{"inputs":[],"stateMutability":"view","type":"function","name":"getPositionPnL","outputs":[{"internalType":"int256","name":"pnl","type":"int256"}]},{"inputs":[],"stateMutability":"view","type":"function","name":"getPositionValue","outputs":[{"internalType":"uint256","name":"value","type":"uint256"}]},{"inputs":[{"internalType":"uint256","name":"notionalSize","type":"uint256"},{"internalType":"uint256","name":"collateral","type":"uint256"},{"internalType":"uint256","name":"deadline","type":"uint256"}],"stateMutability":"nonpayable","type":"function","name":"increasePosition"},{"inputs":[],"stateMutability":"view","type":"function","name":"lastProposalTimestamp","outputs":[{"internalType":"uint256","name":"","type":"uint256"}]},{"inputs":[],"stateMutability":"view","type":"function","name":"owner","outputs":[{"internalType":"address","name":"","type":"address"}]},{"inputs":[],"stateMutability":"view","type":"function","name":"pendingOwner","outputs":[{"internalType":"address","name":"","type":"address"}]},{"inputs":[],"stateMutability":"view","type":"function","name":"pendingPerpProvider","outputs":[{"internalType":"contract IPerpProvider","name":"","type":"address"}]},{"inputs":[],"stateMutability":"view","type":"function","name":"perpProvider","outputs":[{"internalType":"contract IPerpProvider","name":"","type":"address"}]},{"inputs":[],"stateMutability":"view","type":"function","name":"perpProviderChangeTimestamp","outputs":[{"internalType":"uint256","name":"","type":"uint256"}]},{"inputs":[{"internalType":"address","name":"newProvider","type":"address"}],"stateMutability":"nonpayable","type":"function","name":"proposePerpProviderChange"},{"inputs":[],"stateMutability":"nonpayable","type":"function","name":"renounceOwnership"},{"inputs":[{"internalType":"address","name":"newOwner","type":"address"}],"stateMutability":"nonpayable","type":"function","name":"transferOwnership"},{"inputs":[],"stateMutability":"view","type":"function","name":"vault","outputs":[{"internalType":"address","name":"","type":"address"}]},{"inputs":[{"internalType":"uint256","name":"withdrawAmount","type":"uint256"}],"stateMutability":"nonpayable","type":"function","name":"withdrawCollateral","outputs":[{"internalType":"uint256","name":"actualWithdrawn","type":"uint256"}]}],"devdoc":{"kind":"dev","methods":{"acceptOwnership()":{"details":"The new owner accepts the ownership transfer."},"cancelPerpProviderProposal()":{"details":" FIX HIGH-1: Allow owner to cancel if needed"},"constructor":{"params":{"_collateralToken":"Address of the collateral token","_gbpUsdMarket":"Market identifier for GBP/USD","_perpProvider":"Address of the initial perp provider","_vault":"Address of the vault"}},"decreasePosition(uint256,uint256)":{"details":" FIX HIGH-8: Deadline prevents stale price execution and MEV","params":{"deadline":"Timestamp after which transaction reverts (prevents stale execution)","shareRatio":"The proportion of the position to close (in 1e18 precision)"}},"emergencyClosePosition()":{"details":" FIX CRITICAL: Follows CEI pattern to prevent reentrancy"},"executePerpProviderChange()":{"details":" FIX HIGH-1: Only executable after 24-hour timelock FIX MED-NEW-1: Resets proposal timestamp after successful execution"},"getHealthFactor()":{"details":" FIX HIGH-8: Monitor position health to prevent liquidations      healthFactor = (collateral + PnL) / (notionalSize / leverage) * 10000      If healthFactor < 3000 (30%), position is at risk of liquidation","returns":{"healthFactor":"Health factor in basis points (10000 = 100% = fully collateralized)"}},"getPositionDetails()":{"returns":{"collateral":"Current collateral","notional":"Current notional size","size":"Position size from provider"}},"getPositionPnL()":{"returns":{"pnl":"The unrealized profit/loss (can be negative)"}},"getPositionValue()":{"returns":{"value":"Total position value in collateral token"}},"increasePosition(uint256,uint256,uint256)":{"details":" FIX HIGH-5: Now enforces minimum collateral ratio FIX HIGH-8: Deadline prevents stale price execution and MEV","params":{"collateral":"Collateral amount to add (e.g., $200 for 5x leverage)","deadline":"Timestamp after which transaction reverts (prevents stale execution)","notionalSize":"Total notional size to achieve (e.g., $1000)"}},"owner()":{"details":"Returns the address of the current owner."},"pendingOwner()":{"details":"Returns the address of the pending owner."},"proposePerpProviderChange(address)":{"details":" FIX HIGH-1: Added timelock to prevent immediate malicious provider switch FIX MED-NEW-1: Added cooldown to prevent timelock bypass via proposal cycling","params":{"newProvider":"Address of the new perp provider"}},"renounceOwnership()":{"details":"Leaves the contract without owner. It will not be possible to call `onlyOwner` functions. Can only be called by the current owner. NOTE: Renouncing ownership will leave the contract without an owner, thereby disabling any functionality that is only available to the owner."},"transferOwnership(address)":{"details":"Starts the ownership transfer of the contract to a new account. Replaces the pending transfer if there is one. Can only be called by the current owner. Setting `newOwner` to the zero address is allowed; this can be used to cancel an initiated ownership transfer."},"withdrawCollateral(uint256)":{"params":{"withdrawAmount":"Amount of collateral to withdraw"},"returns":{"actualWithdrawn":"Amount actually returned to vault"}}},"version":1},"userdoc":{"kind":"user","methods":{"IS_LONG()":{"notice":"Whether positions are long (true) or short (false)"},"LIQUIDATION_WARNING_THRESHOLD_BPS()":{"notice":"Liquidation threshold (basis points, 3000 = 30% = warning level)"},"MIN_COLLATERAL_RATIO_BPS()":{"notice":"Minimum collateral ratio (basis points, 2000 = 20% = 5x max leverage)"},"PERP_PROVIDER_TIMELOCK()":{"notice":"Timelock for perp provider changes (24 hours)"},"PROPOSAL_COOLDOWN()":{"notice":"Cooldown period between proposals (12 hours)"},"cancelPerpProviderProposal()":{"notice":"Cancel a pending perp provider proposal"},"collateralToken()":{"notice":"The collateral token (e.g., USDC)"},"constructor":{"notice":"Constructor"},"currentCollateral()":{"notice":"Current total collateral in the position"},"currentNotional()":{"notice":"Current total notional position size"},"decreasePosition(uint256,uint256)":{"notice":"Decrease the perpetual position based on share ratio"},"emergencyClosePosition()":{"notice":"Emergency close all positions"},"executePerpProviderChange()":{"notice":"Execute perp provider change (step 2 of 2)"},"gbpUsdMarket()":{"notice":"The market identifier for GBP/USD"},"getHealthFactor()":{"notice":"Get position health factor"},"getPositionDetails()":{"notice":"Get current position details"},"getPositionPnL()":{"notice":"Get the current position's profit and loss"},"getPositionValue()":{"notice":"Get the total value of the position (collateral + PnL)"},"increasePosition(uint256,uint256,uint256)":{"notice":"Increase the perpetual position"},"lastProposalTimestamp()":{"notice":"Timestamp of last proposal (to enforce cooldown)"},"pendingPerpProvider()":{"notice":"Pending perp provider (during timelock)"},"perpProvider()":{"notice":"The perpetual DEX provider"},"perpProviderChangeTimestamp()":{"notice":"Timestamp when pending provider can be activated"},"proposePerpProviderChange(address)":{"notice":"Propose a new perp provider (step 1 of 2)"},"vault()":{"notice":"The vault that owns this position manager"},"withdrawCollateral(uint256)":{"notice":"Decrease position by withdrawing collateral amount"}},"version":1}},"settings":{"remappings":["@chainlink/=lib/chainlink-brownie-contracts/","@openzeppelin/=lib/openzeppelin-contracts/","chainlink-brownie-contracts/=lib/chainlink-brownie-contracts/","ds-test/=lib/morpho-blue-oracles/lib/forge-std/lib/ds-test/src/","erc4626-tests/=lib/openzeppelin-contracts/lib/erc4626-tests/","forge-std/=lib/forge-std/src/","halmos-cheatcodes/=lib/openzeppelin-contracts/lib/halmos-cheatcodes/src/","morpho-blue-oracles/=lib/morpho-blue-oracles/src/","morpho-blue/=lib/morpho-blue-oracles/lib/morpho-blue/","openzeppelin-contracts/=lib/openzeppelin-contracts/"],"optimizer":{"enabled":true,"runs":200},"metadata":{"bytecodeHash":"ipfs"},"compilationTarget":{"src/PerpPositionManager.sol":"PerpPositionManager"},"evmVersion":"shanghai","libraries":{},"viaIR":true},"sources":{"lib/openzeppelin-contracts/contracts/access/Ownable.sol":{"keccak256":"0xff6d0bb2e285473e5311d9d3caacb525ae3538a80758c10649a4d61029b017bb","urls":["bzz-raw://8ed324d3920bb545059d66ab97d43e43ee85fd3bd52e03e401f020afb0b120f6","dweb:/ipfs/QmfEckWLmZkDDcoWrkEvMWhms66xwTLff9DDhegYpvHo1a"],"license":"MIT"},"lib/openzeppelin-contracts/contracts/access/Ownable2Step.sol":{"keccak256":"0xdcad8898fda432696597752e8ec361b87d85c82cb258115427af006dacf7128c","urls":["bzz-raw://e2c9d517f0c136d54bd00cd57959d25681d4d6273f5bbbc263afe228303772f0","dweb:/ipfs/QmReNFjXBiufByiAAzfSQ2SM5r3qeUErn46BmN3yVRvrek"],"license":"MIT"},"lib/openzeppelin-contracts/contracts/interfaces/IERC1363.sol":{"keccak256":"0x9b6b3e7803bc5f2f8cd7ad57db8ac1def61a9930a5a3107df4882e028a9605d7","urls":["bzz-raw://da62d6be1f5c6edf577f0cb45666a8aa9c2086a4bac87d95d65f02e2f4c36a4b","dweb:/ipfs/QmNkpvBpoCMvX8JwAFNSc5XxJ2q5BXJpL5L1txb4QkqVFF"],"license":"MIT"},"lib/openzeppelin-contracts/contracts/interfaces/IERC165.sol":{"keccak256":"0xde7e9fd9aee8d4f40772f96bb3b58836cbc6dfc0227014a061947f8821ea9724","urls":["bzz-raw://11fea9f8bc98949ac6709f0c1699db7430d2948137aa94d5a9e95a91f61a710a","dweb:/ipfs/QmQdfRXxQjwP6yn3DVo1GHPpriKNcFghSPi94Z1oKEFUNS"],"license":"MIT"},"lib/openzeppelin-contracts/contracts/interfaces/IERC20.sol":{"keccak256":"0xce41876e78d1badc0512229b4d14e4daf83bc1003d7f83978d18e0e56f965b9c","urls":["bzz-raw://a2608291cb038b388d80b79a06b6118a42f7894ff67b7da10ec0dbbf5b2973ba","dweb:/ipfs/QmWohqcBLbcxmA4eGPhZDXe5RYMMEEpFq22nfkaUMvTfw1"],"license":"MIT"},"lib/openzeppelin-contracts/contracts/token/ERC20/IERC20.sol":{"keccak256":"0xe06a3f08a987af6ad2e1c1e774405d4fe08f1694b67517438b467cecf0da0ef7","urls":["bzz-raw://df6f0c459663c9858b6cba2cda1d14a7d05a985bed6d2de72bd8e78c25ee79db","dweb:/ipfs/QmeTTxZ7qVk9rjEv2R4CpCwdf8UMCcRqDNMvzNxHc3Fnn9"],"license":"MIT"},"lib/openzeppelin-contracts/contracts/token/ERC20/utils/SafeERC20.sol":{"keccak256":"0x4ea01544758fd2c7045961904686bfe232d2220a04ecaa2d6b08dac17827febf","urls":["bzz-raw://fabe6bef5167ae741dd8c22d7f81d3f9120bd61b290762a2e8f176712567d329","dweb:/ipfs/QmSnEitJ6xmf1SSAUeZozD7Gx7h8bNnX3a1ZBzqeivsvVg"],"license":"MIT"},"lib/openzeppelin-contracts/contracts/utils/Context.sol":{"keccak256":"0x493033a8d1b176a037b2cc6a04dad01a5c157722049bbecf632ca876224dd4b2","urls":["bzz-raw://6a708e8a5bdb1011c2c381c9a5cfd8a9a956d7d0a9dc1bd8bcdaf52f76ef2f12","dweb:/ipfs/Qmax9WHBnVsZP46ZxEMNRQpLQnrdE4dK8LehML1Py8FowF"],"license":"MIT"},"lib/openzeppelin-contracts/contracts/utils/ReentrancyGuard.sol":{"keccak256":"0x11a5a79827df29e915a12740caf62fe21ebe27c08c9ae3e09abe9ee3ba3866d3","urls":["bzz-raw://3cf0c69ab827e3251db9ee6a50647d62c90ba580a4d7bbff21f2bea39e7b2f4a","dweb:/ipfs/QmZiKwtKU1SBX4RGfQtY7PZfiapbbu6SZ9vizGQD9UHjRA"],"license":"MIT"},"lib/openzeppelin-contracts/contracts/utils/introspection/IERC165.sol":{"keccak256":"0x79796192ec90263f21b464d5bc90b777a525971d3de8232be80d9c4f9fb353b8","urls":["bzz-raw://f6fda447a62815e8064f47eff0dd1cf58d9207ad69b5d32280f8d7ed1d1e4621","dweb:/ipfs/QmfDRc7pxfaXB2Dh9np5Uf29Na3pQ7tafRS684wd3GLjVL"],"license":"MIT"},"src/PerpPositionManager.sol":{"keccak256":"0x98e60373cbc80e72a52825530ec6f5ad68747417302303cdbe1c312d60bf6d03","urls":["bzz-raw://29cf11743f70380805ce03e00d852f0217bd58f5fd0f39f5bd15c59bec9cad1f","dweb:/ipfs/Qmed6LscqG8ypyu7NkkzarEd27PH92BA999xxxx8wufkLH"],"license":"MIT"},"src/interfaces/IPerpProvider.sol":{"keccak256":"0x63464e0c28e463a8de0d51823c80bfc0e42859fe2a72517c555b074a04b2f65f","urls":["bzz-raw://9962a60032af51fd290c8da87bf4f164a2158c4601f7490330bd271c33820287","dweb:/ipfs/QmeJZJUhmR6BhK7LhHAp6GqMtth7b9qqsCV9bP3G1J52NE"],"license":"MIT"}},"version":1},"id":49}